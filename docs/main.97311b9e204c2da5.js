"use strict";(self.webpackChunkmonosushi2=self.webpackChunkmonosushi2||[]).push([[179],{5776:($t,ze,B)=>{B.d(ze,{ET:()=>Iv,hJ:()=>F_,oe:()=>Ev,JU:()=>bg,ad:()=>Sf,cf:()=>qg,IO:()=>el,pl:()=>yv,r7:()=>vv,ar:()=>Xs});var Ce,m=B(5861),se=B(534),Be=B(4537),M=B(7879),Q=B(9058),fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xe={},Ve=Ve||{},te=fe||self;function ce(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Pe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Qe="closure_uid_"+(1e9*Math.random()>>>0),Je=0;function Pt(i,e,n){return i.call.apply(i.bind,arguments)}function Ht(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function wt(i,e,n){return(wt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pt:Ht).apply(null,arguments)}function mn(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Wt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,u,l){for(var f=Array(arguments.length-2),C=2;C<arguments.length;C++)f[C-2]=arguments[C];return e.prototype[u].apply(s,f)}}function Le(){this.s=this.s,this.o=this.o}Le.prototype.s=!1,Le.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tt(i){Object.prototype.hasOwnProperty.call(i,Qe)&&i[Qe]||(i[Qe]=++Je)}(this)},Le.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ge=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function at(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function gt(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(ce(s)){const u=i.length||0,l=s.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=s[f]}else i.push(s)}}function rt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const n=()=>{};te.addEventListener("test",n,e),te.removeEventListener("test",n,e)}catch{}return i}();function Kt(i){return/^[\s\xa0]*$/.test(i)}function Cn(){var i=te.navigator;return i&&(i=i.userAgent)?i:""}function Ze(i){return-1!=Cn().indexOf(i)}function _n(i){return _n[" "](i),i}_n[" "]=function(){};var ve,i,Xt=Ze("Opera"),Ae=Ze("Trident")||Ze("MSIE"),Rt=Ze("Edge"),ue=Rt||Ae,pe=Ze("Gecko")&&!(-1!=Cn().toLowerCase().indexOf("webkit")&&!Ze("Edge"))&&!(Ze("Trident")||Ze("MSIE"))&&!Ze("Edge"),he=-1!=Cn().toLowerCase().indexOf("webkit")&&!Ze("Edge");function be(){var i=te.document;return i?i.documentMode:void 0}e:{var Ie="",Ue=(i=Cn(),pe?/rv:([^\);]+)(\)|;)/.exec(i):Rt?/Edge\/([\d\.]+)/.exec(i):Ae?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):he?/WebKit\/(\S+)/.exec(i):Xt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ue&&(Ie=Ue?Ue[1]:""),Ae){var He=be();if(null!=He&&He>parseFloat(Ie)){ve=String(He);break e}}ve=Ie}var Zt=te.document&&Ae&&(be()||parseInt(ve,10))||void 0;function bn(i,e){if(rt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(pe){e:{try{_n(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:yn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&bn.$.h.call(this)}}Wt(bn,rt);var yn={2:"touch",3:"pen",4:"mouse"};bn.prototype.h=function(){bn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Sn="closure_listenable_"+(1e6*Math.random()|0),Fr=0;function Pn(i,e,n,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=u,this.key=++Fr,this.fa=this.ia=!1}function Rr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Un(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function Er(i){const e={};for(const n in i)e[n]=i[n];return e}const Ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ti(i,e){let n,s;for(let u=1;u<arguments.length;u++){for(n in s=arguments[u],s)i[n]=s[n];for(let l=0;l<Ut.length;l++)n=Ut[l],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Dn(i){this.src=i,this.g={},this.h=0}function dr(i,e){var n=e.type;if(n in i.g){var l,s=i.g[n],u=Ge(s,e);(l=0<=u)&&Array.prototype.splice.call(s,u,1),l&&(Rr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function ln(i,e,n,s){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==s)return u}return-1}Dn.prototype.add=function(i,e,n,s,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=ln(i,e,s,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Pn(e,this.src,l,!!s,u)).ia=n,i.push(e)),e};var Jt="closure_lm_"+(1e6*Math.random()|0),rr={};function ni(i,e,n,s,u){if(s&&s.once)return $n(i,e,n,s,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)ni(i,e[l],n,s,u);return null}return n=Tr(n),i&&i[Sn]?i.O(e,n,Pe(s)?!!s.capture:!!s,u):Jn(i,e,n,!1,s,u)}function Jn(i,e,n,s,u,l){if(!e)throw Error("Invalid event type");var f=Pe(u)?!!u.capture:!!u,C=Ni(i);if(C||(i[Jt]=C=new Dn(i)),(n=C.add(e,n,s,f,l)).proxy)return n;if(s=function qn(){const e=vt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)st||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(yo(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function $n(i,e,n,s,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)$n(i,e[l],n,s,u);return null}return n=Tr(n),i&&i[Sn]?i.P(e,n,Pe(s)?!!s.capture:!!s,u):Jn(i,e,n,!0,s,u)}function Ci(i,e,n,s,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ci(i,e[l],n,s,u);else s=Pe(s)?!!s.capture:!!s,n=Tr(n),i&&i[Sn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=ln(l=i.g[e],n,s,u))&&(Rr(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Ni(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ln(e,n,s,u)),(n=-1<i?e[i]:null)&&Gn(n))}function Gn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Sn])dr(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(yo(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Ni(e))?(dr(n,i),0==n.h&&(n.src=null,e[Jt]=null)):Rr(i)}}}function yo(i){return i in rr?rr[i]:rr[i]="on"+i}function vt(i,e){if(i.fa)i=!0;else{e=new bn(e,this);var n=i.listener,s=i.la||i.src;i.ia&&Gn(i),i=n.call(s,e)}return i}function Ni(i){return(i=i[Jt])instanceof Dn?i:null}var si="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tr(i){return"function"==typeof i?i:(i[si]||(i[si]=function(e){return i.handleEvent(e)}),i[si])}function pn(){Le.call(this),this.i=new Dn(this),this.S=this,this.J=null}function En(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new rt(e,i);else if(e instanceof rt)e.target=e.target||i;else{var u=e;ti(e=new rt(s,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=kt(f,s,!0,e)&&u}if(u=kt(f=e.g=i,s,!0,e)&&u,u=kt(f,s,!1,e)&&u,n)for(l=0;l<n.length;l++)u=kt(f=e.g=n[l],s,!1,e)&&u}function kt(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var C=f.listener,R=f.la||f.src;f.ia&&dr(i.i,f),u=!1!==C.call(R,s)&&u}}return u&&!s.defaultPrevented}Wt(pn,Le),pn.prototype[Sn]=!0,pn.prototype.removeEventListener=function(i,e,n,s){Ci(this,i,e,n,s)},pn.prototype.N=function(){if(pn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Rr(n[s]);delete i.g[e],i.h--}}this.J=null},pn.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},pn.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var ai=te.JSON.stringify;function qt(){var i=K;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var wr=new class ki{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ui,i=>i.reset());class ui{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function le(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function W(i){te.setTimeout(()=>{throw i},0)}let q,G=!1,K=new class ir{constructor(){this.h=this.g=null}add(e,n){const s=wr.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},Te=()=>{const i=te.Promise.resolve(void 0);q=()=>{i.then(We)}};var We=()=>{for(var i;i=qt();){try{i.h.call(i.g)}catch(n){W(n)}var e=wr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}G=!1};function ft(i,e){pn.call(this),this.h=i||1,this.g=e||te,this.j=wt(this.qb,this),this.l=Date.now()}function Ft(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function en(i,e,n){if("function"==typeof i)n&&(i=wt(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=wt(i.handleEvent,i)}return 2147483647<Number(e)?-1:te.setTimeout(i,e||0)}function tn(i){i.g=en(()=>{i.g=null,i.i&&(i.i=!1,tn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Wt(ft,pn),(Ce=ft.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),En(this,"tick"),this.ga&&(Ft(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){ft.$.N.call(this),Ft(this),delete this.g};class Qt extends Le{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tn(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(i){Le.call(this),this.h=i,this.g={}}Wt(Kn,Le);var Ee=[];function ae(i,e,n,s){Array.isArray(n)||(n&&(Ee[0]=n.toString()),n=Ee);for(var u=0;u<n.length;u++){var l=ni(e,n[u],s||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function de(i){Un(i.g,function(e,n){this.g.hasOwnProperty(n)&&Gn(e)},i),i.g={}}function re(){this.g=!0}function Se(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xe(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return ai(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Kn.prototype.N=function(){Kn.$.N.call(this),de(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},re.prototype.Ea=function(){this.g=!1},re.prototype.info=function(){};var Bt={},Bn=null;function dn(){return Bn=Bn||new pn}function Cr(i){rt.call(this,Bt.Ta,i)}function Kr(i){const e=dn();En(e,new Cr(e))}function Di(i,e){rt.call(this,Bt.STAT_EVENT,i),this.stat=e}function an(i){const e=dn();En(e,new Di(e,i))}function Hn(i,e){rt.call(this,Bt.Ua,i),this.size=e}function mr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){i()},e)}Bt.Ta="serverreachability",Wt(Cr,rt),Bt.STAT_EVENT="statevent",Wt(Di,rt),Bt.Ua="timingevent",Wt(Hn,rt);var Qr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},un={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function or(){}function vo(){}or.prototype.h=null;var ut,On={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bi(){rt.call(this,"d")}function It(){rt.call(this,"c")}function Ct(){}function jt(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Kn(this),this.P=Br,this.V=new ft(i=ue?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}Wt(bi,rt),Wt(It,rt),Wt(Ct,or),Ct.prototype.g=function(){return new XMLHttpRequest},Ct.prototype.i=function(){return{}},ut=new Ct;var Br=45e3,Xr={},so={};function Pr(i,e,n){i.L=1,i.A=Hi(Zi(e)),i.u=n,i.S=!0,$i(i,null)}function $i(i,e){i.G=Date.now(),ci(i),i.B=Zi(i.A);var n=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),Dr(n.i,"t",s),i.o=0,n=i.l.J,i.h=new Jr,i.g=jr(i.l,n?e:null,!i.u),0<i.O&&(i.M=new Qt(wt(i.Pa,i,i.g),i.O)),ae(i.U,i.g,"readystatechange",i.nb),e=i.I?Er(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),Kr(),function ie(i,e,n,s,u,l){i.info(function(){if(i.g)if(l)for(var f="",C=l.split("&"),R=0;R<C.length;R++){var k=C[R].split("=");if(1<k.length){var H=k[0];k=k[1];var J=H.split("_");f=2<=J.length&&"type"==J[1]?f+(H+"=")+k+"&":f+(H+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Si(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function _i(i,e,n){let u,s=!0;for(;!i.J&&i.o<n.length;){if(u=ko(i,n),u==so){4==e&&(i.s=4,an(14),s=!1),Se(i.j,i.m,null,"[Incomplete Response]");break}if(u==Xr){i.s=4,an(15),Se(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}Se(i.j,i.m,u,null),os(i,u)}Si(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=n.length||i.h.h||(i.s=1,an(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),dt(e),e.M=!0,an(11))):(Se(i.j,i.m,n,"[Invalid Chunked Response]"),Eo(i),bo(i))}function ko(i,e){var n=i.o,s=e.indexOf("\n",n);return-1==s?so:(n=Number(e.substring(n,s)),isNaN(n)?Xr:(s+=1)+n>e.length?so:(e=e.slice(s,s+n),i.o=s+n,e))}function ci(i){i.Y=Date.now()+i.P,ws(i,i.P)}function ws(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=mr(wt(i.lb,i),e)}function Fo(i){i.C&&(te.clearTimeout(i.C),i.C=null)}function bo(i){0==i.l.H||i.J||fn(i.l,i)}function Eo(i){Fo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Ft(i.V),de(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function os(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||fr(n.i,i)))if(!i.K&&fr(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;St(n),F(n)}$e(n),an(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=mr(wt(n.ib,n),6e3));if(1>=zi(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vr(n,11)}else if((i.K||n.g==i)&&St(n),!Kt(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let k=u[e];if(n.V=k[0],k=k[1],2==n.H)if("c"==k[0]){n.K=k[1],n.pa=k[2];const H=k[3];null!=H&&(n.ra=H,n.l.info("VER="+n.ra));const J=k[4];null!=J&&(n.Ga=J,n.l.info("SVER="+n.Ga));const ge=k[5];null!=ge&&"number"==typeof ge&&0<ge&&(n.L=s=1.5*ge,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Ne=i.g;if(Ne){const _t=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_t){var l=s.i;l.g||-1==_t.indexOf("spdy")&&-1==_t.indexOf("quic")&&-1==_t.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(ao(l,l.h),l.h=null))}if(s.F){const Tt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Tt&&(s.Da=Tt,Xn(s.I,s.F,Tt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((s=n).wa=hi(s,s.J?s.pa:null,s.Y),f.K){Fi(s.i,f);var C=f,R=s.L;R&&C.setTimeout(R),C.C&&(Fo(C),ci(C)),s.g=f}else ye(s);0<n.j.length&&P(n)}else"stop"!=k[0]&&"close"!=k[0]||Vr(n,7);else 3==n.H&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?Vr(n,7):gs(n):"noop"!=k[0]&&n.h&&n.h.Aa(k),n.A=0)}Kr()}catch{}}function ss(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ce(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Cs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ce(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function Vs(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ce(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),u=s.length,l=0;l<u;l++)e.call(void 0,s[l],n&&n[l],i)}(Ce=jt.prototype).setTimeout=function(i){this.P=i},Ce.nb=function(i){i=i.target;const e=this.M;e&&3==uo(i)?e.l():this.Pa(i)},Ce.Pa=function(i){try{if(i==this.g)e:{const H=uo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>H)&&(3!=H||ue||this.g&&(this.h.h||this.g.ja()||pr(this.g)))){this.J||4!=H||7==e||Kr(),Fo(this);var n=this.g.da();this.ca=n;t:if(Si(this)){var s=pr(this.g);i="";var u=s.length,l=4==uo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),bo(this);var f="";break t}this.h.i=new te.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:l&&e==u-1});s.length=0,this.h.g+=i,this.o=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function we(i,e,n,s,u,l,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.v,this.B,this.m,this.W,H,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var C,R=this.g;if((C=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kt(C)){var k=C;break t}}k=null}if(!(n=k)){this.i=!1,this.s=3,an(12),Eo(this),bo(this);break e}Se(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,n)}this.S?(_i(this,H,f),ue&&this.i&&3==H&&(ae(this.U,this.V,"tick",this.mb),this.V.start())):(Se(this.j,this.m,f,null),os(this,f)),4==H&&Eo(this),this.i&&!this.J&&(4==H?fn(this.l,this):(this.i=!1,ci(this)))}else(function ei(i){const e={};i=(i.g&&2<=uo(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Kt(i[s]))continue;var n=le(i[s]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function zt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),Eo(this),bo(this)}}}catch{}},Ce.mb=function(){if(this.g){var i=uo(this.g),e=this.g.ja();this.o<e.length&&(Fo(this),_i(this,i,e),this.i&&4!=i&&ci(this))}},Ce.cancel=function(){this.J=!0,Eo(this)},Ce.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Ot(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Kr(),an(17)),Eo(this),this.s=2,bo(this)):ws(this,this.Y-i)};var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ki(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ki){this.h=i.h,Io(this,i.j),this.s=i.s,this.g=i.g,Vo(this,i.m),this.l=i.l;var e=i.i,n=new Ji;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Go(this,n),this.o=i.o}else i&&(e=String(i).match(as))?(this.h=!1,Io(this,e[1]||"",!0),this.s=Bi(e[2]||""),this.g=Bi(e[3]||"",!0),Vo(this,e[4]),this.l=Bi(e[5]||"",!0),Go(this,e[6]||"",!0),this.o=Bi(e[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}function Zi(i){return new Ki(i)}function Io(i,e,n){i.j=n?Bi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Vo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Go(i,e,n){e instanceof Ji?(i.i=e,function hn(i,e){e&&!i.j&&(vi(i),i.i=null,i.g.forEach(function(n,s){var u=s.toLowerCase();s!=u&&(Ls(this,s),Dr(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Yi(e,yi)),i.i=new Ji(e,i.h))}function Xn(i,e,n){i.i.set(e,n)}function Hi(i){return Xn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Bi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Yi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Mn),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Mn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ki.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Yi(e,hr,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Yi(e,hr,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Yi(n,"/"==n.charAt(0)?Qi:Mr,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Yi(n,Ds)),i.join("")};var hr=/[#\/\?@]/g,Mr=/[#\?:]/g,Qi=/[#\?]/g,yi=/[#\?@]/g,Ds=/#/g;function Ji(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function vi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Da(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),u=null;if(0<=s){var l=i[n].substring(0,s);u=i[n].substring(s+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ls(i,e){vi(i),e=yt(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function So(i,e){return vi(i),e=yt(i,e),i.g.has(e)}function Dr(i,e,n){Ls(i,e),0<n.length&&(i.i=null,i.g.set(yt(i,e),at(n)),i.h+=n.length)}function yt(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ri(i){this.l=i||us,i=te.PerformanceNavigationTiming?0<(i=te.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=Ji.prototype).add=function(i,e){vi(this),this.i=null,i=yt(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ce.forEach=function(i,e){vi(this),this.g.forEach(function(n,s){n.forEach(function(u){i.call(e,u,s,this)},this)},this)},Ce.ta=function(){vi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const u=i[s];for(let l=0;l<u.length;l++)n.push(e[s])}return n},Ce.Z=function(i){vi(this);let e=[];if("string"==typeof i)So(this,i)&&(e=e.concat(this.g.get(yt(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ce.set=function(i,e){return vi(this),this.i=null,So(this,i=yt(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ce.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const l=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var u=l;""!==f[s]&&(u+="="+encodeURIComponent(String(f[s]))),i.push(u)}}return this.i=i.join("&")};var us=10;function Zr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function zi(i){return i.h?1:i.g?i.g.size:0}function fr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ao(i,e){i.g?i.g.add(e):i.h=e}function Fi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function nn(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return at(i.i)}Ri.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ro=class{stringify(i){return te.JSON.stringify(i,void 0)}parse(i){return te.JSON.parse(i,void 0)}};function As(){this.g=new Ro}function Wo(i,e,n){const s=n||"";try{ss(i,function(u,l){let f=u;Pe(u)&&(f=ai(u)),e.push(s+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function Gi(i,e,n,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function li(i){this.l=i.ec||null,this.j=i.ob||!1}function di(i,e){pn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Xi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wt(li,or),li.prototype.g=function(){return new di(this.l,this.j)},li.prototype.i=function(i){return function(){return i}}({}),Wt(di,pn);var Xi=0;function Aa(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Pi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ri(i)}function ri(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ce=di.prototype).open=function(i,e){if(this.readyState!=Xi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ri(this)},Ce.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pi(this)),this.readyState=Xi},Ce.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Aa(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Pi(this):ri(this),3==this.readyState&&Aa(this)}},Ce.Za=function(i){this.g&&(this.response=this.responseText=i,Pi(this))},Ce.Ya=function(i){this.g&&(this.response=i,Pi(this))},Ce.ka=function(){this.g&&Pi(this)},Ce.setRequestHeader=function(i,e){this.v.append(i,e)},Ce.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(di.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ps=te.JSON.parse;function er(i){pn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nn,this.L=this.M=!1}Wt(er,pn);var Nn="",Ga=/^https?$/i,Us=["POST","PUT"];function br(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,bs(i),cs(i)}function bs(i){i.F||(i.F=!0,En(i,"complete"),En(i,"error"))}function Vi(i){if(i.h&&typeof Ve<"u"&&(!i.C[1]||4!=uo(i)||2!=i.da()))if(i.v&&4==uo(i))en(i.La,0,i);else if(En(i,"readystatechange"),4==uo(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===f){var u=String(i.I).match(as)[1]||null;!u&&te.self&&te.self.location&&(u=te.self.location.protocol.slice(0,-1)),s=!Ga.test(u?u.toLowerCase():"")}n=s}if(n)En(i,"complete"),En(i,"success");else{i.m=6;try{var l=2<uo(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",bs(i)}}finally{cs(i)}}}function cs(i,e){if(i.g){Ei(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||En(i,"ready");try{n.onreadystatechange=s}catch{}}}function Ei(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(te.clearTimeout(i.A),i.A=null)}function uo(i){return i.g?i.g.readyState:0}function pr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Nn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ba(i){let e="";return Un(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function Po(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=ba(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Xn(i,e,n))}function Vn(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Ii(i){this.Ga=0,this.j=[],this.l=new re,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vn("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vn("baseRetryDelayMs",5e3,i),this.hb=Vn("retryDelaySeedMs",1e4,i),this.eb=Vn("forwardChannelMaxRetries",2,i),this.xa=Vn("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Ri(i&&i.concurrentRequestLimit),this.Ja=new As,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gs(i){if(V(i),3==i.H){var e=i.W++,n=Zi(i.I);if(Xn(n,"SID",i.K),Xn(n,"RID",e),Xn(n,"TYPE","terminate"),Z(i,n),(e=new jt(i,i.l,e)).L=2,e.A=Hi(Zi(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&te.Image&&((new Image).src=e.A,n=!0),n||(e.g=jr(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ci(e)}ii(i)}function F(i){i.g&&(dt(i),i.g.cancel(),i.g=null)}function V(i){F(i),i.u&&(te.clearTimeout(i.u),i.u=null),St(i),i.i.cancel(),i.m&&("number"==typeof i.m&&te.clearTimeout(i.m),i.m=null)}function P(i){if(!Zr(i.i)&&!i.m){i.m=!0;var e=i.Na;q||Te(),G||(q(),G=!0),K.add(e,i),i.C=0}}function S(i,e){var n;n=e?e.m:i.W++;const s=Zi(i.I);Xn(s,"SID",i.K),Xn(s,"RID",n),Xn(s,"AID",i.V),Z(i,s),i.o&&i.s&&Po(s,i.o,i.s),n=new jt(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=X(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ao(i.i,n),Pr(n,s,e)}function Z(i,e){i.na&&Un(i.na,function(n,s){Xn(e,s,n)}),i.h&&ss({},function(n,s){Xn(e,s,n)})}function X(i,e,n){n=Math.min(i.j.length,n);var s=i.h?wt(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let C=!0;for(let R=0;R<n;R++){let k=u[R].g;const H=u[R].map;if(k-=l,0>k)l=Math.max(0,u[R].g-100),C=!1;else try{Wo(H,f,"req"+k+"_")}catch{s&&s(H)}}if(C){s=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function ye(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;q||Te(),G||(q(),G=!0),K.add(e,i),i.A=0}}function $e(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=mr(wt(i.Ma,i),Tn(i,i.A)),i.A++,0))}function dt(i){null!=i.B&&(te.clearTimeout(i.B),i.B=null)}function Mt(i){i.g=new jt(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Zi(i.wa);Xn(e,"RID","rpc"),Xn(e,"SID",i.K),Xn(e,"AID",i.V),Xn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Xn(e,"TO",i.qa),Xn(e,"TYPE","xmlhttp"),Z(i,e),i.o&&i.s&&Po(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.A=Hi(Zi(e)),n.u=null,n.S=!0,$i(n,i)}function St(i){null!=i.v&&(te.clearTimeout(i.v),i.v=null)}function fn(i,e){var n=null;if(i.g==e){St(i),dt(i),i.g=null;var s=2}else{if(!fr(i.i,e))return;n=e.F,Fi(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.u?e.u.length:0,e=Date.now()-e.G;var u=i.C;En(s=dn(),new Hn(s,n)),P(i)}else ye(i);else if(3==(u=e.s)||0==u&&0<e.ca||!(1==s&&function I(i,e){return!(zi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=mr(wt(i.Na,i,e),Tn(i,i.C)),i.C++,0)))}(i,e)||2==s&&$e(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Vr(i,5);break;case 4:Vr(i,10);break;case 3:Vr(i,6);break;default:Vr(i,2)}}function Tn(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Vr(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=wt(i.pb,i);n||(n=new Ki("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||Io(n,"https"),Hi(n)),function Ar(i,e){const n=new re;if(te.Image){const s=new Image;s.onload=mn(Gi,n,s,"TestLoadImage: loaded",!0,e),s.onerror=mn(Gi,n,s,"TestLoadImage: error",!1,e),s.onabort=mn(Gi,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=mn(Gi,n,s,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else an(2);i.H=0,i.h&&i.h.za(e),ii(i),V(i)}function ii(i){if(i.H=0,i.ma=[],i.h){const e=nn(i.i);(0!=e.length||0!=i.j.length)&&(gt(i.ma,e),gt(i.ma,i.j),i.i.i.length=0,at(i.j),i.j.length=0),i.h.ya()}}function hi(i,e,n){var s=n instanceof Ki?Zi(n):new Ki(n);if(""!=s.g)e&&(s.g=e+"."+s.g),Vo(s,s.m);else{var u=te.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new Ki(null);s&&Io(l,s),e&&(l.g=e),u&&Vo(l,u),n&&(l.l=n),s=l}return e=i.Da,(n=i.F)&&e&&Xn(s,n,e),Xn(s,"VER",i.ra),Z(i,s),s}function jr(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new er(i.Ha&&!i.va?new li({ob:n}):i.va)).Oa(i.J),e}function co(){}function $r(){if(Ae&&!(10<=Number(Zt)))throw Error("Environmental error: no available transport.")}function Yr(i,e){pn.call(this),this.g=new Ii(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Kt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Zn(this)}function lo(i){bi.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Lr(){It.call(this),this.status=1}function Zn(i){this.g=i}function fi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function oi(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)s[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+s[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function An(i,e){this.h=e;for(var n=[],s=!0,u=i.length-1;0<=u;u--){var l=0|i[u];s&&l==e||(n[u]=l,s=!1)}this.g=n}(Ce=er.prototype).Oa=function(i){this.M=i},Ce.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ut.g(),this.C=function Ai(i){return i.h||(i.h=i.i())}(this.u?this.u:ut),this.g.onreadystatechange=wt(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void br(this,l)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)n.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())n.set(l,s.get(l))}s=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=te.FormData&&i instanceof te.FormData,!(0<=Ge(Us,e))||s||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ei(this),0<this.B&&((this.L=function ra(i){return Ae&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.ua,this)):this.A=en(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){br(this,l)}},Ce.ua=function(){typeof Ve<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,En(this,"timeout"),this.abort(8))},Ce.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,En(this,"complete"),En(this,"abort"),cs(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cs(this,!0)),er.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?Vi(this):this.kb())},Ce.kb=function(){Vi(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<uo(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ps(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=Ii.prototype).ra=8,Ce.H=1,Ce.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new jt(this,this.l,i);let l=this.s;if(this.U&&(l?(l=Er(l),ti(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=X(this,u,e),Xn(n=Zi(this.I),"RID",i),Xn(n,"CVER",22),this.F&&Xn(n,"X-HTTP-Session-Id",this.F),Z(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(ba(l)))+"&"+e:this.o&&Po(n,this.o,l)),ao(this.i,u),this.bb&&Xn(n,"TYPE","init"),this.P?(Xn(n,"$req",e),Xn(n,"SID","null"),u.aa=!0,Pr(u,n,null)):Pr(u,n,e),this.H=2}}else 3==this.H&&(i?S(this,i):0==this.j.length||Zr(this.i)||S(this))},Ce.Ma=function(){if(this.u=null,Mt(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=mr(wt(this.jb,this),i)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),F(this),Mt(this))},Ce.ib=function(){null!=this.v&&(this.v=null,F(this),$e(this),an(19))},Ce.pb=function(i){i?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=co.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},$r.prototype.g=function(i,e){return new Yr(i,e)},Wt(Yr,pn),Yr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;an(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=hi(i,null,i.Y),P(i)},Yr.prototype.close=function(){gs(this.g)},Yr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ai(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&P(e)},Yr.prototype.N=function(){this.g.h=null,delete this.j,gs(this.g),delete this.g,Yr.$.N.call(this)},Wt(lo,bi),Wt(Lr,It),Wt(Zn,co),Zn.prototype.Ba=function(){En(this.g,"a")},Zn.prototype.Aa=function(i){En(this.g,new lo(i))},Zn.prototype.za=function(i){En(this.g,new Lr)},Zn.prototype.ya=function(){En(this.g,"b")},Wt(fi,function ms(){this.blockSize=-1}),fi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)oi(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(s[u++]=i.charCodeAt(l++),u==this.blockSize){oi(this,s),u=0;break}}else for(;l<e;)if(s[u++]=i[l++],u==this.blockSize){oi(this,s),u=0;break}}this.h=u,this.i+=e},fi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var eo={};function ia(i){return-128<=i&&128>i?function lt(i,e){var n=eo;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new An([0|e],0>e?-1:0)}):new An([0|i],0>i?-1:0)}function qo(i){if(isNaN(i)||!isFinite(i))return Ko;if(0>i)return ji(qo(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=Bs;return new An(e,0)}var Bs=4294967296,Ko=ia(0),Ra=ia(1),js=ia(16777216);function Zo(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ho(i){return-1==i.h}function ji(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new An(n,~i.h).add(Ra)}function Wa(i,e){return i.add(ji(e))}function Lo(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Ss(i,e){this.g=i,this.h=e}function Rs(i,e){if(Zo(e))throw Error("division by zero");if(Zo(i))return new Ss(Ko,Ko);if(ho(i))return e=Rs(ji(i),e),new Ss(ji(e.g),ji(e.h));if(ho(e))return e=Rs(i,ji(e)),new Ss(ji(e.g),e.h);if(30<i.g.length){if(ho(i)||ho(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ra,s=e;0>=s.X(i);)n=Pa(n),s=Pa(s);var u=_s(n,1),l=_s(s,1);for(s=_s(s,2),n=_s(n,2);!Zo(s);){var f=l.add(s);0>=f.X(i)&&(u=u.add(n),l=f),s=_s(s,1),n=_s(n,1)}return e=Wa(i,u.R(e)),new Ss(u,e)}for(u=Ko;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),f=(l=qo(n)).R(e);ho(f)||0<f.X(i);)f=(l=qo(n-=s)).R(e);Zo(l)&&(l=Ra),u=u.add(l),i=Wa(i,f)}return new Ss(u,i)}function Pa(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new An(n,i.h)}function _s(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,u=[],l=0;l<s;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new An(u,i.h)}(Ce=An.prototype).ea=function(){if(ho(this))return-ji(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:Bs+s)*e,e*=Bs}return i},Ce.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Zo(this))return"0";if(ho(this))return"-"+ji(this).toString(i);for(var e=qo(Math.pow(i,6)),n=this,s="";;){var u=Rs(n,e).g,l=((0<(n=Wa(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Zo(n=u))return l+s;for(;6>l.length;)l="0"+l;s=l+s}},Ce.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ce.X=function(i){return ho(i=Wa(this,i))?-1:Zo(i)?0:1},Ce.abs=function(){return ho(this)?ji(this):this},Ce.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,u=0;u<=e;u++){var l=s+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);s=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new An(n,-2147483648&n[n.length-1]?-1:0)},Ce.R=function(i){if(Zo(this)||Zo(i))return Ko;if(ho(this))return ho(i)?ji(this).R(ji(i)):ji(ji(this).R(i));if(ho(i))return ji(this.R(ji(i)));if(0>this.X(js)&&0>i.X(js))return qo(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<i.g.length;u++){var l=this.D(s)>>>16,f=65535&this.D(s),C=i.D(u)>>>16,R=65535&i.D(u);n[2*s+2*u]+=f*R,Lo(n,2*s+2*u),n[2*s+2*u+1]+=l*R,Lo(n,2*s+2*u+1),n[2*s+2*u+1]+=f*C,Lo(n,2*s+2*u+1),n[2*s+2*u+2]+=l*C,Lo(n,2*s+2*u+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new An(n,0)},Ce.gb=function(i){return Rs(this,i).h},Ce.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new An(n,this.h&i.h)},Ce.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new An(n,this.h|i.h)},Ce.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new An(n,this.h^i.h)},$r.prototype.createWebChannel=$r.prototype.g,Yr.prototype.send=Yr.prototype.u,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,un.COMPLETE="complete",vo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",pn.prototype.listen=pn.prototype.O,er.prototype.listenOnce=er.prototype.P,er.prototype.getLastError=er.prototype.Sa,er.prototype.getLastErrorCode=er.prototype.Ia,er.prototype.getStatus=er.prototype.da,er.prototype.getResponseJson=er.prototype.Wa,er.prototype.getResponseText=er.prototype.ja,er.prototype.send=er.prototype.ha,er.prototype.setWithCredentials=er.prototype.Oa,fi.prototype.digest=fi.prototype.l,fi.prototype.reset=fi.prototype.reset,fi.prototype.update=fi.prototype.j,An.prototype.add=An.prototype.add,An.prototype.multiply=An.prototype.R,An.prototype.modulo=An.prototype.gb,An.prototype.compare=An.prototype.X,An.prototype.toNumber=An.prototype.ea,An.prototype.toString=An.prototype.toString,An.prototype.getBits=An.prototype.D,An.fromNumber=qo,An.fromString=function Sa(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return ji(Sa(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qo(Math.pow(e,8)),s=Ko,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=qo(Math.pow(e,l)),s=s.R(l).add(qo(f))):s=(s=s.R(n)).add(qo(f))}return s};var uc=xe.createWebChannelTransport=function(){return new $r},w=xe.getStatEventTarget=function(){return dn()},j=xe.ErrorCode=Qr,x=xe.EventType=un,L=xe.Event=Bt,oe=xe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ye=(xe.FetchXmlHttpFactory=li,xe.WebChannel=vo),Vt=xe.XhrIo=er,Hr=xe.Md5=fi,tr=xe.Integer=An;const _r="@firebase/firestore";class rn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let yr="10.7.0";const kn=new M.Yd("@firebase/firestore");function zr(){return kn.logLevel}function nt(i,...e){if(kn.logLevel<=M.in.DEBUG){const n=e.map(Yo);kn.debug(`Firestore (${yr}): ${i}`,...n)}}function xr(i,...e){if(kn.logLevel<=M.in.ERROR){const n=e.map(Yo);kn.error(`Firestore (${yr}): ${i}`,...n)}}function Or(i,...e){if(kn.logLevel<=M.in.WARN){const n=e.map(Yo);kn.warn(`Firestore (${yr}): ${i}`,...n)}}function Yo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function xt(i="Unexpected state"){const e=`FIRESTORE (${yr}) INTERNAL ASSERTION FAILED: `+i;throw xr(e),new Error(e)}function Lt(i,e){i||xt()}function Dt(i,e){return i}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Q.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class cc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _u{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class lc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mh{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let u=this.i;const l=k=>this.i!==u?(u=this.i,n(k)):Promise.resolve();let f=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Li,e.enqueueRetryable(()=>l(this.currentUser))};const C=()=>{const k=f;e.enqueueRetryable((0,m.Z)(function*(){yield k.promise,yield l(s.currentUser)}))},R=k=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(k=>R(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?R(k):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Li)}},0),C()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Lt("string"==typeof s.accessToken),new cc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new rn(e)}}class Ps{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rd{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Ps(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=l=>{null!=l.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.R;return this.R=l.token,nt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const u=l=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?u(l):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Lt("string"==typeof n.token),this.R=n.token,new nl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oa(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class to{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=oa(40);for(let l=0;l<u.length;++l)s.length<20&&u[l]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return s}}function wn(i,e){return i<e?-1:i>e?1:0}function sa(i,e,n){return i.length===e.length&&i.every((s,u)=>n(s,e[u]))}class sr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ot(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ot(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new sr(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wn(this.nanoseconds,e.nanoseconds):wn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class on{constructor(e){this.timestamp=e}static fromTimestamp(e){return new on(e)}static min(){return new on(new sr(0,0))}static max(){return new on(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ua{constructor(e,n,s){void 0===n?n=0:n>e.length&&xt(),void 0===s?s=e.length-n:s>e.length-n&&xt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===ua.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let u=0;u<s;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Wn extends ua{construct(e,n,s){return new Wn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(je.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(u=>u.length>0))}return new Wn(n)}static emptyPath(){return new Wn([])}}const Hs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends ua{construct(e,n,s){return new Gr(e,n,s)}static isValidIdentifier(e){return Hs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gr(["__name__"])}static fromServerFormat(e){const n=[];let s="",u=0;const l=()=>{if(0===s.length)throw new ot(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new ot(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new ot(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,u+=2}else"`"===C?(f=!f,u++):"."!==C||f?(s+=C,u++):(l(),u++)}if(l(),f)throw new ot(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(n)}static emptyPath(){return new Gr([])}}class At{constructor(e){this.path=e}static fromPath(e){return new At(Wn.fromString(e))}static fromName(e){return new At(Wn.fromString(e).popFirst(5))}static empty(){return new At(Wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Wn(e.slice()))}}function il(i){return new wo(i.readTime,i.key,-1)}class wo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new wo(on.min(),At.empty(),-1)}static max(){return new wo(on.max(),At.empty(),-1)}}function dc(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=At.comparator(i.documentKey,e.documentKey),0!==n?n:wn(i.largestBatchId,e.largestBatchId))}const Wr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class id{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ms(i){return ol.apply(this,arguments)}function ol(){return ol=(0,m.Z)(function*(i){if(i.code!==je.FAILED_PRECONDITION||i.message!==Wr)throw i;nt("LocalStore","Unexpectedly lost primary lease")}),ol.apply(this,arguments)}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Re((s,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.reject(n)}static resolve(e){return new Re((n,s)=>{n(e)})}static reject(e){return new Re((n,s)=>{s(e)})}static waitFor(e){return new Re((n,s)=>{let u=0,l=0,f=!1;e.forEach(C=>{++u,C.next(()=>{++l,f&&l===u&&n()},R=>s(R))}),f=!0,l===u&&n()})}static or(e){let n=Re.resolve(!1);for(const s of e)n=n.next(u=>u?Re.resolve(u):s());return n}static forEach(e,n){const s=[];return e.forEach((u,l)=>{s.push(n.call(this,u,l))}),this.waitFor(s)}static mapArray(e,n){return new Re((s,u)=>{const l=e.length,f=new Array(l);let C=0;for(let R=0;R<l;R++){const k=R;n(e[k]).next(H=>{f[k]=H,++C,C===l&&s(f)},H=>u(H))}})}static doWhile(e,n){return new Re((s,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):s()};l()})}}function Qo(i){return"IndexedDbTransactionError"===i.name}let fo=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=u=>this.se(u),this.oe=u=>s.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Tu(i){return null==i}function da(i){return 0===i&&1/i==-1/0}function pc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Os(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ya(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Sr{constructor(e,n){this.comparator=e,this.root=n||ro.EMPTY}insert(e,n){return new Sr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ro.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return n+s.left.size;u<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,n,s,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ro{constructor(e,n,s,u,l){this.key=e,this.value=n,this.color=s??ro.RED,this.left=u??ro.EMPTY,this.right=l??ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,u,l){return new ro(e??this.key,n??this.value,s??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let u=this;const l=s(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,s),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return ro.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,n,s,u,l){return this}insert(e,n,s){return new ro(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nr{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qa(this.data.getIterator())}getIteratorFrom(e){return new Qa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=s.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nr(this.comparator);return n.data=e,n}}class Qa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Uo{constructor(e){this.fields=e,e.sort(Gr.comparator)}static empty(){return new Uo([])}unionWith(e){let n=new nr(Gr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Uo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class sd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ti{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new sd("Invalid base64 string: "+l):l}}(e);return new Ti(n)}static fromUint8Array(e){const n=function(u){let l="";for(let f=0;f<u.length;++f)l+=String.fromCharCode(u[f]);return l}(e);return new Ti(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const sl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(i){if(Lt(!!i),"string"==typeof i){let e=0;const n=sl.exec(i);if(Lt(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xi(i.seconds),nanos:xi(i.nanos)}}function xi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Gs(i){return"string"==typeof i?Ti.fromBase64String(i):Ti.fromUint8Array(i)}function gc(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ad(i){const e=i.mapValue.fields.__previous_value__;return gc(e)?ad(e):e}function Xa(i){const e=Ja(i.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}class yh{constructor(e,n,s,u,l,f,C,R,k){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=C,this.longPollingOptions=R,this.useFetchStreams=k}}class Du{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Du("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}const es={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ka(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gc(i)?4:vh(i)?9007199254740991:10:xt()}function Mo(i,e){if(i===e)return!0;const n=ka(i);if(n!==ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xa(i).isEqual(Xa(e));case 3:return function(u,l){if("string"==typeof u.timestampValue&&"string"==typeof l.timestampValue&&u.timestampValue.length===l.timestampValue.length)return u.timestampValue===l.timestampValue;const f=Ja(u.timestampValue),C=Ja(l.timestampValue);return f.seconds===C.seconds&&f.nanos===C.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Gs(i.bytesValue).isEqual(Gs(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,l){return xi(u.geoPointValue.latitude)===xi(l.geoPointValue.latitude)&&xi(u.geoPointValue.longitude)===xi(l.geoPointValue.longitude)}(i,e);case 2:return function(u,l){if("integerValue"in u&&"integerValue"in l)return xi(u.integerValue)===xi(l.integerValue);if("doubleValue"in u&&"doubleValue"in l){const f=xi(u.doubleValue),C=xi(l.doubleValue);return f===C?da(f)===da(C):isNaN(f)&&isNaN(C)}return!1}(i,e);case 9:return sa(i.arrayValue.values||[],e.arrayValue.values||[],Mo);case 10:return function(u,l){const f=u.mapValue.fields||{},C=l.mapValue.fields||{};if(pc(f)!==pc(C))return!1;for(const R in f)if(f.hasOwnProperty(R)&&(void 0===C[R]||!Mo(f[R],C[R])))return!1;return!0}(i,e);default:return xt()}var l}function fa(i,e){return void 0!==(i.values||[]).find(n=>Mo(n,e))}function ds(i,e){if(i===e)return 0;const n=ka(i),s=ka(e);if(n!==s)return wn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return wn(i.booleanValue,e.booleanValue);case 2:return function(l,f){const C=xi(l.integerValue||l.doubleValue),R=xi(f.integerValue||f.doubleValue);return C<R?-1:C>R?1:C===R?0:isNaN(C)?isNaN(R)?0:-1:1}(i,e);case 3:return mm(i.timestampValue,e.timestampValue);case 4:return mm(Xa(i),Xa(e));case 5:return wn(i.stringValue,e.stringValue);case 6:return function(l,f){const C=Gs(l),R=Gs(f);return C.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const C=l.split("/"),R=f.split("/");for(let k=0;k<C.length&&k<R.length;k++){const H=wn(C[k],R[k]);if(0!==H)return H}return wn(C.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const C=wn(xi(l.latitude),xi(f.latitude));return 0!==C?C:wn(xi(l.longitude),xi(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,f){const C=l.values||[],R=f.values||[];for(let k=0;k<C.length&&k<R.length;++k){const H=ds(C[k],R[k]);if(H)return H}return wn(C.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,f){if(l===es.mapValue&&f===es.mapValue)return 0;if(l===es.mapValue)return 1;if(f===es.mapValue)return-1;const C=l.fields||{},R=Object.keys(C),k=f.fields||{},H=Object.keys(k);R.sort(),H.sort();for(let J=0;J<R.length&&J<H.length;++J){const ge=wn(R[J],H[J]);if(0!==ge)return ge;const Ne=ds(C[R[J]],k[H[J]]);if(0!==Ne)return Ne}return wn(R.length,H.length)}(i.mapValue,e.mapValue);default:throw xt()}}function mm(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return wn(i,e);const n=Ja(i),s=Ja(e),u=wn(n.seconds,s.seconds);return 0!==u?u:wn(n.nanos,s.nanos)}function eu(i){return mc(i)}function mc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ja(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Gs(i.bytesValue).toBase64():"referenceValue"in i?At.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",u=!0;for(const l of n.values||[])u?u=!1:s+=",",s+=mc(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let u="{",l=!0;for(const f of s)l?l=!1:u+=",",u+=`${f}:${mc(n.fields[f])}`;return u+"}"}(i.mapValue):xt()}function Bo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ud(i){return!!i&&"integerValue"in i}function Ws(i){return!!i&&"arrayValue"in i}function cd(i){return!!i&&"nullValue"in i}function ld(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pa(i){return!!i&&"mapValue"in i}function Au(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Os(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Au(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(i.arrayValue.values[n]);return e}return Object.assign({},i)}function vh(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!pa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=Gr.emptyPath(),s={},u=[];e.forEach((f,C)=>{if(!n.isImmediateParentOf(C)){const R=this.getFieldsMap(n);this.applyChanges(R,s,u),s={},u=[],n=C.popLast()}f?s[C.lastSegment()]=Au(f):u.push(C.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,u)}delete(e){const n=this.field(e.popLast());pa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=n.mapValue.fields[e.get(s)];pa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,s){Os(n,(u,l)=>e[u]=l);for(const u of s)delete e[u]}clone(){return new io(Au(this.value))}}function bu(i){const e=[];return Os(i.fields,(n,s)=>{const u=new Gr([n]);if(pa(s)){const l=bu(s.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new Uo(e)}class Ir{constructor(e,n,s,u,l,f,C){this.key=e,this.documentType=n,this.version=s,this.readTime=u,this.createTime=l,this.data=f,this.documentState=C}static newInvalidDocument(e){return new Ir(e,0,on.min(),on.min(),on.min(),io.empty(),0)}static newFoundDocument(e,n,s,u){return new Ir(e,1,n,on.min(),s,u,0)}static newNoDocument(e,n){return new Ir(e,2,n,on.min(),on.min(),io.empty(),0)}static newUnknownDocument(e,n){return new Ir(e,3,n,on.min(),on.min(),io.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(on.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fa{constructor(e,n){this.position=e,this.inclusive=n}}function dd(i,e,n){let s=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(s=l.field.isKeyField()?At.comparator(At.fromName(f.referenceValue),n.key):ds(f,n.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function cl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Mo(i.position[n],e.position[n]))return!1;return!0}class qs{constructor(e,n="asc"){this.field=e,this.dir=n}}function Yf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class xo{}class Qn extends xo{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new fd(e,n,s):"array-contains"===n?new ym(e,s):"in"===n?new Qf(e,s):"not-in"===n?new vm(e,s):"array-contains-any"===n?new Em(e,s):new Qn(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Pu(e,s):new _m(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ds(n,this.value)):null!==n&&ka(this.value)===ka(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends xo{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ur(e,n)}matches(e){return Va(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Va(i){return"and"===i.op}function Su(i){return function ll(i){for(const e of i.filters)if(e instanceof Ur)return!1;return!0}(i)&&Va(i)}function La(i){if(i instanceof Qn)return i.field.canonicalString()+i.op.toString()+eu(i.value);if(Su(i))return i.filters.map(e=>La(e)).join(",");{const e=i.filters.map(n=>La(n)).join(",");return`${i.op}(${e})`}}function Ua(i,e){return i instanceof Qn?(s=i,(u=e)instanceof Qn&&s.op===u.op&&s.field.isEqual(u.field)&&Mo(s.value,u.value)):i instanceof Ur?function(s,u){return u instanceof Ur&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((l,f,C)=>l&&Ua(f,u.filters[C]),!0)}(i,e):void xt();var s,u}function Ru(i){return i instanceof Qn?`${(n=i).field.canonicalString()} ${n.op} ${eu(n.value)}`:i instanceof Ur?function(n){return n.op.toString()+" {"+n.getFilters().map(Ru).join(" ,")+"}"}(i):"Filter";var n}class fd extends Qn{constructor(e,n,s){super(e,n,s),this.key=At.fromName(s.referenceValue)}matches(e){const n=At.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pu extends Qn{constructor(e,n){super(e,"in",n),this.keys=Eh(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _m extends Qn{constructor(e,n){super(e,"not-in",n),this.keys=Eh(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Eh(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>At.fromName(s.referenceValue))}class ym extends Qn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ws(n)&&fa(n.arrayValue,this.value)}}class Qf extends Qn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&fa(this.value.arrayValue,n)}}class vm extends Qn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!fa(this.value.arrayValue,n)}}class Em extends Qn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ws(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>fa(this.value.arrayValue,s))}}class Ih{constructor(e,n=null,s=[],u=[],l=null,f=null,C=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=u,this.limit=l,this.startAt=f,this.endAt=C,this.ce=null}}function Th(i,e=null,n=[],s=[],u=null,l=null,f=null){return new Ih(i,e,n,s,u,l,f)}function vs(i){const e=Dt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>La(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),Tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>eu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>eu(s)).join(",")),e.ce=n}return e.ce}function vc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Yf(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ua(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!cl(i.startAt,e.startAt)&&cl(i.endAt,e.endAt)}function dl(i){return At.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ga{constructor(e,n=null,s=[],u=[],l=null,f="F",C=null,R=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=u,this.limit=l,this.limitType=f,this.startAt=C,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function Ns(i){return new ga(i)}function gd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function nu(i){return null!==i.collectionGroup}function Es(i){const e=Dt(i);if(null===e.le){e.le=[];const n=new Set;for(const l of e.explicitOrderBy)e.le.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let C=new nr(Gr.comparator);return f.filters.forEach(R=>{R.getFlattenedFilters().forEach(k=>{k.isInequality()&&(C=C.add(k.field))})}),C})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.le.push(new qs(l,s))}),n.has(Gr.keyField().canonicalString())||e.le.push(new qs(Gr.keyField(),s))}return e.le}function jo(i){const e=Dt(i);return e.he||(e.he=function md(i,e){if("F"===i.limitType)return Th(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new qs(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new Fa(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Fa(i.startAt.position,i.startAt.inclusive):null;return Th(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,Es(i))),e.he}function _d(i,e){const n=i.filters.concat([e]);return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function yd(i,e,n){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Oo(i,e){return vc(jo(i),jo(e))&&i.limitType===e.limitType}function Ec(i){return`${vs(jo(i))}|lt:${i.limitType}`}function Ks(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(u=>Ru(u)).join(", ")}]`),Tu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(u=>{return`${(f=u).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(u=>eu(u)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(u=>eu(u)).join(",")),`Target(${s})`}(jo(i))}; limitType=${i.limitType})`}function vd(i,e){return e.isFoundDocument()&&function(s,u){const l=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):At.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,u){for(const l of Es(s))if(!l.field.isKeyField()&&null===u.data.field(l.field))return!1;return!0}(i,e)&&function(s,u){for(const l of s.filters)if(!l.matches(u))return!1;return!0}(i,e)&&(u=e,!((s=i).startAt&&!function(f,C,R){const k=dd(f,C,R);return f.inclusive?k<=0:k<0}(s.startAt,Es(s),u)||s.endAt&&!function(f,C,R){const k=dd(f,C,R);return f.inclusive?k>=0:k>0}(s.endAt,Es(s),u)));var s,u}function Ed(i){return(e,n)=>{let s=!1;for(const u of Es(i)){const l=hl(u,e,n);if(0!==l)return l;s=s||u.field.isKeyField()}return 0}}function hl(i,e,n){const s=i.field.isKeyField()?At.comparator(e.key,n.key):function(l,f,C){const R=f.data.field(l),k=C.data.field(l);return null!==R&&null!==k?ds(R,k):xt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return xt()}}class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[u,l]of s)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[n]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,s)=>{for(const[u,l]of s)e(u,l)})}isEmpty(){return Ya(this.inner)}size(){return this.innerSize}}const wh=new Sr(At.comparator);function ts(){return wh}const Ch=new Sr(At.comparator);function ru(...i){let e=Ch;for(const n of i)e=e.insert(n.key,n);return e}function Tc(i){let e=Ch;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ys(){return wc()}function xu(){return wc()}function wc(){return new Zs(i=>i.toString(),(i,e)=>i.isEqual(e))}const fl=new Sr(At.comparator),Dh=new nr(At.comparator);function xn(...i){let e=Dh;for(const n of i)e=e.add(n);return e}const pl=new nr(wn);function Dc(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(e)?"-0":e}}function Ah(i){return{integerValue:""+i}}function bh(i,e){return function po(i){return"number"==typeof i&&Number.isInteger(i)&&!da(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Ah(e):Dc(i,e)}class ma{constructor(){this._=void 0}}function Ac(i,e,n){return i instanceof Ou?function(u,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return l&&gc(l)&&(l=ad(l)),l&&(f.fields.__previous_value__=l),{mapValue:f}}(n,e):i instanceof Nu?Im(i,e):i instanceof ku?ep(i,e):function(u,l){const f=Xf(u,l),C=gl(f)+gl(u.Ie);return ud(f)&&ud(u.Ie)?Ah(C):Dc(u.serializer,C)}(i,e)}function Jf(i,e,n){return i instanceof Nu?Im(i,e):i instanceof ku?ep(i,e):n}function Xf(i,e){return i instanceof bc?ud(s=e)||(l=s)&&"doubleValue"in l?e:{integerValue:0}:null;var s,l}class Ou extends ma{}class Nu extends ma{constructor(e){super(),this.elements=e}}function Im(i,e){const n=Sh(e);for(const s of i.elements)n.some(u=>Mo(u,s))||n.push(s);return{arrayValue:{values:n}}}class ku extends ma{constructor(e){super(),this.elements=e}}function ep(i,e){let n=Sh(e);for(const s of i.elements)n=n.filter(u=>!Mo(u,s));return{arrayValue:{values:n}}}class bc extends ma{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gl(i){return xi(i.integerValue||i.doubleValue)}function Sh(i){return Ws(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class yy{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Td{}function np(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Rc(i.key,wi.none()):new ml(i.key,i.data,wi.none());{const n=i.data,s=io.empty();let u=new nr(Gr.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?s.delete(l):s.set(l,f),u=u.add(l)}return new iu(i.key,s,new Uo(u.toArray()),wi.none())}}function Rh(i,e,n){i instanceof ml?function(u,l,f){const C=u.value.clone(),R=wm(u.fieldTransforms,l,f.transformResults);C.setAll(R),l.convertToFoundDocument(f.version,C).setHasCommittedMutations()}(i,e,n):i instanceof iu?function(u,l,f){if(!Id(u.precondition,l))return void l.convertToUnknownDocument(f.version);const C=wm(u.fieldTransforms,l,f.transformResults),R=l.data;R.setAll(Tm(u)),R.setAll(C),l.convertToFoundDocument(f.version,R).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wd(i,e,n,s){return i instanceof ml?function(l,f,C,R){if(!Id(l.precondition,f))return C;const k=l.value.clone(),H=Cm(l.fieldTransforms,R,f);return k.setAll(H),f.convertToFoundDocument(f.version,k).setHasLocalMutations(),null}(i,e,n,s):i instanceof iu?function(l,f,C,R){if(!Id(l.precondition,f))return C;const k=Cm(l.fieldTransforms,R,f),H=f.data;return H.setAll(Tm(l)),H.setAll(k),f.convertToFoundDocument(f.version,H).setHasLocalMutations(),null===C?null:C.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(J=>J.field))}(i,e,n,s):(C=n,Id(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):C);var f,C}function vy(i,e){let n=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),l=Xf(s.transform,u||null);null!=l&&(null===n&&(n=io.empty()),n.set(s.field,l))}return n||null}function Cd(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===u||s&&u&&sa(s,u,(l,f)=>function tp(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(s=i.transform)instanceof Nu&&u instanceof Nu||s instanceof ku&&u instanceof ku?sa(s.elements,u.elements,Mo):s instanceof bc&&u instanceof bc?Mo(s.Ie,u.Ie):s instanceof Ou&&u instanceof Ou);var s,u}(l,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,u}class ml extends Td{constructor(e,n,s,u=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class iu extends Td{constructor(e,n,s,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Tm(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function wm(i,e,n){const s=new Map;Lt(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,C=e.data.field(l.field);s.set(l.field,Jf(f,C,n[u]))}return s}function Cm(i,e,n){const s=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);s.set(u.field,Ac(l,f,e))}return s}class Rc extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pc extends Td{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mc{constructor(e,n,s,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Rh(l,e,s[u])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=wd(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=wd(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xu();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let C=this.applyToLocalView(f,l.mutatedFields);C=n.has(u.key)?null:C;const R=np(f,C);null!==R&&s.set(u.key,R),f.isValidDocument()||f.convertToNoDocument(on.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xn())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,(n,s)=>Cd(n,s))&&sa(this.baseMutations,e.baseMutations,(n,s)=>Cd(n,s))}}class Dd{constructor(e,n,s,u){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=u}static from(e,n,s){Lt(e.mutations.length===s.length);let u=fl;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,s[f].version);return new Dd(e,n,s,u)}}class Ad{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xc{constructor(e,n){this.count=e,this.unchangedNames=n}}var qi,vr;function yl(i){if(void 0===i)return xr("GRPC error has no .code"),je.UNKNOWN;switch(i){case qi.OK:return je.OK;case qi.CANCELLED:return je.CANCELLED;case qi.UNKNOWN:return je.UNKNOWN;case qi.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case qi.INTERNAL:return je.INTERNAL;case qi.UNAVAILABLE:return je.UNAVAILABLE;case qi.UNAUTHENTICATED:return je.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case qi.NOT_FOUND:return je.NOT_FOUND;case qi.ALREADY_EXISTS:return je.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return je.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case qi.ABORTED:return je.ABORTED;case qi.OUT_OF_RANGE:return je.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return je.UNIMPLEMENTED;case qi.DATA_LOSS:return je.DATA_LOSS;default:return xt()}}(vr=qi||(qi={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";const Dm=new tr([4294967295,4294967295],0);function op(i){const e=function ip(){return new TextEncoder}().encode(i),n=new Hr;return n.update(e),new Uint8Array(n.digest())}function Ph(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new tr([n,s],0),new tr([u,l],0)]}class Oc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(s<0)throw new vl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new vl(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=tr.fromNumber(this.Te)}de(e,n,s){let u=e.add(n.multiply(tr.fromNumber(s)));return 1===u.compare(Dm)&&(u=new tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=op(e),[s,u]=Ph(n);for(let l=0;l<this.hashCount;l++){const f=this.de(s,u,l);if(!this.Ae(f))return!1}return!0}static create(e,n,s){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Oc(l,u,n);return s.forEach(C=>f.insert(C)),f}insert(e){if(0===this.Te)return;const n=op(e),[s,u]=Ph(n);for(let l=0;l<this.hashCount;l++){const f=this.de(s,u,l);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class El{constructor(e,n,s,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const u=new Map;return u.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new El(on.min(),u,new Sr(wn),ts(),xn())}}class Il{constructor(e,n,s,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Il(s,n,xn(),xn(),xn())}}class Tl{constructor(e,n,s,u){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=u}}class sp{constructor(e,n){this.targetId=e,this.fe=n}}class ap{constructor(e,n,s=Ti.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=u}}class ns{constructor(){this.ge=0,this.pe=bd(),this.ye=Ti.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xn(),n=xn(),s=xn();return this.pe.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:s=s.add(u);break;default:xt()}}),new Il(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=bd()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Lt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Mh{constructor(e){this.Le=e,this.ke=new Map,this.qe=ts(),this.Qe=xh(),this.Ke=new Sr(wn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,s=e.fe.count,u=this.Ye(n);if(u){const l=u.target;if(dl(l))if(0===s){const f=new At(l.path);this.We(n,f,Ir.newNoDocument(f,on.min()))}else Lt(1===s);else{const f=this.Ze(n);if(f!==s){const C=this.Xe(e),R=C?this.et(C,e,f):1;0!==R&&(this.He(n),this.Ke=this.Ke.insert(n,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:l=0}=n;let f,C;try{f=Gs(s).toUint8Array()}catch(R){if(R instanceof sd)return Or("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{C=new Oc(f,u,l)}catch(R){return Or(R instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===C.Te?null:C}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let u=0;return s.forEach(l=>{const f=this.Le.nt(),C=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(C)||(this.We(n,l,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((l,f)=>{const C=this.Ye(f);if(C){if(l.current&&dl(C.target)){const R=new At(C.target.path);null!==this.qe.get(R)||this.st(f,R)||this.We(f,R,Ir.newNoDocument(R,e))}l.De&&(n.set(f,l.ve()),l.Fe())}});let s=xn();this.Qe.forEach((l,f)=>{let C=!0;f.forEachWhile(R=>{const k=this.Ye(R);return!k||"TargetPurposeLimboResolution"===k.purpose||(C=!1,!1)}),C&&(s=s.add(l))}),this.qe.forEach((l,f)=>f.setReadTime(e));const u=new El(e,n,this.Ke,this.qe,s);return this.qe=ts(),this.Qe=xh(),this.Ke=new Sr(wn),u}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new ns,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new nr(wn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||nt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ns),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xh(){return new Sr(At.comparator)}function bd(){return new Sr(At.comparator)}const $o={asc:"ASCENDING",desc:"DESCENDING"},wl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},up={and:"AND",or:"OR"};class cp{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oh(i,e){return i.useProto3Json||Tu(e)?e:{value:e}}function E(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function p(i,e){return E(i,e.toTimestamp())}function T(i){return Lt(!!i),on.fromTimestamp(function(n){const s=Ja(n);return new sr(s.seconds,s.nanos)}(i))}function U(i,e){return(s=i,new Wn(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function Y(i){const e=Wn.fromString(i);return Lt(Am(e)),e}function _e(i,e){return U(i.databaseId,e.path)}function ke(i,e){const n=Y(e);if(n.get(1)!==i.databaseId.projectId)throw new ot(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ot(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new At(ur(n))}function ct(i,e){return U(i.databaseId,e)}function Yt(i){return new Wn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ur(i){return Lt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ho(i,e,n){return{name:_e(i,e),fields:n.value.mapValue.fields}}function Vu(i,e){return{documents:[ct(i,e.path)]}}function su(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=ct(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ct(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(R){if(0!==R.length)return Nh(Ur.create(R,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(R){if(0!==R.length)return R.map(k=>{return{field:au((J=k).field),direction:lp(J.dir)};var J})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=Oh(i,e.limit);return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(n.structuredQuery.endAt=function(R){return{before:!R.inclusive,values:R.position}}(e.endAt)),n;var R}function Pd(i){let e=function Gt(i){const e=Y(i);return 4===e.length?Wn.emptyPath():ur(e)}(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let u=null;if(s>0){Lt(1===s);const H=n.from[0];H.allDescendants?u=H.collectionId:e=e.child(H.collectionId)}let l=[];n.where&&(l=function(J){const ge=xd(J);return ge instanceof Ur&&Su(ge)?ge.getFilters():[ge]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ge=>{return new qs(uu((_t=ge).field),function(Et){switch(Et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_t.direction));var _t}));let C=null;n.limit&&(C=function(J){let ge;return ge="object"==typeof J?J.value:J,Tu(ge)?null:ge}(n.limit));let R=null;var J;n.startAt&&(R=new Fa((J=n.startAt).values||[],!!J.before));let k=null;return n.endAt&&(k=function(J){return new Fa(J.values||[],!J.before)}(n.endAt)),function hs(i,e,n,s,u,l,f,C){return new ga(i,e,n,s,u,l,f,C)}(e,u,f,l,C,"F",R,k)}function xd(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uu(n.unaryFilter.field);return Qn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=uu(n.unaryFilter.field);return Qn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=uu(n.unaryFilter.field);return Qn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uu(n.unaryFilter.field);return Qn.create(f,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(i):void 0!==i.fieldFilter?Qn.create(uu((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Ur.create(n.compositeFilter.filters.map(s=>xd(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(i):xt();var n}function lp(i){return $o[i]}function Od(i){return wl[i]}function dp(i){return up[i]}function au(i){return{fieldPath:i.canonicalString()}}function uu(i){return Gr.fromServerFormat(i.fieldPath)}function Nh(i){return i instanceof Qn?function(n){if("=="===n.op){if(ld(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NAN"}};if(cd(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(ld(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NOT_NAN"}};if(cd(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(n.field),op:Od(n.op),value:n.value}}}(i):i instanceof Ur?function(n){const s=n.getFilters().map(u=>Nh(u));return 1===s.length?s[0]:{compositeFilter:{op:dp(n.op),filters:s}}}(i):xt()}function hp(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Am(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class cu{constructor(e,n,s,u,l=on.min(),f=on.min(),C=Ti.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=C,this.expectedCount=R}withSequenceNumber(e){return new cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kh{constructor(e){this.ut=e}}function Fh(i){const e=Pd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?yd(e,e.limit,"L"):e}class Ba{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(xi(e.integerValue));else if("doubleValue"in e){const s=xi(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),da(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Gs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?vh(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):xt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const u of Object.keys(s))this.At(u,n),this.Pt(s[u],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const u of s)this.Pt(u,n)}ft(e,n){this.Tt(n,37),At.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Ba.St=new Ba;class Al{constructor(){this.on=new bl}addToCollectionParentIndex(e,n){return this.on.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(wo.min())}updateCollectionGroup(e,n,s){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}}class bl{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n]||new nr(Wn.comparator),l=!u.has(s);return this.index[n]=u.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n];return u&&u.has(s)}getEntries(e){return(this.index[e]||new nr(Wn.comparator)).toArray()}}new Uint8Array(0);class rs{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(41943040,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);class Ml{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ml(0)}static Nn(){return new Ml(-1)}}class $m{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dy{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Hm{constructor(e,n,s,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==s&&wd(s.mutation,u,Uo.empty(),sr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,xn()).next(()=>s))}getLocalViewOfDocuments(e,n,s=xn()){const u=Ys();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,s).next(l=>{let f=ru();return l.forEach((C,R)=>{f=f.insert(C,R.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ys();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,xn()))}populateOverlays(e,n,s){const u=[];return s.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,C)=>{n.set(f,C)})})}computeViews(e,n,s,u){let l=ts();const f=wc(),C=wc();return n.forEach((R,k)=>{const H=s.get(k.key);u.has(k.key)&&(void 0===H||H.mutation instanceof iu)?l=l.insert(k.key,k):void 0!==H?(f.set(k.key,H.mutation.getFieldMask()),wd(H.mutation,k,H.mutation.getFieldMask(),sr.now())):f.set(k.key,Uo.empty())}),this.recalculateAndSaveOverlays(e,l).next(R=>(R.forEach((k,H)=>f.set(k,H)),n.forEach((k,H)=>{var J;return C.set(k,new Dy(H,null!==(J=f.get(k))&&void 0!==J?J:null))}),C))}recalculateAndSaveOverlays(e,n){const s=wc();let u=new Sr((f,C)=>f-C),l=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const C of f)C.keys().forEach(R=>{const k=n.get(R);if(null===k)return;let H=s.get(R)||Uo.empty();H=C.applyToLocalView(k,H),s.set(R,H);const J=(u.get(C.batchId)||xn()).add(R);u=u.insert(C.batchId,J)})}).next(()=>{const f=[],C=u.getReverseIterator();for(;C.hasNext();){const R=C.getNext(),k=R.key,H=R.value,J=xu();H.forEach(ge=>{if(!l.has(ge)){const Ne=np(n.get(ge),s.get(ge));null!==Ne&&J.set(ge,Ne),l=l.add(ge)}}),f.push(this.documentOverlayCache.saveOverlays(e,k,J))}return Re.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,u){return At.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):nu(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,u):this.getDocumentsMatchingCollectionQuery(e,n,s,u);var f}getNextDocuments(e,n,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,u-l.size):Re.resolve(Ys());let C=-1,R=l;return f.next(k=>Re.forEach(k,(H,J)=>(C<J.largestBatchId&&(C=J.largestBatchId),l.get(H)?Re.resolve():this.remoteDocumentCache.getEntry(e,H).next(ge=>{R=R.insert(H,ge)}))).next(()=>this.populateOverlays(e,k,l)).next(()=>this.computeViews(e,R,k,xn())).next(H=>({batchId:C,changes:Tc(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new At(n)).next(s=>{let u=ru();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,s,u){const l=n.collectionGroup;let f=ru();return this.indexManager.getCollectionParents(e,l).next(C=>Re.forEach(C,R=>{const k=(J=n,ge=R.child(l),new ga(ge,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,ge;return this.getDocumentsMatchingCollectionQuery(e,k,s,u).next(H=>{H.forEach((J,ge)=>{f=f.insert(J,ge)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,u){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,u))).next(f=>{l.forEach((R,k)=>{const H=k.getKey();null===f.get(H)&&(f=f.insert(H,Ir.newInvalidDocument(H)))});let C=ru();return f.forEach((R,k)=>{const H=l.get(R);void 0!==H&&wd(H.mutation,k,Uo.empty(),sr.now()),vd(n,k)&&(C=C.insert(R,k))}),C})}}class Ay{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Re.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:T(u.createTime)}),Re.resolve();var u}getNamedQuery(e,n){return Re.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:Fh(u.bundledQuery),readTime:T(u.readTime)}),Re.resolve();var u}}class by{constructor(){this.overlays=new Sr(At.comparator),this.lr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ys();return Re.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&s.set(u,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((u,l)=>{this.lt(e,n,l)}),Re.resolve()}removeOverlaysForBatchId(e,n,s){const u=this.lr.get(s);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.lr.delete(s)),Re.resolve()}getOverlaysForCollection(e,n,s){const u=Ys(),l=n.length+1,f=new At(n.child("")),C=this.overlays.getIteratorFrom(f);for(;C.hasNext();){const R=C.getNext().value,k=R.getKey();if(!n.isPrefixOf(k.path))break;k.path.length===l&&R.largestBatchId>s&&u.set(R.getKey(),R)}return Re.resolve(u)}getOverlaysForCollectionGroup(e,n,s,u){let l=new Sr((k,H)=>k-H);const f=this.overlays.getIterator();for(;f.hasNext();){const k=f.getNext().value;if(k.getKey().getCollectionGroup()===n&&k.largestBatchId>s){let H=l.get(k.largestBatchId);null===H&&(H=Ys(),l=l.insert(k.largestBatchId,H)),H.set(k.getKey(),k)}}const C=Ys(),R=l.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((k,H)=>C.set(k,H)),!(C.size()>=u)););return Re.resolve(C)}lt(e,n,s){const u=this.overlays.get(s.key);if(null!==u){const f=this.lr.get(u.largestBatchId).delete(s.key);this.lr.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ad(n,s));let l=this.lr.get(n);void 0===l&&(l=xn(),this.lr.set(n,l)),this.lr.set(n,l.add(s.key))}}class Gh{constructor(){this.hr=new nr(oo.Pr),this.Ir=new nr(oo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new oo(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new oo(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new At(new Wn([])),s=new oo(n,e),u=new oo(n,e+1),l=[];return this.Ir.forEachInRange([s,u],f=>{this.dr(f),l.push(f.key)}),l}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new At(new Wn([])),s=new oo(n,e),u=new oo(n,e+1);let l=xn();return this.Ir.forEachInRange([s,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new oo(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class oo{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return At.comparator(e.key,n.key)||wn(e.gr,n.gr)}static Tr(e,n){return wn(e.gr,n.gr)||At.comparator(e.key,n.key)}}class Sy{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new nr(oo.Pr)}checkEmpty(e){return Re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,u){const l=this.pr;this.pr++;const f=new Mc(l,n,s,u);this.mutationQueue.push(f);for(const C of u)this.yr=this.yr.add(new oo(C.key,l)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return Re.resolve(f)}lookupMutationBatch(e,n){return Re.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),l=u<0?0:u;return Re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new oo(n,0),u=new oo(n,Number.POSITIVE_INFINITY),l=[];return this.yr.forEachInRange([s,u],f=>{const C=this.wr(f.gr);l.push(C)}),Re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new nr(wn);return n.forEach(u=>{const l=new oo(u,0),f=new oo(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([l,f],C=>{s=s.add(C.gr)})}),Re.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1;let l=s;At.isDocumentKey(l)||(l=l.child(""));const f=new oo(new At(l),0);let C=new nr(wn);return this.yr.forEachWhile(R=>{const k=R.key.path;return!!s.isPrefixOf(k)&&(k.length===u&&(C=C.add(R.gr)),!0)},f),Re.resolve(this.br(C))}br(e){const n=[];return e.forEach(s=>{const u=this.wr(s);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Lt(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return Re.forEach(n.mutations,u=>{const l=new oo(u.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new oo(n,0),u=this.yr.firstAfterOrEqual(s);return Re.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Re.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ip{constructor(e){this.Cr=e,this.docs=new Sr(At.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,u=this.docs.get(s),l=u?u.size:0,f=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Re.resolve(s?s.document.mutableCopy():Ir.newInvalidDocument(n))}getEntries(e,n){let s=ts();return n.forEach(u=>{const l=this.docs.get(u);s=s.insert(u,l?l.document.mutableCopy():Ir.newInvalidDocument(u))}),Re.resolve(s)}getDocumentsMatchingQuery(e,n,s,u){let l=ts();const f=n.path,C=new At(f.child("")),R=this.docs.getIteratorFrom(C);for(;R.hasNext();){const{key:k,value:{document:H}}=R.getNext();if(!f.isPrefixOf(k.path))break;k.path.length>f.length+1||dc(il(H),s)<=0||(u.has(H.key)||vd(n,H))&&(l=l.insert(H.key,H.mutableCopy()))}return Re.resolve(l)}getAllFromCollectionGroup(e,n,s,u){xt()}vr(e,n){return Re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Ry(this)}getSize(e){return Re.resolve(this.size)}}class Ry extends $m{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(s)}),Re.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Ol{constructor(e){this.persistence=e,this.Fr=new Zs(n=>vs(n),vc),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Gh,this.targetCount=0,this.Nr=Ml.On()}forEachTarget(e,n){return this.Fr.forEach((s,u)=>n(u)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),Re.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.kn(n),Re.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,s){let u=0;const l=[];return this.Fr.forEach((f,C)=>{C.sequenceNumber<=n&&null===s.get(C.targetId)&&(this.Fr.delete(f),l.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),Re.waitFor(l).next(()=>u)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return Re.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),Re.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return Re.resolve(s)}containsKey(e,n){return Re.resolve(this.Or.containsKey(n))}}class Tp{constructor(e,n){this.Br={},this.overlays={},this.Lr=new fo(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ol(this),this.indexManager=new Al,this.remoteDocumentCache=new Ip(s=>this.referenceDelegate.Qr(s)),this.serializer=new kh(n),this.Kr=new Ay(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new by,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new Sy(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){nt("MemoryPersistence","Starting transaction:",e);const u=new Py(this.Lr.next());return this.referenceDelegate.$r(),s(u).next(l=>this.referenceDelegate.Ur(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Wr(e,n){return Re.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class Py extends id{constructor(e){super(),this.currentSequenceNumber=e}}class Nl{constructor(e){this.persistence=e,this.Gr=new Gh,this.zr=null}static jr(e){return new Nl(e)}get Hr(){if(this.zr)return this.zr;throw xt()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),Re.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Re.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Hr.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.Hr,s=>{const u=At.fromPath(s);return this.Jr(e,u).next(l=>{l||n.removeEntry(u,on.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Re.or([()=>Re.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class jc{constructor(e,n,s,u){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=u}static Qi(e,n){let s=xn(),u=xn();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new jc(e,n.fromCache,s,u)}}class Hd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ap{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,u){const l={result:null};return this.zi(e,n).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ji(e,n,u,s).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new Hd;return this.Hi(e,n,f).next(C=>{if(l.result=C,this.$i)return this.Ji(e,n,f,C.size)})}).next(()=>l.result)}Ji(e,n,s,u){return s.documentReadCount<this.Ui?(zr()<=M.in.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Re.resolve()):(zr()<=M.in.DEBUG&&nt("QueryEngine","Query:",Ks(n),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Wi*u?(zr()<=M.in.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jo(n))):Re.resolve())}zi(e,n){if(gd(n))return Re.resolve(null);let s=jo(n);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=yd(n,null,"F"),s=jo(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const f=xn(...l);return this.Gi.getDocuments(e,f).next(C=>this.indexManager.getMinOffset(e,s).next(R=>{const k=this.Yi(n,C);return this.Zi(n,k,f,R.readTime)?this.zi(e,yd(n,null,"F")):this.Xi(e,k,n,R)}))})))}ji(e,n,s,u){return gd(n)||u.isEqual(on.min())?Re.resolve(null):this.Gi.getDocuments(e,s).next(l=>{const f=this.Yi(n,l);return this.Zi(n,f,s,u)?Re.resolve(null):(zr()<=M.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ks(n)),this.Xi(e,f,n,function vu(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=on.fromTimestamp(1e9===s?new sr(n+1,0):new sr(n,s));return new wo(u,At.empty(),e)}(u,-1)).next(C=>C))})}Yi(e,n){let s=new nr(Ed(e));return n.forEach((u,l)=>{vd(e,l)&&(s=s.add(l))}),s}Zi(e,n,s,u){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Hi(e,n,s){return zr()<=M.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.Gi.getDocumentsMatchingQuery(e,n,wo.min(),s)}Xi(e,n,s,u){return this.Gi.getDocumentsMatchingQuery(e,s,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class Wm{constructor(e,n,s,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new Sr(wn),this.ns=new Zs(l=>vs(l),vc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hm(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function qh(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,m.Z)(function*(i,e){const n=Dt(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let u;return n.mutationQueue.getAllMutationBatches(s).next(l=>(u=l,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],C=[];let R=xn();for(const k of u){f.push(k.batchId);for(const H of k.mutations)R=R.add(H.key)}for(const k of l){C.push(k.batchId);for(const H of k.mutations)R=R.add(H.key)}return n.localDocuments.getDocuments(s,R).next(k=>({_s:k,removedBatchIds:f,addedBatchIds:C}))})})}),bp.apply(this,arguments)}function Sp(i){const e=Dt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Rp(i,e){const n=Dt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Gu(i,e,n){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,m.Z)(function*(i,e,n){const s=Dt(i),u=s.ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!Qo(f))throw f;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.ts=s.ts.remove(e),s.ns.delete(u.target)}),Zh.apply(this,arguments)}function zd(i,e,n){const s=Dt(i);let u=on.min(),l=xn();return s.persistence.runTransaction("Execute query","readwrite",f=>function(R,k,H){const J=Dt(R),ge=J.ns.get(H);return void 0!==ge?Re.resolve(J.ts.get(ge)):J.qr.getTargetData(k,H)}(s,f,jo(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(f,C.targetId).next(R=>{l=R})}).next(()=>s.es.getDocumentsMatchingQuery(f,e,n?u:on.min(),n?l:xn())).next(C=>(function Yh(i,e,n){let s=i.rs.get(e)||on.min();n.forEach((u,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.rs.set(e,s)}(s,function Ic(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),C),{documents:C,ls:l})))}class xp{constructor(){this.activeTargetIds=function Cc(){return pl}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zm{constructor(){this.eo=new xp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new xp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Np{ro(e){}shutdown(){}}class kp{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xh=null;function ef(){return null===Xh?Xh=268435456+Math.round(2147483648*Math.random()):Xh++,"0x"+Xh.toString(16)}const Fp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DE{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const fs="WebChannelConnection";class Oy extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${u}/databases/${l}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${l}`}get yo(){return!1}wo(n,s,u,l,f){const C=ef(),R=this.So(n,s);nt("RestConnection",`Sending RPC '${n}' ${C}:`,R,u);const k={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(k,l,f),this.Do(n,R,k,u).then(H=>(nt("RestConnection",`Received RPC '${n}' ${C}: `,H),H),H=>{throw Or("RestConnection",`RPC '${n}' ${C} failed with error: `,H,"url: ",R,"request:",u),H})}Co(n,s,u,l,f,C){return this.wo(n,s,u,l,f)}bo(n,s,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+yr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,f)=>n[f]=l),u&&u.headers.forEach((l,f)=>n[f]=l)}So(n,s){return`${this.mo}/v1/${s}:${Fp[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,u){const l=ef();return new Promise((f,C)=>{const R=new Vt;R.setWithCredentials(!0),R.listenOnce(x.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case j.NO_ERROR:const H=R.getResponseJson();nt(fs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(H)),f(H);break;case j.TIMEOUT:nt(fs,`RPC '${e}' ${l} timed out`),C(new ot(je.DEADLINE_EXCEEDED,"Request time out"));break;case j.HTTP_ERROR:const J=R.getStatus();if(nt(fs,`RPC '${e}' ${l} failed with status:`,J,"response text:",R.getResponseText()),J>0){let ge=R.getResponseJson();Array.isArray(ge)&&(ge=ge[0]);const Ne=ge?.error;if(Ne&&Ne.status&&Ne.message){const _t=function(Et){const cn=Et.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(cn)>=0?cn:je.UNKNOWN}(Ne.status);C(new ot(_t,Ne.message))}else C(new ot(je.UNKNOWN,"Server responded with status "+R.getStatus()))}else C(new ot(je.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{nt(fs,`RPC '${e}' ${l} completed.`)}});const k=JSON.stringify(u);nt(fs,`RPC '${e}' ${l} sending request:`,u),R.send(n,"POST",k,s,15)})}vo(e,n,s){const u=ef(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=uc(),C=w(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},k=this.longPollingOptions.timeoutSeconds;void 0!==k&&(R.longPollingTimeout=Math.round(1e3*k)),this.useFetchStreams&&(R.useFetchStreams=!0),this.bo(R.initMessageHeaders,n,s),R.encodeInitMessageHeaders=!0;const H=l.join("");nt(fs,`Creating RPC '${e}' stream ${u}: ${H}`,R);const J=f.createWebChannel(H,R);let ge=!1,Ne=!1;const _t=new DE({co:Et=>{Ne?nt(fs,`Not sending because RPC '${e}' stream ${u} is closed:`,Et):(ge||(nt(fs,`Opening RPC '${e}' stream ${u} transport.`),J.open(),ge=!0),nt(fs,`RPC '${e}' stream ${u} sending:`,Et),J.send(Et))},lo:()=>J.close()}),Tt=(Et,cn,Rn)=>{Et.listen(cn,vn=>{try{Rn(vn)}catch(cr){setTimeout(()=>{throw cr},0)}})};return Tt(J,Ye.EventType.OPEN,()=>{Ne||nt(fs,`RPC '${e}' stream ${u} transport opened.`)}),Tt(J,Ye.EventType.CLOSE,()=>{Ne||(Ne=!0,nt(fs,`RPC '${e}' stream ${u} transport closed`),_t.Ro())}),Tt(J,Ye.EventType.ERROR,Et=>{Ne||(Ne=!0,Or(fs,`RPC '${e}' stream ${u} transport errored:`,Et),_t.Ro(new ot(je.UNAVAILABLE,"The operation could not be completed")))}),Tt(J,Ye.EventType.MESSAGE,Et=>{var cn;if(!Ne){const Rn=Et.data[0];Lt(!!Rn);const cr=Rn.error||(null===(cn=Rn[0])||void 0===cn?void 0:cn.error);if(cr){nt(fs,`RPC '${e}' stream ${u} received error:`,cr);const kr=cr.status;let qr=function(GE){const Nv=qi[GE];if(void 0!==Nv)return yl(Nv)}(kr),Ao=cr.message;void 0===qr&&(qr=je.INTERNAL,Ao="Unknown error status: "+kr+" with message "+cr.message),Ne=!0,_t.Ro(new ot(qr,Ao)),J.close()}else nt(fs,`RPC '${e}' stream ${u} received:`,Rn),_t.Vo(Rn)}}),Tt(C,L.STAT_EVENT,Et=>{Et.stat===oe.PROXY?nt(fs,`RPC '${e}' stream ${u} detected buffering proxy`):Et.stat===oe.NOPROXY&&nt(fs,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{_t.Ao()},0),_t}}function Vp(){return typeof document<"u"?document:null}function tf(i){return new cp(i,!0)}class Ll{constructor(e,n,s=1e3,u=1.5,l=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=u,this.xo=l,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-s);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Qm{constructor(e,n,s,u,l,f,C,R){this.si=e,this.Ko=s,this.$o=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=C,this.listener=R,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ll(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,m.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,m.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,m.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===je.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===je.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Uo===n&&this.s_(s,u)},s=>{e(()=>{const u=new ot(je.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(u)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{s(()=>this.o_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,m.Z)(function*(){e.state=0,e.start()}))}o_(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lp extends Qm{constructor(e,n,s,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,u,f),this.serializer=l}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Sd(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(k=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===k?1:"REMOVE"===k?2:"CURRENT"===k?3:"RESET"===k?4:xt(),u=e.targetChange.targetIds||[],l=function(k,H){return k.useProto3Json?(Lt(void 0===H||"string"==typeof H),Ti.fromBase64String(H||"")):(Lt(void 0===H||H instanceof Uint8Array),Ti.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,C=f&&function(k){const H=void 0===k.code?je.UNKNOWN:yl(k.code);return new ot(H,k.message||"")}(f);n=new ap(s,u,l,C||null)}else if("documentChange"in e){const s=e.documentChange,u=ke(i,s.document.name),l=T(s.document.updateTime),f=s.document.createTime?T(s.document.createTime):on.min(),C=new io({mapValue:{fields:s.document.fields}}),R=Ir.newFoundDocument(u,l,f,C);n=new Tl(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,u=ke(i,s.document),l=s.readTime?T(s.readTime):on.min(),f=Ir.newNoDocument(u,l);n=new Tl([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,u=ke(i,s.document);n=new Tl([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return xt();{const s=e.filter,{count:u=0,unchangedNames:l}=s,f=new xc(u,l);n=new sp(s.targetId,f)}}var k;return n}(this.serializer,e),s=function(l){if(!("targetChange"in l))return on.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?on.min():f.readTime?T(f.readTime):on.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=Yt(this.serializer),n.addTarget=function(l,f){let C;const R=f.target;if(C=dl(R)?{documents:Vu(l,R)}:{query:su(l,R)},C.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){C.resumeToken=h(l,f.resumeToken);const k=Oh(l,f.expectedCount);null!==k&&(C.expectedCount=k)}else if(f.snapshotVersion.compareTo(on.min())>0){C.readTime=E(l,f.snapshotVersion.toTimestamp());const k=Oh(l,f.expectedCount);null!==k&&(C.expectedCount=k)}return C}(this.serializer,e);const s=function Md(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=Yt(this.serializer),n.removeTarget=e,this.e_(n)}}class Up extends Qm{constructor(e,n,s,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,u,f),this.serializer=l,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Rd(i,e){return i&&i.length>0?(Lt(void 0!==e),i.map(n=>function(u,l){let f=T(u.updateTime?u.updateTime:l);return f.isEqual(on.min())&&(f=T(l)),new yy(f,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=T(e.commitTime);return this.listener.I_(s,n)}return Lt(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Yt(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>function Is(i,e){let n;if(e instanceof ml)n={update:Ho(i,e.key,e.value)};else if(e instanceof Rc)n={delete:_e(i,e.key)};else if(e instanceof iu)n={update:Ho(i,e.key,e.data),updateMask:hp(e.fieldMask)};else{if(!(e instanceof Pc))return xt();n={verify:_e(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,f){const C=f.transform;if(C instanceof Ou)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof ku)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof bc)return{fieldPath:f.field.canonicalString(),increment:C.Ie};throw xt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:p(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:xt()),n;var l}(this.serializer,s))};this.e_(n)}}class Ul extends class{}{constructor(e,n,s,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new ot(je.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.wo(e,n,s,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(je.UNKNOWN,u.toString())})}Co(e,n,s,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Co(e,n,s,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ot(je.UNKNOWN,l.toString())})}terminate(){this.d_=!0}}class Zd{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(xr(n),this.f_=!1):nt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class nf{constructor(e,n,s,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=l,this.F_.ro(C=>{s.enqueueAndForget((0,m.Z)(function*(){var R;Zu(f)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,m.Z)(function*(H){const J=Dt(H);J.C_.add(4),yield Ku(J),J.M_.set("Unknown"),J.C_.delete(4),yield ja(J)}),function k(H){return R.apply(this,arguments)})(f))}))}),this.M_=new Zd(s,u)}}function ja(i){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,m.Z)(function*(i){if(Zu(i))for(const e of i.v_)yield e(!0)}),Yd.apply(this,arguments)}function Ku(i){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,m.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Bl.apply(this,arguments)}function jp(i,e){const n=Dt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),$p(n)?rf(n):Wc(n).Ho()&&zc(n,e))}function Hc(i,e){const n=Dt(i),s=Wc(n);n.D_.delete(e),s.Ho()&&Jm(n,e),0===n.D_.size&&(s.Ho()?s.Zo():Zu(n)&&n.M_.set("Unknown"))}function zc(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(on.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wc(i).u_(e)}function Jm(i,e){i.x_.Oe(e),Wc(i).c_(e)}function rf(i){i.x_=new Mh({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Wc(i).start(),i.M_.g_()}function $p(i){return Zu(i)&&!Wc(i).jo()&&i.D_.size>0}function Zu(i){return 0===Dt(i).C_.size}function sf(i){i.x_=void 0}function Xm(i){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,m.Z)(function*(i){i.D_.forEach((e,n)=>{zc(i,e)})}),Hp.apply(this,arguments)}function Ny(i,e){return e_.apply(this,arguments)}function e_(){return e_=(0,m.Z)(function*(i,e){sf(i),$p(i)?(i.M_.w_(e),rf(i)):i.M_.set("Unknown")}),e_.apply(this,arguments)}function ky(i,e,n){return jl.apply(this,arguments)}function jl(){return jl=(0,m.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof ap&&2===e.state&&e.cause)try{yield(s=(0,m.Z)(function*(l,f){const C=f.cause;for(const R of f.targetIds)l.D_.has(R)&&(yield l.remoteSyncer.rejectListen(R,C),l.D_.delete(R),l.x_.removeTarget(R))}),function u(l,f){return s.apply(this,arguments)})(i,e)}catch(s){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield $l(i,s)}else if(e instanceof Tl?i.x_.$e(e):e instanceof sp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(on.min()))try{const s=yield Sp(i.localStore);n.compareTo(s)>=0&&(yield function(l,f){const C=l.x_.it(f);return C.targetChanges.forEach((R,k)=>{if(R.resumeToken.approximateByteSize()>0){const H=l.D_.get(k);H&&l.D_.set(k,H.withResumeToken(R.resumeToken,f))}}),C.targetMismatches.forEach((R,k)=>{const H=l.D_.get(R);if(!H)return;l.D_.set(R,H.withResumeToken(Ti.EMPTY_BYTE_STRING,H.snapshotVersion)),Jm(l,R);const J=new cu(H.target,R,k,H.sequenceNumber);zc(l,J)}),l.remoteSyncer.applyRemoteEvent(C)}(i,n))}catch(s){nt("RemoteStore","Failed to raise snapshot:",s),yield $l(i,s)}var s}),jl.apply(this,arguments)}function $l(i,e,n){return zp.apply(this,arguments)}function zp(){return zp=(0,m.Z)(function*(i,e,n){if(!Qo(e))throw e;i.C_.add(1),yield Ku(i),i.M_.set("Offline"),n||(n=()=>Sp(i.localStore)),i.asyncQueue.enqueueRetryable((0,m.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield ja(i)}))}),zp.apply(this,arguments)}function Gp(i,e){return e().catch(n=>$l(i,n,e))}function Yu(i){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,m.Z)(function*(i){const e=Dt(i),n=$a(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Fy(e);)try{const u=yield Rp(e.localStore,s);if(null===u){0===e.b_.length&&n.Zo();break}s=u.batchId,t_(e,u)}catch(u){yield $l(e,u)}n_(e)&&Wp(e)}),Hl.apply(this,arguments)}function Fy(i){return Zu(i)&&i.b_.length<10}function t_(i,e){i.b_.push(e);const n=$a(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function n_(i){return Zu(i)&&!$a(i).jo()&&i.b_.length>0}function Wp(i){$a(i).start()}function AE(i){return qp.apply(this,arguments)}function qp(){return qp=(0,m.Z)(function*(i){$a(i).E_()}),qp.apply(this,arguments)}function af(i){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,m.Z)(function*(i){const e=$a(i);for(const n of i.b_)e.P_(n.mutations)}),Kp.apply(this,arguments)}function zl(i,e,n){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,m.Z)(function*(i,e,n){const s=i.b_.shift(),u=Dd.from(s,e,n);yield Gp(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Yu(i)}),Gc.apply(this,arguments)}function Vy(i,e){return uf.apply(this,arguments)}function uf(){return uf=(0,m.Z)(function*(i,e){var n;e&&$a(i).h_&&(yield(n=(0,m.Z)(function*(u,l){if(function _l(i){switch(i){default:return xt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}(C=l.code)&&C!==je.ABORTED){const f=u.b_.shift();$a(u).Yo(),yield Gp(u,()=>u.remoteSyncer.rejectFailedWrite(f.batchId,l)),yield Yu(u)}var C}),function s(u,l){return n.apply(this,arguments)})(i,e)),n_(i)&&Wp(i)}),uf.apply(this,arguments)}function r_(i,e){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,m.Z)(function*(i,e){const n=Dt(i);n.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const s=Zu(n);n.C_.add(3),yield Ku(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield ja(n)}),Zp.apply(this,arguments)}function cf(){return cf=(0,m.Z)(function*(i,e){const n=Dt(i);e?(n.C_.delete(2),yield ja(n)):e||(n.C_.add(2),yield Ku(n),n.M_.set("Unknown"))}),cf.apply(this,arguments)}function Wc(i){return i.O_||(i.O_=function(n,s,u){const l=Dt(n);return l.A_(),new Lp(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:Xm.bind(null,i),Io:Ny.bind(null,i),a_:ky.bind(null,i)}),i.v_.push(function(){var e=(0,m.Z)(function*(n){n?(i.O_.Yo(),$p(i)?rf(i):i.M_.set("Unknown")):(yield i.O_.stop(),sf(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function $a(i){return i.N_||(i.N_=function(n,s,u){const l=Dt(n);return l.A_(),new Up(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,u)}(i.datastore,i.asyncQueue,{ho:AE.bind(null,i),Io:Vy.bind(null,i),T_:af.bind(null,i),I_:zl.bind(null,i)}),i.v_.push(function(){var e=(0,m.Z)(function*(n){n?(i.N_.Yo(),yield Yu(i)):(yield i.N_.stop(),i.b_.length>0&&(nt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class i_{constructor(e,n,s,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=u,this.removalCallback=l,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,u,l){const f=Date.now()+s,C=new i_(e,n,f,u,l);return C.start(s),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ot(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qu(i,e){if(xr("AsyncQueue",`${e}: ${i}`),Qo(i))return new ot(je.UNAVAILABLE,`${e}: ${i}`);throw i}class qc{constructor(e){this.comparator=e?(n,s)=>e(n,s)||At.comparator(n.key,s.key):(n,s)=>At.comparator(n.key,s.key),this.keyedMap=ru(),this.sortedSet=new Sr(this.comparator)}static emptySet(e){return new qc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=s.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new qc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class o_{constructor(){this.B_=new Sr(At.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):xt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Gl{constructor(e,n,s,u,l,f,C,R,k){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=C,this.excludesMetadataChanges=R,this.hasCachedResults=k}static fromInitialDocuments(e,n,s,u,l){const f=[];return n.forEach(C=>{f.push({type:0,doc:C})}),new Gl(e,n,qc.emptySet(n),f,s,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==s[u].type||!n[u].doc.isEqual(s[u].doc))return!1;return!0}}class s_{constructor(){this.k_=void 0,this.listeners=[]}}class Ly{constructor(){this.queries=new Zs(e=>Ec(e),Oo),this.onlineState="Unknown",this.q_=new Set}}function Qp(){return Qp=(0,m.Z)(function*(i,e){const n=Dt(i),s=e.query;let u=!1,l=n.queries.get(s);if(l||(u=!0,l=new s_),u)try{l.k_=yield n.onListen(s)}catch(f){const C=Qu(f,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(C)}n.queries.set(s,l),l.listeners.push(e),e.Q_(n.onlineState),l.k_&&e.K_(l.k_)&&ks(n)}),Qp.apply(this,arguments)}function a_(){return a_=(0,m.Z)(function*(i,e){const n=Dt(i),s=e.query;let u=!1;const l=n.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(s),n.onUnlisten(s)}),a_.apply(this,arguments)}function u_(i,e){const n=Dt(i);let s=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const C of f.listeners)C.K_(u)&&(s=!0);f.k_=u}}s&&ks(n)}function c_(i,e,n){const s=Dt(i),u=s.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);s.queries.delete(e)}function ks(i){i.q_.forEach(e=>{e.next()})}class df{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class l_{constructor(e){this.key=e}}class Uy{constructor(e){this.key=e}}class d_{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xn(),this.mutatedKeys=xn(),this._a=Ed(e),this.aa=new qc(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new o_,u=n?n.aa:this.aa;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,C=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,k="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((H,J)=>{const ge=u.get(H),Ne=vd(this.query,J)?J:null,_t=!!ge&&this.mutatedKeys.has(ge.key),Tt=!!Ne&&(Ne.hasLocalMutations||this.mutatedKeys.has(Ne.key)&&Ne.hasCommittedMutations);let Et=!1;ge&&Ne?ge.data.isEqual(Ne.data)?_t!==Tt&&(s.track({type:3,doc:Ne}),Et=!0):this.ha(ge,Ne)||(s.track({type:2,doc:Ne}),Et=!0,(R&&this._a(Ne,R)>0||k&&this._a(Ne,k)<0)&&(C=!0)):!ge&&Ne?(s.track({type:0,doc:Ne}),Et=!0):ge&&!Ne&&(s.track({type:1,doc:ge}),Et=!0,(R||k)&&(C=!0)),Et&&(Ne?(f=f.add(Ne),l=Tt?l.add(H):l.delete(H)):(f=f.delete(H),l=l.delete(H)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const H="F"===this.query.limitType?f.last():f.first();f=f.delete(H.key),l=l.delete(H.key),s.track({type:1,doc:H})}return{aa:f,la:s,Zi:C,mutatedKeys:l}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,u){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const f=e.la.L_();f.sort((H,J)=>function(Ne,_t){const Tt=Et=>{switch(Et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return Tt(Ne)-Tt(_t)}(H.type,J.type)||this._a(H.doc,J.doc)),this.Pa(s),u=null!=u&&u;const C=n&&!u?this.Ia():[],R=0===this.oa.size&&this.current&&!u?1:0,k=R!==this.sa;return this.sa=R,0!==f.length||k?{snapshot:new Gl(this.query,e.aa,l,f,e.mutatedKeys,0===R,k,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:C}:{Ta:C}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new o_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xn(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new Uy(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new l_(s))}),n}da(e){this.ia=e.ls,this.oa=xn();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Gl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Xp{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Ha{constructor(e){this.key=e,this.Ra=!1}}class h_{constructor(e,n,s,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Va={},this.ma=new Zs(C=>Ec(C),Oo),this.fa=new Map,this.ga=new Set,this.pa=new Sr(At.comparator),this.ya=new Map,this.wa=new Gh,this.Sa={},this.ba=new Map,this.Da=Ml.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function By(i,e){return f_.apply(this,arguments)}function f_(){return f_=(0,m.Z)(function*(i,e){const n=function Fn(i){const e=Dt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=rg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g_.bind(null,e),e.Va.a_=u_.bind(null,e.eventManager),e.Va.Fa=c_.bind(null,e.eventManager),e}(i);let s,u;const l=n.ma.get(e);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),u=l.view.Aa();else{const f=yield function Fl(i,e){const n=Dt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return n.qr.getTargetData(s,e).next(l=>l?(u=l,Re.resolve(u)):n.qr.allocateTargetId(s).next(f=>(u=new cu(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=n.ts.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}(n.localStore,jo(e)),C=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,u=yield function mo(i,e,n,s,u){return eg.apply(this,arguments)}(n,e,s,"current"===C,f.resumeToken),n.isPrimaryClient&&jp(n.remoteStore,f)}return u}),f_.apply(this,arguments)}function eg(){return eg=(0,m.Z)(function*(i,e,n,s,u){i.va=(J,ge,Ne)=>{return(_t=(0,m.Z)(function*(Et,cn,Rn,vn){let cr=cn.view.ca(Rn);cr.Zi&&(cr=yield zd(Et.localStore,cn.query,!1).then(({documents:Ts})=>cn.view.ca(Ts,cr)));const kr=vn&&vn.targetChanges.get(cn.targetId),qr=vn&&null!=vn.targetMismatches.get(cn.targetId),Ao=cn.view.applyChanges(cr,Et.isPrimaryClient,kr,qr);return _f(Et,cn.targetId,Ao.Ta),Ao.snapshot}),function Tt(Et,cn,Rn,vn){return _t.apply(this,arguments)})(i,J,ge,Ne);var _t};const l=yield zd(i.localStore,e,!0),f=new d_(e,l.ls),C=f.ca(l.documents),R=Il.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,u),k=f.applyChanges(C,i.isPrimaryClient,R);_f(i,n,k.Ta);const H=new Xp(e,n,f);return i.ma.set(e,H),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),k.snapshot}),eg.apply(this,arguments)}function tg(i,e){return ng.apply(this,arguments)}function ng(){return ng=(0,m.Z)(function*(i,e){const n=Dt(i),s=n.ma.get(e),u=n.fa.get(s.targetId);if(u.length>1)return n.fa.set(s.targetId,u.filter(l=>!Oo(l,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Gu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Hc(n.remoteStore,s.targetId),ql(n,s.targetId)}).catch(Ms))):(ql(n,s.targetId),yield Gu(n.localStore,s.targetId,!0))}),ng.apply(this,arguments)}function Qd(){return Qd=(0,m.Z)(function*(i,e,n){const s=function If(i){const e=Dt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$y.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hy.bind(null,e),e}(i);try{const u=yield function(f,C){const R=Dt(f),k=sr.now(),H=C.reduce((Ne,_t)=>Ne.add(_t.key),xn());let J,ge;return R.persistence.runTransaction("Locally write mutations","readwrite",Ne=>{let _t=ts(),Tt=xn();return R.ss.getEntries(Ne,H).next(Et=>{_t=Et,_t.forEach((cn,Rn)=>{Rn.isValidDocument()||(Tt=Tt.add(cn))})}).next(()=>R.localDocuments.getOverlayedDocuments(Ne,_t)).next(Et=>{J=Et;const cn=[];for(const Rn of C){const vn=vy(Rn,J.get(Rn.key).overlayedDocument);null!=vn&&cn.push(new iu(Rn.key,vn,bu(vn.value.mapValue),wi.exists(!0)))}return R.mutationQueue.addMutationBatch(Ne,k,cn,C)}).next(Et=>{ge=Et;const cn=Et.applyToLocalDocumentSet(J,Tt);return R.documentOverlayCache.saveOverlays(Ne,Et.batchId,cn)})}).then(()=>({batchId:ge.batchId,changes:Tc(J)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(f,C,R){let k=f.Sa[f.currentUser.toKey()];k||(k=new Sr(wn)),k=k.insert(C,R),f.Sa[f.currentUser.toKey()]=k}(s,u.batchId,n),yield Js(s,u.changes),yield Yu(s.remoteStore)}catch(u){const l=Qu(u,"Failed to persist write");n.reject(l)}}),Qd.apply(this,arguments)}function rg(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,m.Z)(function*(i,e){const n=Dt(i);try{const s=yield function Kh(i,e){const n=Dt(i),s=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const C=[];e.targetChanges.forEach((H,J)=>{const ge=u.get(J);if(!ge)return;C.push(n.qr.removeMatchingKeys(l,H.removedDocuments,J).next(()=>n.qr.addMatchingKeys(l,H.addedDocuments,J)));let Ne=ge.withSequenceNumber(l.currentSequenceNumber);var Tt,Et,cn;null!==e.targetMismatches.get(J)?Ne=Ne.withResumeToken(Ti.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):H.resumeToken.approximateByteSize()>0&&(Ne=Ne.withResumeToken(H.resumeToken,s)),u=u.insert(J,Ne),Et=Ne,cn=H,(0===(Tt=ge).resumeToken.approximateByteSize()||Et.snapshotVersion.toMicroseconds()-Tt.snapshotVersion.toMicroseconds()>=3e8||cn.addedDocuments.size+cn.modifiedDocuments.size+cn.removedDocuments.size>0)&&C.push(n.qr.updateTargetData(l,Ne))});let R=ts(),k=xn();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&C.push(n.persistence.referenceDelegate.updateLimboDocument(l,H))}),C.push(function xy(i,e,n){let s=xn(),u=xn();return n.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let f=ts();return n.forEach((C,R)=>{const k=l.get(C);R.isFoundDocument()!==k.isFoundDocument()&&(u=u.add(C)),R.isNoDocument()&&R.version.isEqual(on.min())?(e.removeEntry(C,R.readTime),f=f.insert(C,R)):!k.isValidDocument()||R.version.compareTo(k.version)>0||0===R.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(R),f=f.insert(C,R)):nt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",k.version," Watch version:",R.version)}),{us:f,cs:u}})}(l,f,e.documentUpdates).next(H=>{R=H.us,k=H.cs})),!s.isEqual(on.min())){const H=n.qr.getLastRemoteSnapshotVersion(l).next(J=>n.qr.setTargetsMetadata(l,l.currentSequenceNumber,s));C.push(H)}return Re.waitFor(C).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,R,k)).next(()=>R)}).then(l=>(n.ts=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.ya.get(l);f&&(Lt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.Ra=!0:u.modifiedDocuments.size>0?Lt(f.Ra):u.removedDocuments.size>0&&(Lt(f.Ra),f.Ra=!1))}),yield Js(n,s,e)}catch(s){yield Ms(s)}}),pf.apply(this,arguments)}function p_(i,e,n){const s=Dt(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const u=[];s.ma.forEach((l,f)=>{const C=f.view.Q_(e);C.snapshot&&u.push(C.snapshot)}),function(f,C){const R=Dt(f);R.onlineState=C;let k=!1;R.queries.forEach((H,J)=>{for(const ge of J.listeners)ge.Q_(C)&&(k=!0)}),k&&ks(R)}(s.eventManager,e),u.length&&s.Va.a_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function g_(i,e,n){return gf.apply(this,arguments)}function gf(){return gf=(0,m.Z)(function*(i,e,n){const s=Dt(i);s.sharedClientState.updateQueryState(e,"rejected",n);const u=s.ya.get(e),l=u&&u.key;if(l){let f=new Sr(At.comparator);f=f.insert(l,Ir.newNoDocument(l,on.min()));const C=xn().add(l),R=new El(on.min(),new Map,new Sr(wn),f,C);yield rg(s,R),s.pa=s.pa.remove(l),s.ya.delete(e),Kc(s)}else yield Gu(s.localStore,e,!1).then(()=>ql(s,e,n)).catch(Ms)}),gf.apply(this,arguments)}function $y(i,e){return ig.apply(this,arguments)}function ig(){return ig=(0,m.Z)(function*(i,e){const n=Dt(i),s=e.batch.batchId;try{const u=yield function qm(i,e){const n=Dt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),l=n.ss.newChangeBuffer({trackRemovals:!0});return function(C,R,k,H){const J=k.batch,ge=J.keys();let Ne=Re.resolve();return ge.forEach(_t=>{Ne=Ne.next(()=>H.getEntry(R,_t)).next(Tt=>{const Et=k.docVersions.get(_t);Lt(null!==Et),Tt.version.compareTo(Et)<0&&(J.applyToRemoteDocument(Tt,k),Tt.isValidDocument()&&(Tt.setReadTime(k.commitVersion),H.addEntry(Tt)))})}),Ne.next(()=>C.mutationQueue.removeMutationBatch(R,J))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(C){let R=xn();for(let k=0;k<C.mutationResults.length;++k)C.mutationResults[k].transformResults.length>0&&(R=R.add(C.batch.mutations[k].key));return R}(e))).next(()=>n.localDocuments.getDocuments(s,u))})}(n.localStore,e);og(n,s,null),Xu(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Js(n,u)}catch(u){yield Ms(u)}}),ig.apply(this,arguments)}function Hy(i,e,n){return mf.apply(this,arguments)}function mf(){return mf=(0,m.Z)(function*(i,e,n){const s=Dt(i);try{const u=yield function(f,C){const R=Dt(f);return R.persistence.runTransaction("Reject batch","readwrite-primary",k=>{let H;return R.mutationQueue.lookupMutationBatch(k,C).next(J=>(Lt(null!==J),H=J.keys(),R.mutationQueue.removeMutationBatch(k,J))).next(()=>R.mutationQueue.performConsistencyCheck(k)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(k,H,C)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(k,H)).next(()=>R.localDocuments.getDocuments(k,H))})}(s.localStore,e);og(s,e,n),Xu(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Js(s,u)}catch(u){yield Ms(u)}}),mf.apply(this,arguments)}function Xu(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function og(i,e,n){const s=Dt(i);let u=s.Sa[s.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),s.Sa[s.currentUser.toKey()]=u}}function ql(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),n&&i.Va.Fa(s,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||sg(i,s)})}function sg(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Hc(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),Kc(i))}function _f(i,e,n){for(const s of n)s instanceof l_?(i.wa.addReference(s.key,e),ag(i,s)):s instanceof Uy?(nt("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||sg(i,s.key)):xt()}function ag(i,e){const n=e.key,s=n.path.canonicalString();i.pa.get(n)||i.ga.has(s)||(nt("SyncEngine","New document in limbo: "+n),i.ga.add(s),Kc(i))}function Kc(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new At(Wn.fromString(e)),s=i.Da.next();i.ya.set(s,new Ha(n)),i.pa=i.pa.insert(n,s),jp(i.remoteStore,new cu(jo(Ns(n.path)),s,"TargetPurposeLimboResolution",fo._e))}}function Js(i,e,n){return yf.apply(this,arguments)}function yf(){return yf=(0,m.Z)(function*(i,e,n){const s=Dt(i),u=[],l=[],f=[];var C;s.ma.isEmpty()||(s.ma.forEach((C,R)=>{f.push(s.va(R,e,n).then(k=>{if((k||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,k?.fromCache?"not-current":"current"),k){u.push(k);const H=jc.Qi(R.targetId,k);l.push(H)}}))}),yield Promise.all(f),s.Va.a_(u),yield(C=(0,m.Z)(function*(k,H){const J=Dt(k);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",ge=>Re.forEach(H,Ne=>Re.forEach(Ne.ki,_t=>J.persistence.referenceDelegate.addReference(ge,Ne.targetId,_t)).next(()=>Re.forEach(Ne.qi,_t=>J.persistence.referenceDelegate.removeReference(ge,Ne.targetId,_t)))))}catch(ge){if(!Qo(ge))throw ge;nt("LocalStore","Failed to update sequence numbers: "+ge)}for(const ge of H){const Ne=ge.targetId;if(!ge.fromCache){const _t=J.ts.get(Ne),Et=_t.withLastLimboFreeSnapshotVersion(_t.snapshotVersion);J.ts=J.ts.insert(Ne,Et)}}}),function R(k,H){return C.apply(this,arguments)})(s.localStore,l))}),yf.apply(this,arguments)}function m_(i,e){return ug.apply(this,arguments)}function ug(){return ug=(0,m.Z)(function*(i,e){const n=Dt(i);if(!n.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const s=yield qh(n.localStore,e);n.currentUser=e,(l=n).ba.forEach(C=>{C.forEach(R=>{R.reject(new ot(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Js(n,s._s)}var l}),ug.apply(this,arguments)}function zy(i,e){const n=Dt(i),s=n.ya.get(e);if(s&&s.Ra)return xn().add(s.key);{let u=xn();const l=n.fa.get(e);if(!l)return u;for(const f of l){const C=n.ma.get(f);u=u.unionWith(C.view.ua)}return u}}class hu{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,m.Z)(function*(){n.serializer=tf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Wh(i,e,n,s){return new Wm(i,e,n,s)}(this.persistence,new Ap,e.initialUser,this.serializer)}createPersistence(e){return new Tp(Nl.jr,this.serializer)}createSharedClientState(e){return new Zm}terminate(){var e=this;return(0,m.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ea{initialize(e,n){var s=this;return(0,m.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>p_(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=m_.bind(null,s.syncEngine),yield function Yp(i,e){return cf.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ly}createDatastore(e){const n=tf(e.databaseInfo.databaseId),s=new Oy(e.databaseInfo);return new Ul(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,u=this.datastore,l=e.asyncQueue,f=n=>p_(this.syncEngine,n,0),C=kp.D()?new kp:new Np,new nf(s,u,l,f,C);var s,u,l,f,C}createSyncEngine(e,n){return function(u,l,f,C,R,k,H){const J=new h_(u,l,f,C,R,k);return H&&(J.Ca=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,m.Z)(function*(s){const u=Dt(s);nt("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Ku(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}class ec{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class pg{constructor(e,n,s,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=u,this.user=rn.UNAUTHENTICATED,this.clientId=to.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,m.Z)(function*(C){nt("FirestoreClient","Received user=",C.uid),yield l.authCredentialListener(C),l.user=C});return function(C){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(nt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,m.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ot(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const u=Qu(s,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function eh(i,e){return th.apply(this,arguments)}function th(){return th=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,m.Z)(function*(l){s.isEqual(l)||(yield qh(e.localStore,l),s=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),th.apply(this,arguments)}function gg(i,e){return mg.apply(this,arguments)}function mg(){return mg=(0,m.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function wf(i){return _g.apply(this,arguments)}(i);nt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(n,s),i.setCredentialChangeListener(u=>r_(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>r_(e.remoteStore,l)),i._onlineComponents=e}),mg.apply(this,arguments)}function _g(){return _g=(0,m.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function S_(i){return"FirebaseError"===i.name?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Or("Error using user provided cache. Falling back to memory cache: "+n),yield eh(i,new hu)}}else nt("FirestoreClient","Using default OfflineComponentProvider"),yield eh(i,new hu);return i._offlineComponents}),_g.apply(this,arguments)}function Cf(i){return yg.apply(this,arguments)}function yg(){return yg=(0,m.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield gg(i,i._uninitializedComponentsProvider._online)):(nt("FirestoreClient","Using default OnlineComponentProvider"),yield gg(i,new Ea))),i._onlineComponents}),yg.apply(this,arguments)}function No(i){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,m.Z)(function*(i){const e=yield Cf(i),n=e.eventManager;return n.onListen=By.bind(null,e.syncEngine),n.onUnlisten=tg.bind(null,e.syncEngine),n}),Ig.apply(this,arguments)}function O_(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const N_=new Map;function Dg(i,e,n){if(!n)throw new ot(je.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Ia(i){if(!At.isDocumentKey(i))throw new ot(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Df(i){if(At.isDocumentKey(i))throw new ot(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Af(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":xt()}function gr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ot(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(i);throw new ot(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Ag{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ot(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ot(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Xy(i,e,n,s){if(!0===e&&!0===s)throw new ot(je.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=O_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ot(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kl{constructor(e,n,s,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ot(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ot(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new _u;switch(s.type){case"firstParty":return new rd(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=N_.get(n);s&&(nt("ComponentProvider","Removing Datastore"),N_.delete(n),s.terminate())}(this),Promise.resolve()}}class Do{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class _o{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _o(this.firestore,e,this._key)}}class Ta extends Do{constructor(e,n,s){super(e,n,Ns(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _o(this.firestore,null,new At(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function F_(i,e,...n){if(i=(0,Q.m9)(i),Dg("collection","path",e),i instanceof Kl){const s=Wn.fromString(e,...n);return Df(s),new Ta(i,null,s)}{if(!(i instanceof _o||i instanceof Ta))throw new ot(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Wn.fromString(e,...n));return Df(s),new Ta(i.firestore,null,s)}}function bg(i,e,...n){if(i=(0,Q.m9)(i),1===arguments.length&&(e=to.newId()),Dg("doc","path",e),i instanceof Kl){const s=Wn.fromString(e,...n);return Ia(s),new _o(i,null,new At(s))}{if(!(i instanceof _o||i instanceof Ta))throw new ot(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Wn.fromString(e,...n));return Ia(s),new _o(i.firestore,i instanceof Ta?i.converter:null,new At(s))}}class tv{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ll(this,"async_queue_retry"),this.iu=()=>{const n=Vp();n&&nt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Vp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Vp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Li;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,m.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Qo(n))throw n;nt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,xr("INTERNAL UNHANDLED ERROR: ",function(f){let C=f.message||"";return f.stack&&(C=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),C}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=i_.createAndSchedule(this,e,n,s,l=>this.au(l));return this.Xa.push(u),u}su(){this.eu&&xt()}verifyOperationInProgress(){}uu(){var e=this;return(0,m.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Sg(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const u=n;for(const l of["next","error","complete"])if(l in u&&"function"==typeof u[l])return!0;return!1}(i)}class gi extends Kl{constructor(e,n,s,u){super(e,n,s,u),this.type="firestore",this._queue=new tv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pg(this),this._firestoreClient.terminate()}}function Sf(i,e){const n="object"==typeof i?i:(0,se.Mq)(),s="string"==typeof i?i:e||"(default)",u=(0,se.qX)(n,"firestore").getImmediate({identifier:s});if(!u._initialized){const l=(0,Q.P0)("firestore");l&&function bf(i,e,n,s={}){var u;const l=(i=gr(i,Kl))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),s.mockUserToken){let C,R;if("string"==typeof s.mockUserToken)C=s.mockUserToken,R=rn.MOCK_USER;else{C=(0,Q.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const k=s.mockUserToken.sub||s.mockUserToken.user_id;if(!k)throw new ot(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new rn(k)}i._authCredentials=new lc(new cc(C,R))}}(u,...l)}return u}function Oi(i){return i._firestoreClient||Pg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Pg(i){var e,n,s;const u=i._freezeSettings(),l=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new yh(i._databaseId,R,i._persistenceKey,(H=u).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,O_(H.experimentalLongPollingOptions),H.useFetchStreams));var R,H;i._firestoreClient=new pg(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class Yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yc(Ti.fromBase64String(e))}catch(n){throw new ot(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yc(Ti.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ot(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xg{constructor(e){this._methodName=e}}class Og{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ot(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ot(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wn(this._lat,e._lat)||wn(this._long,e._long)}}const sv=/^__.*__$/;class av{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new iu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ml(e,this.data,n,this.fieldTransforms)}}class j_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new iu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class Mf{constructor(e,n,s,u,l,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===l&&this.Pu(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:s,du:!1});return u.Au(e),u}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:s,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Jc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if($_(this.Iu)&&sv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class uv{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tf(e)}pu(e,n,s,u=!1){return new Mf({Iu:e,methodName:n,gu:s,path:Gr.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qc(i){const e=i._freezeSettings(),n=tf(i._databaseId);return new uv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function nh(i,e,n,s,u,l={}){const f=i.pu(l.merge||l.mergeFields?2:0,e,n,u);q_("Data must be an object, but it was:",f,s);const C=kg(s,f);let R,k;if(l.merge)R=new Uo(f.fieldMask),k=f.fieldTransforms;else if(l.mergeFields){const H=[];for(const J of l.mergeFields){const ge=Ql(e,J,n);if(!f.contains(ge))throw new ot(je.INVALID_ARGUMENT,`Field '${ge}' is specified in your field mask but missing from your input data.`);Z_(H,ge)||H.push(ge)}R=new Uo(H),k=f.fieldTransforms.filter(J=>R.covers(J.field))}else R=null,k=f.fieldTransforms;return new av(new io(C),R,k)}class rh extends xg{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function tc(i,e){if(W_(i=(0,Q.m9)(i)))return q_("Unsupported field value:",e,i),kg(i,e);if(i instanceof xg)return function(s,u){if(!$_(u.Iu))throw u.mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(u);l&&u.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,u){const l=[];let f=0;for(const C of s){let R=tc(C,u.Vu(f));null==R&&(R={nullValue:"NULL_VALUE"}),l.push(R),f++}return{arrayValue:{values:l}}}(i,e)}return function(s,u){if(null===(s=(0,Q.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return bh(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const l=sr.fromDate(s);return{timestampValue:E(u.serializer,l)}}if(s instanceof sr){const l=new sr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:E(u.serializer,l)}}if(s instanceof Og)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yc)return{bytesValue:h(u.serializer,s._byteString)};if(s instanceof _o){const l=u.databaseId,f=s.firestore._databaseId;if(!f.isEqual(l))throw u.mu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:U(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.mu(`Unsupported field value: ${Af(s)}`)}(i,e)}function kg(i,e){const n={};return Ya(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(i,(s,u)=>{const l=tc(u,e.Eu(s));null!=l&&(n[s]=l)}),{mapValue:{fields:n}}}function W_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof sr||i instanceof Og||i instanceof Yc||i instanceof _o||i instanceof xg)}function q_(i,e,n){if(!W_(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Af(n);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var u}function Ql(i,e,n){if((e=(0,Q.m9)(e))instanceof Yl)return e._internalPath;if("string"==typeof e)return Fg(i,e);throw Jc("Field path arguments must be of type string or ",i,!1,void 0,n)}const K_=new RegExp("[~\\*/\\[\\]]");function Fg(i,e,n){if(e.search(K_)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yl(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jc(i,e,n,s,u){const l=s&&!s.isEmpty(),f=void 0!==u;let C=`Function ${e}() called with invalid data`;n&&(C+=" (via `toFirestore()`)"),C+=". ";let R="";return(l||f)&&(R+=" (found",l&&(R+=` in field ${s}`),f&&(R+=` in document ${u}`),R+=")"),new ot(je.INVALID_ARGUMENT,C+i+R)}function Z_(i,e){return i.some(n=>n.isEqual(e))}class Vg{constructor(e,n,s,u,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _o(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Lg extends Vg{data(){return super.data()}}function xf(i,e){return"string"==typeof e?Fg(i,e):e instanceof Yl?e._internalPath:e._delegate._internalPath}class Xc{}class is extends Xc{}function el(i,e,...n){let s=[];e instanceof Xc&&s.push(e),s=s.concat(n),function(l){const f=l.filter(R=>R instanceof rc).length,C=l.filter(R=>R instanceof nc).length;if(f>1||f>0&&C>0)throw new ot(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class nc extends is{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nc(e,n,s)}_apply(e){const n=this._parse(e);return $g(e._query,n),new Do(e.firestore,e.converter,_d(e._query,n))}_parse(e){const n=Qc(e.firestore);return function(l,f,C,R,k,H,J){let ge;if(k.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new ot(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){jg(J,H);const Ne=[];for(const _t of J)Ne.push(Bg(R,l,_t));ge={arrayValue:{values:Ne}}}else ge=Bg(R,l,J)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||jg(J,H),ge=function G_(i,e,n,s=!1){return tc(n,i.pu(s?4:3,e))}(C,"where",J,"in"===H||"not-in"===H);return Qn.create(k,H,ge)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xs(i,e,n){const s=e,u=xf("where",i);return nc._create(u,s,n)}class rc extends Xc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rc(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,l){let f=u;const C=l.getFlattenedFilters();for(const R of C)$g(f,R),f=_d(f,R)}(e._query,n),new Do(e.firestore,e.converter,_d(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Bg(i,e,n){if("string"==typeof(n=(0,Q.m9)(n))){if(""===n)throw new ot(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nu(e)&&-1!==n.indexOf("/"))throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Wn.fromString(n));if(!At.isDocumentKey(s))throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bo(i,new At(s))}if(n instanceof _o)return Bo(i,n._key);throw new ot(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(n)}.`)}function jg(i,e){if(!Array.isArray(i)||0===i.length)throw new ot(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $g(i,e){const n=function(u,l){for(const f of u)for(const C of f.getFlattenedFilters())if(l.indexOf(C.op)>=0)return C.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ot(je.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zg{convertValue(e,n="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Os(e,(u,l)=>{s[u]=this.convertValue(l,n)}),s}convertGeoPoint(e){return new Og(xi(e.latitude),xi(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ad(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const n=Ja(e);return new sr(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Wn.fromString(e);Lt(Am(s));const u=new Du(s.get(1),s.get(3)),l=new At(s.popFirst(5));return u.isEqual(n)||xr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Gg(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends Vg{constructor(e,n,s,u,l,f){super(e,n,s,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Of extends Xl{data(e={}){return super.data(e)}}class ed{constructor(e,n,s,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Jl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Of(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,l){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(C=>({type:"added",doc:new Of(u._firestore,u._userDataWriter,C.doc.key,C.doc,new Jl(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(C=>l||3!==C.type).map(C=>{const R=new Of(u._firestore,u._userDataWriter,C.doc.key,C.doc,new Jl(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter);let k=-1,H=-1;return 0!==C.type&&(k=f.indexOf(C.doc.key),f=f.delete(C.doc.key)),1!==C.type&&(f=f.add(C.doc),H=f.indexOf(C.doc.key)),{type:Wg(C.type),doc:R,oldIndex:k,newIndex:H}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Wg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}class Ca extends zg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _o(this.firestore,null,n)}}function yv(i,e,n){i=gr(i,_o);const s=gr(i.firestore,gi),u=Gg(i.converter,e,n);return oc(s,[nh(Qc(s),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,wi.none())])}function vv(i,e,n,...s){i=gr(i,_o);const u=gr(i.firestore,gi),l=Qc(u);let f;return f="string"==typeof(e=(0,Q.m9)(e))||e instanceof Yl?function z_(i,e,n,s,u,l){const f=i.pu(1,e,n),C=[Ql(e,s,n)],R=[u];if(l.length%2!=0)throw new ot(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ge=0;ge<l.length;ge+=2)C.push(Ql(e,l[ge])),R.push(l[ge+1]);const k=[],H=io.empty();for(let ge=C.length-1;ge>=0;--ge)if(!Z_(k,C[ge])){const Ne=C[ge];let _t=R[ge];_t=(0,Q.m9)(_t);const Tt=f.Ru(Ne);if(_t instanceof rh)k.push(Ne);else{const Et=tc(_t,Tt);null!=Et&&(k.push(Ne),H.set(Ne,Et))}}const J=new Uo(k);return new j_(H,J,f.fieldTransforms)}(l,"updateDoc",i._key,e,n,s):function H_(i,e,n,s){const u=i.pu(1,e,n);q_("Data must be an object, but it was:",u,s);const l=[],f=io.empty();Os(s,(R,k)=>{const H=Fg(e,R,n);k=(0,Q.m9)(k);const J=u.Ru(H);if(k instanceof rh)l.push(H);else{const ge=tc(k,J);null!=ge&&(l.push(H),f.set(H,ge))}});const C=new Uo(l);return new j_(f,C,u.fieldTransforms)}(l,"updateDoc",i._key,e),oc(u,[f.toMutation(i._key,wi.exists(!0))])}function Ev(i){return oc(gr(i.firestore,gi),[new Rc(i._key,wi.none())])}function Iv(i,e){const n=gr(i.firestore,gi),s=bg(i),u=Gg(i.converter,e);return oc(n,[nh(Qc(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,wi.exists(!1))]).then(()=>s)}function qg(i,...e){var n,s,u;i=(0,Q.m9)(i);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Sg(e[f])||(l=e[f],f++);const C={includeMetadataChanges:l.includeMetadataChanges};if(Sg(e[f])){const J=e[f];e[f]=null===(n=J.next)||void 0===n?void 0:n.bind(J),e[f+1]=null===(s=J.error)||void 0===s?void 0:s.bind(J),e[f+2]=null===(u=J.complete)||void 0===u?void 0:u.bind(J)}let R,k,H;if(i instanceof _o)k=gr(i.firestore,gi),H=Ns(i._key.path),R={next:J=>{e[f]&&e[f](function Q_(i,e,n){const s=n.docs.get(e._key),u=new Ca(i);return new Xl(i,u,e._key,s,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}(k,i,J))},error:e[f+1],complete:e[f+2]};else{const J=gr(i,Do);k=gr(J.firestore,gi),H=J._query;const ge=new Ca(k);R={next:Ne=>{e[f]&&e[f](new ed(k,ge,J,Ne))},error:e[f+1],complete:e[f+2]},function wa(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ot(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(ge,Ne,_t,Tt){const Et=new ec(Tt),cn=new df(Ne,Et,_t);return ge.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function lf(i,e){return Qp.apply(this,arguments)}(yield No(ge),cn)})),()=>{Et.Na(),ge.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function Jp(i,e){return a_.apply(this,arguments)}(yield No(ge),cn)}))}}(Oi(k),H,C,R)}function oc(i,e){return function(s,u){const l=new Li;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function jy(i,e,n){return Qd.apply(this,arguments)}(yield function Eg(i){return Cf(i).then(e=>e.syncEngine)}(s),u,l)})),l.promise}(Oi(i),e)}!function(e,n=!0){yr=se.Jn,(0,se.Xd)(new Be.wA("firestore",(s,{instanceIdentifier:u,options:l})=>{const f=s.getProvider("app").getImmediate(),C=new gi(new mh(s.getProvider("auth-internal")),new jn(s.getProvider("app-check-internal")),function(k,H){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new ot(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(k.options.projectId,H)}(f,u),f);return l=Object.assign({useFetchStreams:n},l),C._setSettings(l),C},"PUBLIC").setMultipleInstances(!0)),(0,se.KN)(_r,"4.4.0",e),(0,se.KN)(_r,"4.4.0","esm2017")}()},9058:($t,ze,B)=>{B.d(ze,{BH:()=>Ge,L:()=>Ve,LL:()=>Ie,P0:()=>Wt,Pz:()=>Ke,Sg:()=>at,ZR:()=>ve,aH:()=>Le,b$:()=>Ze,eu:()=>pe,hl:()=>ue,m9:()=>ui,ne:()=>rr,pd:()=>ln,q4:()=>mn,ru:()=>Cn,tV:()=>te,uI:()=>rt,vZ:()=>Er,w1:()=>lt,xO:()=>Dn,xb:()=>Un,z$:()=>gt,zd:()=>dr});const M=function(le){const W=[];let q=0;for(let G=0;G<le.length;G++){let K=le.charCodeAt(G);K<128?W[q++]=K:K<2048?(W[q++]=K>>6|192,W[q++]=63&K|128):55296==(64512&K)&&G+1<le.length&&56320==(64512&le.charCodeAt(G+1))?(K=65536+((1023&K)<<10)+(1023&le.charCodeAt(++G)),W[q++]=K>>18|240,W[q++]=K>>12&63|128,W[q++]=K>>6&63|128,W[q++]=63&K|128):(W[q++]=K>>12|224,W[q++]=K>>6&63|128,W[q++]=63&K|128)}return W},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(le,W){if(!Array.isArray(le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let K=0;K<le.length;K+=3){const Te=le[K],We=K+1<le.length,ft=We?le[K+1]:0,Ft=K+2<le.length,en=Ft?le[K+2]:0;let Kn=(15&ft)<<2|en>>6,Ee=63&en;Ft||(Ee=64,We||(Kn=64)),G.push(q[Te>>2],q[(3&Te)<<4|ft>>4],q[Kn],q[Ee])}return G.join("")},encodeString(le,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(le):this.encodeByteArray(M(le),W)},decodeString(le,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(le):function(le){const W=[];let q=0,G=0;for(;q<le.length;){const K=le[q++];if(K<128)W[G++]=String.fromCharCode(K);else if(K>191&&K<224){const Te=le[q++];W[G++]=String.fromCharCode((31&K)<<6|63&Te)}else if(K>239&&K<365){const Ft=((7&K)<<18|(63&le[q++])<<12|(63&le[q++])<<6|63&le[q++])-65536;W[G++]=String.fromCharCode(55296+(Ft>>10)),W[G++]=String.fromCharCode(56320+(1023&Ft))}else{const Te=le[q++],We=le[q++];W[G++]=String.fromCharCode((15&K)<<12|(63&Te)<<6|63&We)}}return W.join("")}(this.decodeStringToByteArray(le,W))},decodeStringToByteArray(le,W){this.init_();const q=W?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let K=0;K<le.length;){const Te=q[le.charAt(K++)],ft=K<le.length?q[le.charAt(K)]:0;++K;const en=K<le.length?q[le.charAt(K)]:64;++K;const Qt=K<le.length?q[le.charAt(K)]:64;if(++K,null==Te||null==ft||null==en||null==Qt)throw new xe;G.push(Te<<2|ft>>4),64!==en&&(G.push(ft<<4&240|en>>2),64!==Qt&&G.push(en<<6&192|Qt))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let le=0;le<this.ENCODED_VALS.length;le++)this.byteToCharMap_[le]=this.ENCODED_VALS.charAt(le),this.charToByteMap_[this.byteToCharMap_[le]]=le,this.byteToCharMapWebSafe_[le]=this.ENCODED_VALS_WEBSAFE.charAt(le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[le]]=le,le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(le)]=le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(le)]=le)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(le){return function(le){const W=M(le);return fe.encodeByteArray(W,!0)}(le).replace(/\./g,"")},te=function(le){try{return fe.decodeString(le,!0)}catch(W){console.error("base64Decode failed: ",W)}return null},wt=()=>{try{return function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const le=process.env.__FIREBASE_DEFAULTS__;return le?JSON.parse(le):void 0})()||(()=>{if(typeof document>"u")return;let le;try{le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=le&&te(le[1]);return W&&JSON.parse(W)})()}catch(le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${le}`)}},mn=le=>{var W,q;return null===(q=null===(W=wt())||void 0===W?void 0:W.emulatorHosts)||void 0===q?void 0:q[le]},Wt=le=>{const W=mn(le);if(!W)return;const q=W.lastIndexOf(":");if(q<=0||q+1===W.length)throw new Error(`Invalid host ${W} with no separate hostname and port!`);const G=parseInt(W.substring(q+1),10);return"["===W[0]?[W.substring(1,q-1),G]:[W.substring(0,q),G]},Le=()=>{var le;return null===(le=wt())||void 0===le?void 0:le.config},Ke=le=>{var W;return null===(W=wt())||void 0===W?void 0:W[`_${le}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,q)=>{this.resolve=W,this.reject=q})}wrapCallback(W){return(q,G)=>{q?this.reject(q):this.resolve(G),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(q):W(q,G))}}}function at(le,W){if(le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=W||"demo-project",K=le.iat||0,Te=le.sub||le.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:K,exp:K+3600,auth_time:K,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},le);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(We)),""].join(".")}function gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Cn(){const le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof le&&void 0!==le.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const le=gt();return le.indexOf("MSIE ")>=0||le.indexOf("Trident/")>=0}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((le,W)=>{try{let q=!0;const G="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(G);K.onsuccess=()=>{K.result.close(),q||self.indexedDB.deleteDatabase(G),le(!0)},K.onupgradeneeded=()=>{q=!1},K.onerror=()=>{var Te;W((null===(Te=K.error)||void 0===Te?void 0:Te.message)||"")}}catch(q){W(q)}})}class ve extends Error{constructor(W,q,G){super(q),this.code=W,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ie.prototype.create)}}class Ie{constructor(W,q,G){this.service=W,this.serviceName=q,this.errors=G}create(W,...q){const G=q[0]||{},K=`${this.service}/${W}`,Te=this.errors[W],We=Te?function Ue(le,W){return le.replace(He,(q,G)=>{const K=W[G];return null!=K?String(K):`<${G}?>`})}(Te,G):"Error";return new ve(K,`${this.serviceName}: ${We} (${K}).`,G)}}const He=/\{\$([^}]+)}/g;function Un(le){for(const W in le)if(Object.prototype.hasOwnProperty.call(le,W))return!1;return!0}function Er(le,W){if(le===W)return!0;const q=Object.keys(le),G=Object.keys(W);for(const K of q){if(!G.includes(K))return!1;const Te=le[K],We=W[K];if(Ut(Te)&&Ut(We)){if(!Er(Te,We))return!1}else if(Te!==We)return!1}for(const K of G)if(!q.includes(K))return!1;return!0}function Ut(le){return null!==le&&"object"==typeof le}function Dn(le){const W=[];for(const[q,G]of Object.entries(le))Array.isArray(G)?G.forEach(K=>{W.push(encodeURIComponent(q)+"="+encodeURIComponent(K))}):W.push(encodeURIComponent(q)+"="+encodeURIComponent(G));return W.length?"&"+W.join("&"):""}function dr(le){const W={};return le.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[K,Te]=G.split("=");W[decodeURIComponent(K)]=decodeURIComponent(Te)}}),W}function ln(le){const W=le.indexOf("?");if(!W)return"";const q=le.indexOf("#",W);return le.substring(W,q>0?q:void 0)}function rr(le,W){const q=new ni(le,W);return q.subscribe.bind(q)}class ni{constructor(W,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{W(this)}).catch(G=>{this.error(G)})}next(W){this.forEachObserver(q=>{q.next(W)})}error(W){this.forEachObserver(q=>{q.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,q,G){let K;if(void 0===W&&void 0===q&&void 0===G)throw new Error("Missing Observer.");K=function qn(le,W){if("object"!=typeof le||null===le)return!1;for(const q of W)if(q in le&&"function"==typeof le[q])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:q,complete:G},void 0===K.next&&(K.next=$n),void 0===K.error&&(K.error=$n),void 0===K.complete&&(K.complete=$n);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Te}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,W)}sendOne(W,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{q(this.observers[W])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $n(){}function ui(le){return le&&le._delegate?le._delegate:le}},4637:($t,ze,B)=>{B.d(ze,{H:()=>m});var m=function(se){return se.USER="USER",se.ADMIN="ADMIN",se}(m||{})},8928:($t,ze,B)=>{B.d(ze,{B:()=>fe});var m=B(8645),se=B(5516),Be=B(3960),M=B(4946),Q=B(9862);let fe=(()=>{class xe{constructor(Ve,te){this.http=Ve,this.fireStore=te,this.isUserLogin$=new m.x,this.url=se.N.BACKEND_URL,this.api={auth:`${this.url}/auth`}}login(Ve){return this.http.get(`${this.api.auth}?email=${Ve.email}&password=${Ve.password}`)}updateUserData(Ve,te){const ce=(0,Be.JU)(this.fireStore,"users",Ve);return(0,Be.pl)(ce,te,{merge:!0})}static#e=this.\u0275fac=function(te){return new(te||xe)(M.LFG(Q.eN),M.LFG(Be.gg))};static#t=this.\u0275prov=M.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})()},8358:($t,ze,B)=>{B.d(ze,{p:()=>Be});var m=B(8645),se=B(4946);let Be=(()=>{class M{constructor(){this.changeBasket=new m.x}static#e=this.\u0275fac=function(xe){return new(xe||M)};static#t=this.\u0275prov=se.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},5516:($t,ze,B)=>{B.d(ze,{N:()=>m});const m={production:!0,BACKEND_URL:"http://localhost:4000"}},4985:($t,ze,B)=>{var m=B(6593),se=B(8589),M=B(4946);const Q=[{path:"",loadChildren:()=>Promise.all([B.e(592),B.e(169)]).then(B.bind(B,2169)).then(Ae=>Ae.HomeModule)},{path:"discount",loadChildren:()=>Promise.all([B.e(592),B.e(605)]).then(B.bind(B,605)).then(Ae=>Ae.DiscountModule)},{path:"product",loadChildren:()=>Promise.all([B.e(592),B.e(459)]).then(B.bind(B,5459)).then(Ae=>Ae.ProductModule)},{path:"delivery-payment",loadChildren:()=>Promise.all([B.e(592),B.e(451)]).then(B.bind(B,8451)).then(Ae=>Ae.DeliveryPaymentModule)},{path:"about",loadChildren:()=>Promise.all([B.e(592),B.e(895)]).then(B.bind(B,2895)).then(Ae=>Ae.AboutModule)},{path:"account",loadChildren:()=>Promise.all([B.e(592),B.e(66)]).then(B.bind(B,3066)).then(Ae=>Ae.AccountModule)},{path:"checkout",loadChildren:()=>Promise.all([B.e(592),B.e(393)]).then(B.bind(B,393)).then(Ae=>Ae.CheckoutModule)},{path:"auth",loadChildren:()=>Promise.all([B.e(592),B.e(782)]).then(B.bind(B,8782)).then(Ae=>Ae.AuthorizationModule)},{path:"cabinet",loadChildren:()=>Promise.all([B.e(592),B.e(475)]).then(B.bind(B,9475)).then(Ae=>Ae.CabinetModule)},{path:"admin",canActivate:[(Ae,Rt)=>!0],loadChildren:()=>Promise.all([B.e(592),B.e(812)]).then(B.bind(B,5812)).then(Ae=>Ae.AdminModule)}];let fe=(()=>{class Ae{static#e=this.\u0275fac=function(pe){return new(pe||Ae)};static#t=this.\u0275mod=M.oAB({type:Ae});static#n=this.\u0275inj=M.cJS({imports:[se.Bz.forRoot(Q),se.Bz]})}return Ae})(),xe=(()=>{class Ae{static#e=this.\u0275fac=function(pe){return new(pe||Ae)};static#t=this.\u0275cmp=M.Xpm({type:Ae,selectors:[["app-footer"]],decls:59,vars:0,consts:[[1,"container"],[1,"footer__section"],[1,"footer"],[1,"footer__wrapper"],[1,"wrapper__info"],[1,"info__footer_logo"],[1,"footer__logo_list"],["href","",1,"logo__list_item"],["src","https://monosushi.com.ua/wp-content/uploads/2021/06/logo.svg","alt","",1,"list__item_image"],[1,"info__footer_nav"],[1,"footer__nav_list"],["routerLink","./discount",1,"nav__list_item"],["routerLink","./about",1,"nav__list_item"],["routerLink","./oferta",1,"nav__list_item"],[1,"info__footer_address"],[1,"footer__address_list"],[1,"footer__address_title"],[1,"footer__address_text"],[1,"wrapper__media"],[1,"media__monosushi"],[1,"media__payment"],[1,"payment__list"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/pay-card-img-1.svg","alt","",1,"payment__item_image"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/pay-card-img-2.svg","alt","",1,"payment__item_image"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/pay-card-img-3.svg","alt","",1,"payment__item_image"],[1,"media__fop"],[1,"fop__text"],[1,"media__links"],[1,"media__links_list"],[1,"media__links_mess"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/facebook-icon.svg","alt","",1,"links__mess_image"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/instagram-icon.svg","alt","",1,"links__mess_image"],[1,"media__sites"],[1,"create__sites"]],template:function(pe,he){1&pe&&(M.TgZ(0,"div",0)(1,"section",1)(2,"footer",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),M._UZ(8,"img",8),M.qZA()()(),M.TgZ(9,"ul",9)(10,"li",10)(11,"a",11),M._uU(12,"\u0410\u043a\u0446\u0456\u0457 \u043d\u0430 \u0441\u0443\u0448\u0456"),M.qZA()(),M.TgZ(13,"li",10)(14,"a",12),M._uU(15,"\u041f\u0440\u043e \u043d\u0430\u0441"),M.qZA()(),M.TgZ(16,"li",10)(17,"a",13),M._uU(18,"\u041e\u0444\u0435\u0440\u0442\u0430"),M.qZA()()(),M.TgZ(19,"ul",14)(20,"li",15)(21,"p",16),M._uU(22,"\u0422\u043e\u0447\u043a\u0438 \u0441\u0430\u043c\u043e\u0432\u0438\u0432\u043e\u0437\u0443"),M.qZA(),M.TgZ(23,"p",17),M._uU(24," \u0432\u0443\u043b. \u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440\u0430 \u0412\u0435\u043b\u0438\u043a\u043e\u0433\u043e, 10\u0432 \u0432\u0443\u043b. \u0427\u043e\u0440\u043d\u043e\u0432\u043e\u043b\u0430, 95 "),M.qZA()(),M.TgZ(25,"li",15)(26,"p",16),M._uU(27,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),M.qZA(),M.TgZ(28,"p",17),M._uU(29,"+380978780837"),M.qZA()(),M.TgZ(30,"li",15)(31,"p",16),M._uU(32,"\u0413\u0440\u0430\u0444\u0456\u043a \u0440\u043e\u0431\u043e\u0442\u0438"),M.qZA(),M.TgZ(33,"p",17),M._uU(34,"\u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e \u0437 11:00 \u0434\u043e 22:30"),M.qZA()()()(),M.TgZ(35,"div",18)(36,"div",19),M._uU(37,"\xa9 2023 Monosushi"),M.qZA(),M._UZ(38,"div",20),M.TgZ(39,"ul",20)(40,"li",21),M._UZ(41,"img",22),M.qZA(),M.TgZ(42,"li",21),M._UZ(43,"img",23),M.qZA(),M.TgZ(44,"li",21),M._UZ(45,"img",24),M.qZA()(),M.TgZ(46,"div",25)(47,"p",26),M._uU(48,"\u0424\u041e\u041f \u0422\u0438\u043c\u043e\u0444\u0456\u0439\u0447\u0443\u043a \u041c\u0430\u043a\u0441\u0438\u043c \u0406\u0433\u043e\u0440\u043e\u0432\u0438\u0447"),M.qZA()(),M.TgZ(49,"ul",27)(50,"li",28),M._uU(51,"\u0421\u043b\u0456\u0434\u043a\u0443\u0439\u0442\u0435 \u0437\u0430 \u043d\u0430\u043c\u0438"),M.qZA(),M.TgZ(52,"li",29),M._UZ(53,"img",30),M.qZA(),M.TgZ(54,"li",29),M._UZ(55,"img",31),M.qZA()(),M.TgZ(56,"div",32)(57,"p",33),M._uU(58,"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0456\u0432 REDSTONE"),M.qZA()()()()()()())},dependencies:[se.rH],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{box-sizing:border-box;height:100%}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit;margin:0;padding:0;font-family:Comfortaa,sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.footer__wrapper[_ngcontent-%COMP%]{border-top:4px solid #b5d8f7}.footer__address_list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:6px}.footer__address_title[_ngcontent-%COMP%]{font-weight:700;color:#252525;font-size:14px}.footer__address_text[_ngcontent-%COMP%]{width:210px;text-align:center;font-size:14px}.wrapper__info[_ngcontent-%COMP%]{margin:0 35px;padding:20px 0;display:flex;align-items:center;justify-content:space-between}.wrapper__media[_ngcontent-%COMP%]{margin:0 35px 20px;display:flex;align-items:center;justify-content:space-between}.info__footer_nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:55px}.info__footer_address[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:20px}.list__item_image[_ngcontent-%COMP%]{height:50px}.nav__list_item[_ngcontent-%COMP%]{color:#252525}.media__payment[_ngcontent-%COMP%], .media__links[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.media__links_mess[_ngcontent-%COMP%]{width:50px;height:50px;background:#b5d8f7;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center}.payment__list[_ngcontent-%COMP%]{width:68px;height:40px;border:1px solid rgb(222,222,222);border-radius:4px;display:flex;align-items:center;justify-content:center}"]})}return Ae})();var Ce=B(5861),Ve=B(95),te=B(4166),ce=B(3960),Pe=B(4637),tt=B(8358),Qe=B(8928),Je=B(6814);function Pt(Ae,Rt){if(1&Ae){const ue=M.EpF();M.TgZ(0,"div",48),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw();return M.KtG(he.openModalMenu())}),M.O4$(),M.TgZ(1,"svg",49),M._UZ(2,"path",50),M.qZA()()}}function Ht(Ae,Rt){if(1&Ae){const ue=M.EpF();M.O4$(),M.TgZ(0,"svg",51),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw();return M.KtG(he.closeModalMenu())}),M._UZ(1,"path",52),M.qZA()}}function wt(Ae,Rt){if(1&Ae){const ue=M.EpF();M.TgZ(0,"ul",53)(1,"li",54)(2,"a",55),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw();return M.KtG(he.closeModalMenu())}),M.TgZ(3,"span",56),M._uU(4,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u0430"),M.qZA()()(),M.TgZ(5,"li",54)(6,"a",57),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw();return M.KtG(he.closeModalMenu())}),M.TgZ(7,"span",56),M._uU(8,"\u041f\u0440\u043e \u043d\u0430\u0441"),M.qZA()()(),M.TgZ(9,"li",54)(10,"a",58),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw();return M.KtG(he.closeModalMenu())}),M.TgZ(11,"span",56),M._uU(12,"\u0410\u043a\u0446\u0456\u0457 \u043d\u0430 \u0441\u0443\u0448\u0456"),M.qZA()()()()}}function mn(Ae,Rt){1&Ae&&(M.TgZ(0,"div",68)(1,"div",69),M._UZ(2,"img",70),M.TgZ(3,"h3",71),M._uU(4,"\u041a\u043e\u0448\u0438\u043a \u043f\u043e\u0440\u043e\u0436\u043d\u0456\u0439"),M.qZA()(),M.TgZ(5,"button",72),M._uU(6,"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043e \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0443"),M.qZA()())}function Wt(Ae,Rt){if(1&Ae){const ue=M.EpF();M.TgZ(0,"div",73)(1,"div",74),M._UZ(2,"img",75),M.qZA(),M.TgZ(3,"div",76)(4,"h3",77),M._uU(5),M.qZA()(),M.TgZ(6,"div",78)(7,"button",79),M.NdJ("click",function(){const be=M.CHM(ue).$implicit,ve=M.oxw(2);return M.KtG(ve.countOfProduct(be,!1))}),M._uU(8,"-"),M.qZA(),M.TgZ(9,"span",80),M._uU(10),M.qZA(),M.TgZ(11,"button",79),M.NdJ("click",function(){const be=M.CHM(ue).$implicit,ve=M.oxw(2);return M.KtG(ve.countOfProduct(be,!0))}),M._uU(12,"+"),M.qZA()(),M.TgZ(13,"div",81)(14,"p",82)(15,"span",83),M._uU(16),M.qZA(),M._uU(17," \u0433\u0440\u043d"),M.qZA()(),M.TgZ(18,"img",84),M.NdJ("click",function(){const be=M.CHM(ue).index,ve=M.oxw(2);return M.KtG(ve.deleteProductFromBasket(be))}),M.qZA()()}if(2&Ae){const ue=Rt.$implicit;M.xp6(2),M.Q6J("src",ue.imagePath,M.LSH),M.xp6(3),M.Oqu(ue.name),M.xp6(5),M.Oqu(ue.count),M.xp6(6),M.Oqu(ue.price*ue.count)}}function Le(Ae,Rt){if(1&Ae&&(M.ynx(0),M.TgZ(1,"div",59)(2,"div",60)(3,"div",61),M.YNc(4,mn,7,0,"div",62),M.YNc(5,Wt,19,4,"div",63),M.qZA(),M.TgZ(6,"div",64)(7,"p",65),M._uU(8,"\u0421\u0443\u043c\u0430: "),M.TgZ(9,"span",66),M._uU(10),M.qZA(),M._uU(11," \u0433\u0440\u043d"),M.qZA(),M.TgZ(12,"button",67),M._uU(13,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),M.qZA()()()(),M.BQk()),2&Ae){const ue=M.oxw();M.xp6(4),M.Q6J("ngIf",0===ue.basket.length),M.xp6(1),M.Q6J("ngForOf",ue.basket),M.xp6(5),M.Oqu(ue.total)}}function Ke(Ae,Rt){if(1&Ae){const ue=M.EpF();M.TgZ(0,"div",85),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw();return M.KtG(he.openBasketModal())}),M.qZA()}}function Ge(Ae,Rt){if(1&Ae){const ue=M.EpF();M.ynx(0),M.TgZ(1,"div",86)(2,"div",87)(3,"div",88),M.O4$(),M.TgZ(4,"svg",89),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw();return M.KtG(he.openCallDialog())}),M._UZ(5,"path",52),M.qZA()(),M.kcU(),M.TgZ(6,"div",90)(7,"div",91)(8,"h2",92),M._uU(9,"\u041c\u0418 \u0417\u0410\u0422\u0415\u041b\u0415\u0424\u041e\u041d\u0423\u0404\u041c\u041e"),M.qZA(),M.TgZ(10,"p",93),M._uU(11," \u0417\u0430\u043b\u0438\u0448\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u0456 \u043d\u0430\u0448\u0456 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0438 \u0437\u0432'\u044f\u0436\u0443\u0442\u044c\u0441\u044f \u0437 \u0432\u0430\u043c\u0438 "),M.qZA()(),M.TgZ(12,"div",94)(13,"form",95)(14,"div",96),M._UZ(15,"input",97),M.qZA(),M.TgZ(16,"div",98),M._UZ(17,"input",99),M.qZA(),M.TgZ(18,"div",100)(19,"button",101),M._uU(20,"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438"),M.qZA()()()()()()(),M.BQk()}}function at(Ae,Rt){if(1&Ae){const ue=M.EpF();M.ynx(0),M.TgZ(1,"div",103)(2,"form",104)(3,"div",105),M.O4$(),M.TgZ(4,"svg",106),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw(2);return M.KtG(he.openDialogModal())}),M._UZ(5,"path",52),M.qZA()(),M.kcU(),M.TgZ(6,"div",107)(7,"div",108)(8,"h2",109),M._uU(9,"\u0412\u0445\u0456\u0434 \u0432 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"),M.qZA()(),M.TgZ(10,"div",110),M._UZ(11,"input",111),M.qZA(),M.TgZ(12,"div",112),M._UZ(13,"input",113),M.qZA(),M.TgZ(14,"div",114)(15,"button",115),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw(2);return M.KtG(he.loginUser())}),M._uU(16,"\u0423\u0432\u0456\u0439\u0442\u0438 \u0432 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"),M.qZA()(),M.TgZ(17,"div",116)(18,"p",117),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw(2);return M.KtG(he.toggleRegistration())}),M._uU(19,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"),M.qZA()()()()(),M.BQk()}if(2&Ae){const ue=M.oxw(2);M.xp6(2),M.Q6J("formGroup",ue.authForm)}}function gt(Ae,Rt){1&Ae&&(M.TgZ(0,"p"),M._uU(1,"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u0454 \u0437 \u043c\u0438\u043d\u0443\u043b\u0438\u043c"),M.qZA())}function rt(Ae,Rt){if(1&Ae){const ue=M.EpF();M.ynx(0),M.TgZ(1,"div",118)(2,"form",104)(3,"div",105),M.O4$(),M.TgZ(4,"svg",106),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw(2);return M.KtG(he.openDialogModal())}),M._UZ(5,"path",52),M.qZA()(),M.kcU(),M.TgZ(6,"div",107)(7,"div",108)(8,"h2",109),M._uU(9,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"),M.qZA()(),M.TgZ(10,"div",119),M._UZ(11,"input",120)(12,"input",121),M.qZA(),M.TgZ(13,"div",122),M._UZ(14,"input",123),M.qZA(),M.TgZ(15,"div",110),M._UZ(16,"input",111),M.qZA(),M.TgZ(17,"div",124)(18,"input",125),M.NdJ("input",function(){M.CHM(ue);const he=M.oxw(2);return M.KtG(he.checkConfirmPassword())}),M.qZA(),M.TgZ(19,"input",126),M.NdJ("input",function(){M.CHM(ue);const he=M.oxw(2);return M.KtG(he.checkConfirmPassword())}),M.qZA()(),M.YNc(20,gt,2,0,"p",46),M.TgZ(21,"div",114)(22,"button",115),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw(2);return M.KtG(he.registerUser())}),M._uU(23,"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c"),M.qZA()(),M.TgZ(24,"div",116)(25,"p",117),M.NdJ("click",function(){M.CHM(ue);const he=M.oxw(2);return M.KtG(he.toggleRegistration())}),M._uU(26,"\u0412\u0436\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456? "),M.TgZ(27,"span",127),M._uU(28,"\u0423\u0432\u0456\u0439\u0442\u0438"),M.qZA()()()()()(),M.BQk()}if(2&Ae){const ue=M.oxw(2);M.xp6(2),M.Q6J("formGroup",ue.authForm),M.xp6(18),M.Q6J("ngIf",ue.checkVisibilityError("confirmationPassword","matchError"))}}function st(Ae,Rt){if(1&Ae&&(M.ynx(0),M.TgZ(1,"div",0)(2,"div",102),M.YNc(3,at,20,1,"ng-container",46),M.YNc(4,rt,29,2,"ng-container",46),M.qZA()(),M.BQk()),2&Ae){const ue=M.oxw();M.xp6(3),M.Q6J("ngIf",!ue.isSignIn),M.xp6(1),M.Q6J("ngIf",ue.isSignIn)}}let Kt=(()=>{class Ae{constructor(ue,pe,he,be,ve,Ie){this.orderService=ue,this.accountService=pe,this.fb=he,this.router=be,this.auth=ve,this.afs=Ie,this.total=0,this.basket=[],this.isModalOpen=!1,this.isBasketOpen=!1,this.isLoginModalOpen=!1,this.isSignIn=!1,this.isCallModalOpen=!1,this.isCorrectPassword=!1}ngOnInit(){this.loadBasket(),this.updateBasket(),this.initAuthForm()}ngOnDestroy(){this.loginSubscription&&this.loginSubscription.unsubscribe()}openModalMenu(){this.isModalOpen=!0}closeModalMenu(){this.isModalOpen=!1}openBasketModal(){this.isBasketOpen=!this.isBasketOpen}openDialogModal(){this.isLoginModalOpen=!this.isLoginModalOpen}initAuthForm(){this.authForm=this.fb.group({firstName:[null,Ve.kI.required],lastName:[null,Ve.kI.required],phone:[null,Ve.kI.required],email:[null,[Ve.kI.required,Ve.kI.email]],password:[null,Ve.kI.required],confirmationPassword:[null,Ve.kI.required]})}openCallDialog(){this.isCallModalOpen=!this.isCallModalOpen}countOfProduct(ue,pe){pe?(++ue.count,this.getTotalPrice()):!pe&&ue.count>1&&(--ue.count,this.getTotalPrice())}deleteProductFromBasket(ue){this.basket.splice(ue,1),this.updateBasket(),this.getTotalPrice();let pe=JSON.parse(localStorage.getItem("basket")||"[]");pe.splice(ue,1),localStorage.setItem("basket",JSON.stringify(pe))}loadBasket(){localStorage.length>0&&localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket"))),this.getTotalPrice()}getTotalPrice(){this.total=this.basket.reduce((ue,pe)=>ue+pe.price*pe.count,0)}updateBasket(){this.orderService.changeBasket.subscribe(()=>{this.loadBasket()})}toggleLoginModal(){this.isLoginModalOpen=!this.isLoginModalOpen}toggleRegistration(){this.isSignIn=!this.isSignIn}loginUser(){const{email:ue,password:pe}=this.authForm.value;this.login(ue,pe).then(()=>{this.authForm.reset(),this.isLoginModalOpen=!1}).catch(he=>{})}login(ue,pe){var he=this;return(0,Ce.Z)(function*(){const be=yield(0,te.e5)(he.auth,ue,pe);he.loginSubscription=(0,ce._1)((0,ce.JU)(he.afs,"users",be.user.uid)).subscribe({next:ve=>{const Ie={...ve,uid:be.user.uid};localStorage.setItem("currentUser",JSON.stringify(Ie)),ve&&ve.role===Pe.H.USER&&he.router.navigate(["./cabinet"]),he.accountService.isUserLogin$.next(!0)},error:ve=>{console.log(ve.code,ve.message)}})})()}registerUser(){const{firstName:ue,lastName:pe,phone:he,email:be,password:ve,confirmationPassword:Ie}=this.authForm.value;this.registerData=this.authForm.value,this.emailSignUp(ue,pe,he,be,ve,Ie).then(()=>{this.isSignIn=!this.isSignIn,this.authForm.reset()}).catch(Ue=>{})}emailSignUp(ue,pe,he,be,ve,Ie){var Ue=this;return(0,Ce.Z)(function*(){const He=yield(0,te.Xb)(Ue.auth,be,ve),mt={firstName:Ue.registerData.firstName,lastName:Ue.registerData.lastName,phone:Ue.registerData.phone,email:He.user.email,password:Ue.registerData.password,confirmationPassword:Ue.registerData.confirmationPassword,order:[],role:"USER"};(0,ce.pl)((0,ce.JU)(Ue.afs,"users",He.user.uid),mt),yield He.user.reload()})()}checkConfirmPassword(){this.isCorrectPassword=this.password.value===this.confirmPassword.value,this.password.value!==this.confirmPassword.value&&this.authForm.controls.confirmationPassword.setErrors({matchError:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u0454 \u0437 \u043c\u0438\u043d\u0443\u043b\u0438\u043c"})}get password(){return this.authForm.controls.password}get confirmPassword(){return this.authForm.controls.confirmationPassword}checkVisibilityError(ue,pe){return this.authForm.controls[ue].errors?.[pe]}static#e=this.\u0275fac=function(pe){return new(pe||Ae)(M.Y36(tt.p),M.Y36(Qe.B),M.Y36(Ve.qu),M.Y36(se.F0),M.Y36(te.gx),M.Y36(ce.gg))};static#t=this.\u0275cmp=M.Xpm({type:Ae,selectors:[["app-header"]],decls:78,vars:9,consts:[[1,"container"],[1,"header__section"],[1,"header"],[1,"header__wrapper"],[1,"header__logo_wrapper"],["routerLink","/",1,"header__logo"],["src","https://monosushi.com.ua/wp-content/uploads/2021/06/logo.svg","alt","",1,"header__logo_item"],[1,"header__nav_wrapper"],[1,"header__navbar"],[1,"navbar__main_menu"],[1,"navbar__menu_list"],["routerLink","./discount",1,"menu__list_item"],[1,"list__item_wrapper"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-gift.svg","alt","",1,"item__wrapper_image"],[1,"item__wrapper_desc"],["routerLink","./product/rolls",1,"menu__list_item"],["src","\thttps://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-rolls.svg","alt","",1,"item__wrapper_image"],["routerLink","./product/sets",1,"menu__list_item"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-sets.svg","alt","",1,"item__wrapper_image"],["routerLink","./product/drinks",1,"menu__list_item"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/nav-img-drinks.svg","alt","",1,"item__wrapper_image"],["routerLink","./product/souces",1,"menu__list_item"],["src","https://monosushi.com.ua/wp-content/uploads/2021/09/icon.svg","alt","",1,"item__wrapper_image"],[1,"navbar__secondary_menu"],[1,"secondary__menu_wrapper"],[1,"menu__wrapper_burger"],["class","menu__burger",3,"click",4,"ngIf"],["class","menu__burger_image","xmlns","http://www.w3.org/2000/svg","height","5em","viewBox","0 0 384 512",3,"click",4,"ngIf"],["class","secondary__menu_burger",4,"ngIf"],[1,"secondary__menu_call"],[1,"menu__call_button",3,"click"],["src","https://monosushi.com.ua/wp-content/uploads/2020/10/phone.svg","alt","",1,"call__button_image"],[1,"menu__call_text"],[1,"secondary__menu_work"],["href","",1,"menu__work_phone"],[1,"menu__work_time"],[1,"navbar__user",3,"click"],["src","https://monosushi.com.ua/wp-content/themes/monosushi/img/user.svg","alt","",1,"navbar__user_img"],[1,"header__basket_wrapper"],[1,"header__basket",3,"click"],[1,"basket__items"],["src","\thttps://monosushi.com.ua/wp-content/themes/monosushi/img/basket.svg","alt","",1,"header__basket_img"],[1,"basket__items_count"],[1,"basket__count"],[1,"basket__count_item"],[1,"basket__count_text"],[4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],[1,"menu__burger",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",1,"menu__burger_image"],["height","4em","d","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"],["xmlns","http://www.w3.org/2000/svg","height","5em","viewBox","0 0 384 512",1,"menu__burger_image",3,"click"],["d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"],[1,"secondary__menu_burger"],[1,"menu__burger_list"],["routerLink","./delivery-payment",1,"burger__list_item",3,"click"],[1,"list__item_text"],["routerLink","./about",1,"burger__list_item",3,"click"],["routerLink","./discount",1,"burger__list_item",3,"click"],[1,"checkout__wrapper"],[1,"checkout__block"],[1,"checkout__main_products"],["class","checkout__empty_wrapper",4,"ngIf"],["class","checkout__product_block",4,"ngFor","ngForOf"],[1,"checkout__footer"],[1,"checkout__footer_text"],[1,"checkout__footer_bold"],["type","button",1,"checkout__footer_button"],[1,"checkout__empty_wrapper"],[1,"checkout__empty_banner"],["src","https://monosushi.com.ua/wp-content/themes/monosushi/img/icons/cart-empty-img.svg","alt","",1,"checkout__empty_image"],[1,"checkout__empty_title"],["routerLink","./","type","button",1,"checkout__empty_button"],[1,"checkout__product_block"],[1,"checkout__image_wrapper"],["alt","",1,"checkout__product_image",3,"src"],[1,"checkout__text_wrapper"],[1,"checkout__product_title"],[1,"checkout__product_count"],[1,"product__count_plus","product__count_btn",3,"click"],[1,"product__count_text"],[1,"checkout__price_wrapper"],[1,"checkout__product_price"],[1,"checkout__product_bold"],["src","https://static-00.iconduck.com/assets.00/delete-icon-1864x2048-bp2i0gor.png","alt","",1,"checkout__product_delete",3,"click"],[1,"overlay",3,"click"],[1,"call__modal"],[1,"call__wrapper"],[1,"call__close"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512",1,"call__close_icon",3,"click"],[1,"call__content_wrapper"],[1,"call__info"],[1,"call__info_title"],[1,"call__info_text"],[1,"call__form_wrapper"],[1,"call__form"],[1,"call__name_wrapper"],["type","text","placeholder","\u0412\u0430\u0448\u0435 \u0456\u043c'\u044f",1,"call__name_input","modal__input"],[1,"call__phone_wrapper"],["type","number","placeholder","\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",1,"call__phone_input","modal__input"],[1,"call__send_wrapper"],["type","button",1,"call__send_button"],[1,"auth__wrapper"],[1,"auth__block"],[1,"auth__form",3,"formGroup"],[1,"auth__close"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 384 512",1,"auth__close_icon",3,"click"],[1,"auth__content_wrapper"],[1,"auth__text_wrapper"],[1,"auth__text"],[1,"auth__email_wrapper"],["formControlName","email","name","email","type","email","placeholder","\u0412\u0430\u0448 email",1,"auth__email","modal__input"],[1,"auth__password_wrapper"],["formControlName","password","name","password","type","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c",1,"auth__password","modal__input"],[1,"auth__button_wrapper"],["type","submit",1,"auth__button",3,"click"],[1,"auth__footer_wrapper"],[1,"auth__footer_signup",3,"click"],[1,"signup__block"],[1,"auth__fullname_wrapper"],["formControlName","firstName","name","firstName","type","text","placeholder","\u0412\u0430\u0448\u0435 \u0456\u043c\u044f",1,"auth__firstname","modal__input"],["formControlName","lastName","name","lastName","type","text","placeholder","\u0412\u0430\u0448\u0435 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",1,"auth__lastname","modal__input"],[1,"auth__phone_wrapper"],["formControlName","phone","name","phone","type","number","placeholder","\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",1,"auth__phone","modal__input"],[1,"signup__password_wrapper"],["formControlName","password","name","password","type","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u044c",1,"signup__password","modal__input",3,"input"],["formControlName","confirmationPassword","name","confirmationPassword","type","password","placeholder","\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",1,"signup__password","modal__input",3,"input"],[1,"auth__signup_bold"]],template:function(pe,he){1&pe&&(M.TgZ(0,"div",0)(1,"section",1)(2,"header",2)(3,"div",3)(4,"div",4)(5,"a",5),M._UZ(6,"img",6),M.qZA()(),M.TgZ(7,"div",7)(8,"nav",8)(9,"ul",9)(10,"li",10)(11,"a",11)(12,"div",12),M._UZ(13,"img",13),M.TgZ(14,"span",14),M._uU(15,"\u0410\u043a\u0446\u0456\u0457"),M.qZA()()()(),M.TgZ(16,"li",10)(17,"a",15)(18,"div",12),M._UZ(19,"img",16),M.TgZ(20,"span",14),M._uU(21,"\u0420\u043e\u043b\u0438"),M.qZA()()()(),M.TgZ(22,"li",10)(23,"a",17)(24,"div",12),M._UZ(25,"img",18),M.TgZ(26,"span",14),M._uU(27,"\u0421\u0435\u0442\u0438"),M.qZA()()()(),M.TgZ(28,"li",10)(29,"a",19)(30,"div",12),M._UZ(31,"img",20),M.TgZ(32,"span",14),M._uU(33,"\u041d\u0430\u043f\u043e\u0457"),M.qZA()()()(),M.TgZ(34,"li",10)(35,"a",21)(36,"div",12),M._UZ(37,"img",22),M.TgZ(38,"span",14),M._uU(39,"\u0421\u043e\u0443\u0441\u0438"),M.qZA()()()()(),M.TgZ(40,"ul",23)(41,"div",24)(42,"div",25),M.YNc(43,Pt,3,0,"div",26),M.YNc(44,Ht,2,0,"svg",27),M.qZA(),M.YNc(45,wt,13,0,"ul",28),M.TgZ(46,"li",29)(47,"button",30),M.NdJ("click",function(){return he.openCallDialog()}),M._UZ(48,"img",31),M.TgZ(49,"span",32),M._uU(50,"\u041c\u0418 \u0417\u0410\u0422\u0415\u041b\u0415\u0424\u041e\u041d\u0423\u0404\u041c\u041e"),M.qZA()()(),M.TgZ(51,"li",33)(52,"a",34),M._uU(53,"+380978780837"),M.qZA(),M.TgZ(54,"div",35),M._uU(55," \u041f\u0440\u0430\u0446\u044e\u0454\u043c\u043e \u0437 "),M.TgZ(56,"b"),M._uU(57,"11:00"),M.qZA(),M._uU(58," \u0434\u043e "),M.TgZ(59,"b"),M._uU(60,"22:30"),M.qZA()()(),M.TgZ(61,"a",36),M.NdJ("click",function(){return he.openDialogModal()}),M._UZ(62,"img",37),M.qZA()()()()(),M.TgZ(63,"div",38)(64,"a",39),M.NdJ("click",function(){return he.openBasketModal()}),M.TgZ(65,"div",40),M._UZ(66,"img",41),M.TgZ(67,"span",42),M._uU(68),M.qZA()(),M.TgZ(69,"div",43)(70,"b",44),M._uU(71),M.qZA(),M.TgZ(72,"span",45),M._uU(73,"\u0433\u0440\u043d"),M.qZA()()()(),M.YNc(74,Le,14,3,"ng-container",46),M.qZA()()(),M.YNc(75,Ke,1,0,"div",47),M.YNc(76,Ge,21,0,"ng-container",46),M.YNc(77,st,5,2,"ng-container",46),M.qZA()),2&pe&&(M.xp6(43),M.Q6J("ngIf",!he.isModalOpen),M.xp6(1),M.Q6J("ngIf",he.isModalOpen),M.xp6(1),M.Q6J("ngIf",he.isModalOpen),M.xp6(23),M.Oqu(he.basket.length),M.xp6(3),M.Oqu(he.total),M.xp6(3),M.Q6J("ngIf",he.isBasketOpen),M.xp6(1),M.Q6J("ngIf",he.isBasketOpen||he.isLoginModalOpen||he.isCallModalOpen),M.xp6(1),M.Q6J("ngIf",he.isCallModalOpen),M.xp6(1),M.Q6J("ngIf",he.isLoginModalOpen))},dependencies:[Je.sg,Je.O5,se.rH,Ve._Y,Ve.Fj,Ve.wV,Ve.JJ,Ve.JL,Ve.sg,Ve.u],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{box-sizing:border-box;height:100%}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit;margin:0;padding:0;font-family:Comfortaa,sans-serif}a[_ngcontent-%COMP%]{text-decoration:none}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none}.header__section[_ngcontent-%COMP%]{width:100%;background:#fff;position:relative;z-index:3}.header__wrapper[_ngcontent-%COMP%]{height:95px;display:flex;align-items:center;justify-content:space-between}.header__logo_wrapper[_ngcontent-%COMP%]{width:15%;height:100%;background:#b5d8f7;padding:0 22px;display:flex;align-items:center;justify-content:center}.header__nav_wrapper[_ngcontent-%COMP%]{width:100%;padding:0 40px}.header__navbar[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;gap:30px}.header__basket[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;-webkit-user-select:none;user-select:none}.header__basket_wrapper[_ngcontent-%COMP%]{width:10%;height:100%;background:#b5d8f7;padding:0 22px;display:flex;align-items:center;justify-content:center}.basket__items[_ngcontent-%COMP%]{position:relative}.basket__items_count[_ngcontent-%COMP%]{position:absolute;top:0;right:-2px;width:26px;height:26px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center}.basket__count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.basket__count_item[_ngcontent-%COMP%]{font-weight:700;color:#252525;font-size:18px}.basket__count_text[_ngcontent-%COMP%]{color:#252525;font-size:18px}.navbar__main_menu[_ngcontent-%COMP%]{width:40%;display:flex;align-items:center;justify-content:space-between}.navbar__menu_list[_ngcontent-%COMP%]{width:75px;height:70px;border:2px solid transparent;transition:.35s;border-radius:7px}.navbar__menu_list[_ngcontent-%COMP%]:hover{animation-name:_ngcontent-%COMP%_borderFill;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards}.navbar__secondary_menu[_ngcontent-%COMP%]{width:60%}.navbar__user[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:7px;padding:8px}.navbar__user[_ngcontent-%COMP%]:hover{animation-name:_ngcontent-%COMP%_borderFill;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_borderFill{25%{border-top:2px solid #b5d8f7}50%{border-top:2px solid #b5d8f7;border-right:2px solid #b5d8f7}75%{border-top:2px solid #b5d8f7;border-right:2px solid #b5d8f7;border-bottom:2px solid #b5d8f7}to{border:2px solid #b5d8f7}}.menu__list_item[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.menu__burger[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:7px;padding:8px}.menu__burger[_ngcontent-%COMP%]:hover{animation-name:_ngcontent-%COMP%_borderFill;animation-duration:1s;animation-iteration-count:1;animation-fill-mode:forwards}.menu__burger_image[_ngcontent-%COMP%]{width:20px;height:22px}.menu__burger_list[_ngcontent-%COMP%]{width:100%;border:2px solid transparent;border-radius:10px;padding:10px 0;transition:.4s}.menu__burger_list[_ngcontent-%COMP%]:hover{border-color:#b5d8f7}.menu__call_button[_ngcontent-%COMP%]{width:200px;background:#b5d8f7;padding:10px;border-radius:10px;border:2px solid transparent;display:flex;align-items:center;justify-content:center;gap:10px;cursor:pointer;-webkit-user-select:none;user-select:none;transition:.4s}.menu__call_button[_ngcontent-%COMP%]:hover{background:none;border-color:#b5d8f7}.menu__call_text[_ngcontent-%COMP%]{color:#252525;font-weight:700}.menu__work_phone[_ngcontent-%COMP%]{font-size:16px;color:#252525;font-weight:700;transition:.4s}.menu__work_phone[_ngcontent-%COMP%]:hover{color:#b5d8f7}.menu__work_time[_ngcontent-%COMP%]{color:#5a5a5a;font-size:14px}.menu__wrapper_burger[_ngcontent-%COMP%]{width:26px;height:21px;justify-content:space-between;flex-direction:column;position:relative;z-index:2;cursor:pointer;display:flex;align-items:center;justify-content:center}.burger__item[_ngcontent-%COMP%]{width:100%;border-bottom:3px solid #252525;border-radius:20px}.list__item_wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px}.list__item_text[_ngcontent-%COMP%]{width:100%;font-size:16px;color:#252525;font-weight:700;-webkit-user-select:none;user-select:none;border-radius:10px;padding:10px 6px;border:1px solid transparent}.item__wrapper_desc[_ngcontent-%COMP%]{font-weight:700;color:#252525}.secondary__menu_burger[_ngcontent-%COMP%]{width:240px;height:260px;background:white;border:2px solid #b5d8f7;border-radius:6px;position:absolute;top:-26px;left:-32px;z-index:1;padding:88px 25px 25px 30px;display:flex;justify-content:space-between;flex-direction:column}.secondary__menu_wrapper[_ngcontent-%COMP%]{width:100%;position:relative;display:flex;align-items:center;justify-content:space-between}.secondary__menu_info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:80px}.secondary__menu_work[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-direction:column;gap:6px}.checkout__empty_wrapper[_ngcontent-%COMP%]{width:100%;padding:20px;display:flex;align-items:center;justify-content:center;flex-direction:column}.checkout__empty_banner[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-between;flex-direction:column}.checkout__empty_button[_ngcontent-%COMP%]{width:240px;height:48px;background:#b5d8f7;border:2px solid transparent;border-radius:8px;font-size:16px;font-weight:700;text-transform:uppercase;cursor:pointer;margin-top:14px}.checkout__empty_button[_ngcontent-%COMP%]:hover{background:none;border-color:#b5d8f7}.checkout__wrapper[_ngcontent-%COMP%]{position:absolute;top:95px;right:0;width:48%}.checkout__main_products[_ngcontent-%COMP%]{width:100%;background:#fff;max-height:260px;overflow:scroll}.checkout__main_products[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.checkout__product_block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-top:1px solid lightgray;padding:10px 20px}.checkout__product_image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.checkout__product_count[_ngcontent-%COMP%]{width:120px;height:46px;border:1px solid lightgray;border-radius:8px;display:flex;align-items:center;justify-content:space-between;padding:0 4px}.checkout__product_price[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px}.checkout__product_bold[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.checkout__product_delete[_ngcontent-%COMP%]{height:18px;cursor:pointer}.checkout__footer[_ngcontent-%COMP%]{width:100%;background:#b5d8f7;background-image:url(https://monosushi.com.ua/wp-content/themes/monosushi/img/bg-monosushi-logo.svg);background-repeat:repeat;background-position:0 0 190px -52px;padding:20px;border-radius:0 0 10px 10px;display:flex;align-items:center;justify-content:space-between}.checkout__footer_bold[_ngcontent-%COMP%]{font-size:24px;font-weight:600}.checkout__footer_text[_ngcontent-%COMP%]{font-size:18px;color:#252525}.checkout__footer_button[_ngcontent-%COMP%]{width:248px;height:56px;background:#fff;border:2px solid transparent;border-radius:8px;font-size:16px;font-weight:600;text-transform:uppercase;cursor:pointer;transition:.4s}.checkout__footer_button[_ngcontent-%COMP%]:hover{background:none;border-color:#fff}.checkout__image_wrapper[_ngcontent-%COMP%]{width:120px;height:82px}.checkout__text_wrapper[_ngcontent-%COMP%]{width:200px}.checkout__price_wrapper[_ngcontent-%COMP%]{width:40px}.product__count_btn[_ngcontent-%COMP%]{width:32px;height:32px;background:none;border:none;font-size:20px;color:#252525;border-radius:10px;cursor:pointer;transition:.3s}.product__count_btn[_ngcontent-%COMP%]:hover{background:#b5d8f7}.signup__block[_ngcontent-%COMP%]{width:40%;height:580px;background:#fff;padding:20px;border-radius:10px}.signup__password_wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.signup__password[_ngcontent-%COMP%]{width:49%}.modal__input[_ngcontent-%COMP%]{height:52px;border:1px solid lightgray;border-radius:10px;color:#252525;padding:0 20px;font-size:16px;outline-color:#b5d8f7}.auth__section[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.auth__wrapper[_ngcontent-%COMP%]{width:100%;height:90vh;display:flex;align-items:center;justify-content:center;position:relative;z-index:3}.auth__block[_ngcontent-%COMP%]{width:40%;height:440px;background:#fff;padding:20px;border-radius:10px}.auth__close[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.auth__close_icon[_ngcontent-%COMP%]{width:26px;height:26px;cursor:pointer}.auth__form[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:space-between;flex-direction:column}.auth__fullname_wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.auth__firstname[_ngcontent-%COMP%], .auth__lastname[_ngcontent-%COMP%]{width:49%}.auth__phone_wrapper[_ngcontent-%COMP%], .auth__phone[_ngcontent-%COMP%], .auth__email[_ngcontent-%COMP%], .auth__email_wrapper[_ngcontent-%COMP%], .auth__password[_ngcontent-%COMP%], .auth__password_wrapper[_ngcontent-%COMP%]{width:100%}.auth__button[_ngcontent-%COMP%]{width:100%;height:52px;background:#b5d8f7;border:2px solid transparent;border-radius:10px;color:#252525;font-size:16px;font-weight:600;cursor:pointer;text-transform:uppercase;transition:.4s}.auth__button[_ngcontent-%COMP%]:hover{border-color:#b5d8f7;background:none}.auth__button_wrapper[_ngcontent-%COMP%]{width:100%}.auth__text_wrapper[_ngcontent-%COMP%]{width:100%;text-align:center}.auth__footer_wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.auth__footer_signup[_ngcontent-%COMP%]{color:#252525;font-weight:600;transition:.3s;cursor:pointer}.auth__footer_signup[_ngcontent-%COMP%]:hover{color:#b5d8f7}.auth__content_wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:space-between;flex-direction:column;padding:20px}.call__modal[_ngcontent-%COMP%]{width:600px;height:440px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:10px;z-index:3}.call__wrapper[_ngcontent-%COMP%]{padding:20px;height:100%}.call__close[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.call__close_icon[_ngcontent-%COMP%]{height:26px;cursor:pointer}.call__content_wrapper[_ngcontent-%COMP%]{padding:20px;display:flex;align-items:center;justify-content:center;flex-direction:column}.call__info_title[_ngcontent-%COMP%]{font-size:32px;text-align:center}.call__info_text[_ngcontent-%COMP%]{width:400px;margin-top:10px;font-size:16px;text-align:center;color:#252525;line-height:24px}.call__form[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px;margin-top:40px}.call__form_wrapper[_ngcontent-%COMP%], .call__name_wrapper[_ngcontent-%COMP%], .call__name_input[_ngcontent-%COMP%], .call__phone_wrapper[_ngcontent-%COMP%], .call__phone_input[_ngcontent-%COMP%], .call__send_wrapper[_ngcontent-%COMP%]{width:100%}.call__send_button[_ngcontent-%COMP%]{width:100%;height:52px;background:#b5d8f7;border:2px solid transparent;border-radius:8px;font-size:18px;font-weight:700;text-transform:uppercase;cursor:pointer;transition:.4s}.call__send_button[_ngcontent-%COMP%]:hover{background:none;border-color:#b5d8f7}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;z-index:1}"]})}return Ae})(),Cn=(()=>{class Ae{constructor(){this.title="monosushi2"}static#e=this.\u0275fac=function(pe){return new(pe||Ae)};static#t=this.\u0275cmp=M.Xpm({type:Ae,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"]],template:function(pe,he){1&pe&&(M.TgZ(0,"div",0),M._UZ(1,"app-header"),M.TgZ(2,"main"),M._UZ(3,"router-outlet"),M.qZA(),M._UZ(4,"app-footer"),M.qZA())},dependencies:[se.lC,xe,Kt],styles:[".container[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return Ae})();var Ze=B(721),_n=B(4426),lt=B(9862);let Xt=(()=>{class Ae{static#e=this.\u0275fac=function(pe){return new(pe||Ae)};static#t=this.\u0275mod=M.oAB({type:Ae,bootstrap:[Cn]});static#n=this.\u0275inj=M.cJS({imports:[m.b2,fe,(0,Ze.hX)(()=>(0,Ze.ZF)({projectId:"monosushi-def6a",appId:"1:44954063512:web:b51ddc8883beb54c9bf6ed",storageBucket:"monosushi-def6a.appspot.com",apiKey:"AIzaSyBKM4Xpn3kEQVoxAEEKwFwoSAbAzEnPoRY",authDomain:"monosushi-def6a.firebaseapp.com",messagingSenderId:"44954063512"})),(0,te.AR)(()=>(0,te.v0)()),(0,ce.Cm)(()=>(0,ce.ad)()),(0,_n.Vq)(()=>(0,_n.cF)()),Ve.UX,lt.JF]})}return Ae})();m.q6().bootstrapModule(Xt).catch(Ae=>console.error(Ae))},5619:($t,ze,B)=>{B.d(ze,{X:()=>se});var m=B(8645);class se extends m.x{constructor(M){super(),this._value=M}get value(){return this.getValue()}_subscribe(M){const Q=super._subscribe(M);return!Q.closed&&M.next(this._value),Q}getValue(){const{hasError:M,thrownError:Q,_value:fe}=this;if(M)throw Q;return this._throwIfClosed(),fe}next(M){super.next(this._value=M)}}},5592:($t,ze,B)=>{B.d(ze,{y:()=>Ce});var m=B(305),se=B(7394),Be=B(4850),M=B(8407),Q=B(2653),fe=B(4674),xe=B(1441);let Ce=(()=>{class Pe{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const Je=new Pe;return Je.source=this,Je.operator=Qe,Je}subscribe(Qe,Je,Pt){const Ht=function ce(Pe){return Pe&&Pe instanceof m.Lv||function te(Pe){return Pe&&(0,fe.m)(Pe.next)&&(0,fe.m)(Pe.error)&&(0,fe.m)(Pe.complete)}(Pe)&&(0,se.Nn)(Pe)}(Qe)?Qe:new m.Hp(Qe,Je,Pt);return(0,xe.x)(()=>{const{operator:wt,source:mn}=this;Ht.add(wt?wt.call(Ht,mn):mn?this._subscribe(Ht):this._trySubscribe(Ht))}),Ht}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(Je){Qe.error(Je)}}forEach(Qe,Je){return new(Je=Ve(Je))((Pt,Ht)=>{const wt=new m.Hp({next:mn=>{try{Qe(mn)}catch(Wt){Ht(Wt),wt.unsubscribe()}},error:Ht,complete:Pt});this.subscribe(wt)})}_subscribe(Qe){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Qe)}[Be.L](){return this}pipe(...Qe){return(0,M.U)(Qe)(this)}toPromise(Qe){return new(Qe=Ve(Qe))((Je,Pt)=>{let Ht;this.subscribe(wt=>Ht=wt,wt=>Pt(wt),()=>Je(Ht))})}}return Pe.create=tt=>new Pe(tt),Pe})();function Ve(Pe){var tt;return null!==(tt=Pe??Q.config.Promise)&&void 0!==tt?tt:Promise}},8645:($t,ze,B)=>{B.d(ze,{x:()=>xe});var m=B(5592),se=B(7394);const M=(0,B(2306).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=B(9039),fe=B(1441);let xe=(()=>{class Ve extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Pe=new Ce(this,this);return Pe.operator=ce,Pe}_throwIfClosed(){if(this.closed)throw new M}next(ce){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(ce)}})}error(ce){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(ce)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Pe,isStopped:tt,observers:Qe}=this;return Pe||tt?se.Lc:(this.currentObservers=null,Qe.push(ce),new se.w0(()=>{this.currentObservers=null,(0,Q.P)(Qe,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Pe,thrownError:tt,isStopped:Qe}=this;Pe?ce.error(tt):Qe&&ce.complete()}asObservable(){const ce=new m.y;return ce.source=this,ce}}return Ve.create=(te,ce)=>new Ce(te,ce),Ve})();class Ce extends xe{constructor(te,ce){super(),this.destination=te,this.source=ce}next(te){var ce,Pe;null===(Pe=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Pe||Pe.call(ce,te)}error(te){var ce,Pe;null===(Pe=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Pe||Pe.call(ce,te)}complete(){var te,ce;null===(ce=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ce||ce.call(te)}_subscribe(te){var ce,Pe;return null!==(Pe=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(te))&&void 0!==Pe?Pe:se.Lc}}},305:($t,ze,B)=>{B.d(ze,{Hp:()=>Pt,Lv:()=>Pe});var m=B(4674),se=B(7394),Be=B(2653),M=B(3894),Q=B(2420);const fe=Ve("C",void 0,void 0);function Ve(Le,Ke,Ge){return{kind:Le,value:Ke,error:Ge}}var te=B(7599),ce=B(1441);class Pe extends se.w0{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,se.Nn)(Ke)&&Ke.add(this)):this.destination=Wt}static create(Ke,Ge,at){return new Pt(Ke,Ge,at)}next(Ke){this.isStopped?mn(function Ce(Le){return Ve("N",Le,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?mn(function xe(Le){return Ve("E",void 0,Le)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?mn(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Qe(Le,Ke){return tt.call(Le,Ke)}class Je{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:Ge}=this;if(Ge.next)try{Ge.next(Ke)}catch(at){Ht(at)}}error(Ke){const{partialObserver:Ge}=this;if(Ge.error)try{Ge.error(Ke)}catch(at){Ht(at)}else Ht(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(Ge){Ht(Ge)}}}class Pt extends Pe{constructor(Ke,Ge,at){let gt;if(super(),(0,m.m)(Ke)||!Ke)gt={next:Ke??void 0,error:Ge??void 0,complete:at??void 0};else{let rt;this&&Be.config.useDeprecatedNextContext?(rt=Object.create(Ke),rt.unsubscribe=()=>this.unsubscribe(),gt={next:Ke.next&&Qe(Ke.next,rt),error:Ke.error&&Qe(Ke.error,rt),complete:Ke.complete&&Qe(Ke.complete,rt)}):gt=Ke}this.destination=new Je(gt)}}function Ht(Le){Be.config.useDeprecatedSynchronousErrorHandling?(0,ce.O)(Le):(0,M.h)(Le)}function mn(Le,Ke){const{onStoppedNotification:Ge}=Be.config;Ge&&te.z.setTimeout(()=>Ge(Le,Ke))}const Wt={closed:!0,next:Q.Z,error:function wt(Le){throw Le},complete:Q.Z}},7394:($t,ze,B)=>{B.d(ze,{Lc:()=>fe,w0:()=>Q,Nn:()=>xe});var m=B(4674);const Be=(0,B(2306).d)(Ve=>function(ce){Ve(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Pe,tt)=>`${tt+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var M=B(9039);class Q{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const Qe of ce)Qe.remove(this);else ce.remove(this);const{initialTeardown:Pe}=this;if((0,m.m)(Pe))try{Pe()}catch(Qe){te=Qe instanceof Be?Qe.errors:[Qe]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Qe of tt)try{Ce(Qe)}catch(Je){te=te??[],Je instanceof Be?te=[...te,...Je.errors]:te.push(Je)}}if(te)throw new Be(te)}}add(te){var ce;if(te&&te!==this)if(this.closed)Ce(te);else{if(te instanceof Q){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(te)}}_hasParent(te){const{_parentage:ce}=this;return ce===te||Array.isArray(ce)&&ce.includes(te)}_addParent(te){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(te),ce):ce?[ce,te]:te}_removeParent(te){const{_parentage:ce}=this;ce===te?this._parentage=null:Array.isArray(ce)&&(0,M.P)(ce,te)}remove(te){const{_finalizers:ce}=this;ce&&(0,M.P)(ce,te),te instanceof Q&&te._removeParent(this)}}Q.EMPTY=(()=>{const Ve=new Q;return Ve.closed=!0,Ve})();const fe=Q.EMPTY;function xe(Ve){return Ve instanceof Q||Ve&&"closed"in Ve&&(0,m.m)(Ve.remove)&&(0,m.m)(Ve.add)&&(0,m.m)(Ve.unsubscribe)}function Ce(Ve){(0,m.m)(Ve)?Ve():Ve.unsubscribe()}},2653:($t,ze,B)=>{B.d(ze,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:($t,ze,B)=>{B.d(ze,{E:()=>se});const se=new(B(5592).y)(Q=>Q.complete())},2459:($t,ze,B)=>{B.d(ze,{D:()=>Ke});var m=B(4829),se=B(3093),Be=B(5137),fe=B(5592),Ce=B(4971),Ve=B(4674),te=B(7103);function Pe(Ge,at){if(!Ge)throw new Error("Iterable cannot be null");return new fe.y(gt=>{(0,te.f)(gt,at,()=>{const rt=Ge[Symbol.asyncIterator]();(0,te.f)(gt,at,()=>{rt.next().then(st=>{st.done?gt.complete():gt.next(st.value)})},0,!0)})})}var tt=B(8382),Qe=B(4026),Je=B(4266),Pt=B(3664),Ht=B(5726),wt=B(9853),mn=B(541);function Ke(Ge,at){return at?function Le(Ge,at){if(null!=Ge){if((0,tt.c)(Ge))return function M(Ge,at){return(0,m.Xf)(Ge).pipe((0,Be.R)(at),(0,se.Q)(at))}(Ge,at);if((0,Je.z)(Ge))return function xe(Ge,at){return new fe.y(gt=>{let rt=0;return at.schedule(function(){rt===Ge.length?gt.complete():(gt.next(Ge[rt++]),gt.closed||this.schedule())})})}(Ge,at);if((0,Qe.t)(Ge))return function Q(Ge,at){return(0,m.Xf)(Ge).pipe((0,Be.R)(at),(0,se.Q)(at))}(Ge,at);if((0,Ht.D)(Ge))return Pe(Ge,at);if((0,Pt.T)(Ge))return function ce(Ge,at){return new fe.y(gt=>{let rt;return(0,te.f)(gt,at,()=>{rt=Ge[Ce.h](),(0,te.f)(gt,at,()=>{let st,Kt;try{({value:st,done:Kt}=rt.next())}catch(Cn){return void gt.error(Cn)}Kt?gt.complete():gt.next(st)},0,!0)}),()=>(0,Ve.m)(rt?.return)&&rt.return()})}(Ge,at);if((0,mn.L)(Ge))return function Wt(Ge,at){return Pe((0,mn.Q)(Ge),at)}(Ge,at)}throw(0,wt.z)(Ge)}(Ge,at):(0,m.Xf)(Ge)}},4829:($t,ze,B)=>{B.d(ze,{Xf:()=>tt});var m=B(7582),se=B(4266),Be=B(4026),M=B(5592),Q=B(8382),fe=B(5726),xe=B(9853),Ce=B(3664),Ve=B(541),te=B(4674),ce=B(3894),Pe=B(4850);function tt(Le){if(Le instanceof M.y)return Le;if(null!=Le){if((0,Q.c)(Le))return function Qe(Le){return new M.y(Ke=>{const Ge=Le[Pe.L]();if((0,te.m)(Ge.subscribe))return Ge.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,se.z)(Le))return function Je(Le){return new M.y(Ke=>{for(let Ge=0;Ge<Le.length&&!Ke.closed;Ge++)Ke.next(Le[Ge]);Ke.complete()})}(Le);if((0,Be.t)(Le))return function Pt(Le){return new M.y(Ke=>{Le.then(Ge=>{Ke.closed||(Ke.next(Ge),Ke.complete())},Ge=>Ke.error(Ge)).then(null,ce.h)})}(Le);if((0,fe.D)(Le))return wt(Le);if((0,Ce.T)(Le))return function Ht(Le){return new M.y(Ke=>{for(const Ge of Le)if(Ke.next(Ge),Ke.closed)return;Ke.complete()})}(Le);if((0,Ve.L)(Le))return function mn(Le){return wt((0,Ve.Q)(Le))}(Le)}throw(0,xe.z)(Le)}function wt(Le){return new M.y(Ke=>{(function Wt(Le,Ke){var Ge,at,gt,rt;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Ge=(0,m.KL)(Le);!(at=yield Ge.next()).done;)if(Ke.next(at.value),Ke.closed)return}catch(st){gt={error:st}}finally{try{at&&!at.done&&(rt=Ge.return)&&(yield rt.call(Ge))}finally{if(gt)throw gt.error}}Ke.complete()})})(Le,Ke).catch(Ge=>Ke.error(Ge))})}},2096:($t,ze,B)=>{B.d(ze,{of:()=>Be});var m=B(4564),se=B(2459);function Be(...M){const Q=(0,m.yG)(M);return(0,se.D)(M,Q)}},8251:($t,ze,B)=>{B.d(ze,{x:()=>se});var m=B(305);function se(M,Q,fe,xe,Ce){return new Be(M,Q,fe,xe,Ce)}class Be extends m.Lv{constructor(Q,fe,xe,Ce,Ve,te){super(Q),this.onFinalize=Ve,this.shouldUnsubscribe=te,this._next=fe?function(ce){try{fe(ce)}catch(Pe){Q.error(Pe)}}:super._next,this._error=Ce?function(ce){try{Ce(ce)}catch(Pe){Q.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(ce){Q.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(Q=this.onFinalize)||void 0===Q||Q.call(this))}}}},6328:($t,ze,B)=>{B.d(ze,{b:()=>Be});var m=B(1631),se=B(4674);function Be(M,Q){return(0,se.m)(Q)?(0,m.z)(M,Q,1):(0,m.z)(M,1)}},2181:($t,ze,B)=>{B.d(ze,{h:()=>Be});var m=B(9360),se=B(8251);function Be(M,Q){return(0,m.e)((fe,xe)=>{let Ce=0;fe.subscribe((0,se.x)(xe,Ve=>M.call(Q,Ve,Ce++)&&xe.next(Ve)))})}},4716:($t,ze,B)=>{B.d(ze,{x:()=>se});var m=B(9360);function se(Be){return(0,m.e)((M,Q)=>{try{M.subscribe(Q)}finally{Q.add(Be)}})}},7398:($t,ze,B)=>{B.d(ze,{U:()=>Be});var m=B(9360),se=B(8251);function Be(M,Q){return(0,m.e)((fe,xe)=>{let Ce=0;fe.subscribe((0,se.x)(xe,Ve=>{xe.next(M.call(Q,Ve,Ce++))}))})}},7537:($t,ze,B)=>{B.d(ze,{J:()=>Be});var m=B(1631),se=B(2737);function Be(M=1/0){return(0,m.z)(se.y,M)}},1631:($t,ze,B)=>{B.d(ze,{z:()=>Ce});var m=B(7398),se=B(4829),Be=B(9360),M=B(7103),Q=B(8251),xe=B(4674);function Ce(Ve,te,ce=1/0){return(0,xe.m)(te)?Ce((Pe,tt)=>(0,m.U)((Qe,Je)=>te(Pe,Qe,tt,Je))((0,se.Xf)(Ve(Pe,tt))),ce):("number"==typeof te&&(ce=te),(0,Be.e)((Pe,tt)=>function fe(Ve,te,ce,Pe,tt,Qe,Je,Pt){const Ht=[];let wt=0,mn=0,Wt=!1;const Le=()=>{Wt&&!Ht.length&&!wt&&te.complete()},Ke=at=>wt<Pe?Ge(at):Ht.push(at),Ge=at=>{Qe&&te.next(at),wt++;let gt=!1;(0,se.Xf)(ce(at,mn++)).subscribe((0,Q.x)(te,rt=>{tt?.(rt),Qe?Ke(rt):te.next(rt)},()=>{gt=!0},void 0,()=>{if(gt)try{for(wt--;Ht.length&&wt<Pe;){const rt=Ht.shift();Je?(0,M.f)(te,Je,()=>Ge(rt)):Ge(rt)}Le()}catch(rt){te.error(rt)}}))};return Ve.subscribe((0,Q.x)(te,Ke,()=>{Wt=!0,Le()})),()=>{Pt?.()}}(Pe,tt,Ve,ce)))}},3093:($t,ze,B)=>{B.d(ze,{Q:()=>M});var m=B(7103),se=B(9360),Be=B(8251);function M(Q,fe=0){return(0,se.e)((xe,Ce)=>{xe.subscribe((0,Be.x)(Ce,Ve=>(0,m.f)(Ce,Q,()=>Ce.next(Ve),fe),()=>(0,m.f)(Ce,Q,()=>Ce.complete(),fe),Ve=>(0,m.f)(Ce,Q,()=>Ce.error(Ve),fe)))})}},5137:($t,ze,B)=>{B.d(ze,{R:()=>se});var m=B(9360);function se(Be,M=0){return(0,m.e)((Q,fe)=>{fe.add(Be.schedule(()=>Q.subscribe(fe),M))})}},4664:($t,ze,B)=>{B.d(ze,{w:()=>M});var m=B(4829),se=B(9360),Be=B(8251);function M(Q,fe){return(0,se.e)((xe,Ce)=>{let Ve=null,te=0,ce=!1;const Pe=()=>ce&&!Ve&&Ce.complete();xe.subscribe((0,Be.x)(Ce,tt=>{Ve?.unsubscribe();let Qe=0;const Je=te++;(0,m.Xf)(Q(tt,Je)).subscribe(Ve=(0,Be.x)(Ce,Pt=>Ce.next(fe?fe(tt,Pt,Je,Qe++):Pt),()=>{Ve=null,Pe()}))},()=>{ce=!0,Pe()}))})}},9397:($t,ze,B)=>{B.d(ze,{b:()=>Q});var m=B(4674),se=B(9360),Be=B(8251),M=B(2737);function Q(fe,xe,Ce){const Ve=(0,m.m)(fe)||xe||Ce?{next:fe,error:xe,complete:Ce}:fe;return Ve?(0,se.e)((te,ce)=>{var Pe;null===(Pe=Ve.subscribe)||void 0===Pe||Pe.call(Ve);let tt=!0;te.subscribe((0,Be.x)(ce,Qe=>{var Je;null===(Je=Ve.next)||void 0===Je||Je.call(Ve,Qe),ce.next(Qe)},()=>{var Qe;tt=!1,null===(Qe=Ve.complete)||void 0===Qe||Qe.call(Ve),ce.complete()},Qe=>{var Je;tt=!1,null===(Je=Ve.error)||void 0===Je||Je.call(Ve,Qe),ce.error(Qe)},()=>{var Qe,Je;tt&&(null===(Qe=Ve.unsubscribe)||void 0===Qe||Qe.call(Ve)),null===(Je=Ve.finalize)||void 0===Je||Je.call(Ve)}))}):M.y}},7599:($t,ze,B)=>{B.d(ze,{z:()=>m});const m={setTimeout(se,Be,...M){const{delegate:Q}=m;return Q?.setTimeout?Q.setTimeout(se,Be,...M):setTimeout(se,Be,...M)},clearTimeout(se){const{delegate:Be}=m;return(Be?.clearTimeout||clearTimeout)(se)},delegate:void 0}},4971:($t,ze,B)=>{B.d(ze,{h:()=>se});const se=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:($t,ze,B)=>{B.d(ze,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:($t,ze,B)=>{B.d(ze,{_6:()=>fe,jO:()=>M,yG:()=>Q});var m=B(4674);function Be(xe){return xe[xe.length-1]}function M(xe){return(0,m.m)(Be(xe))?xe.pop():void 0}function Q(xe){return function se(xe){return xe&&(0,m.m)(xe.schedule)}(Be(xe))?xe.pop():void 0}function fe(xe,Ce){return"number"==typeof Be(xe)?xe.pop():Ce}},7453:($t,ze,B)=>{B.d(ze,{D:()=>Q});const{isArray:m}=Array,{getPrototypeOf:se,prototype:Be,keys:M}=Object;function Q(xe){if(1===xe.length){const Ce=xe[0];if(m(Ce))return{args:Ce,keys:null};if(function fe(xe){return xe&&"object"==typeof xe&&se(xe)===Be}(Ce)){const Ve=M(Ce);return{args:Ve.map(te=>Ce[te]),keys:Ve}}}return{args:xe,keys:null}}},9039:($t,ze,B)=>{function m(se,Be){if(se){const M=se.indexOf(Be);0<=M&&se.splice(M,1)}}B.d(ze,{P:()=>m})},2306:($t,ze,B)=>{function m(se){const M=se(Q=>{Error.call(Q),Q.stack=(new Error).stack});return M.prototype=Object.create(Error.prototype),M.prototype.constructor=M,M}B.d(ze,{d:()=>m})},2714:($t,ze,B)=>{function m(se,Be){return se.reduce((M,Q,fe)=>(M[Q]=Be[fe],M),{})}B.d(ze,{n:()=>m})},1441:($t,ze,B)=>{B.d(ze,{O:()=>M,x:()=>Be});var m=B(2653);let se=null;function Be(Q){if(m.config.useDeprecatedSynchronousErrorHandling){const fe=!se;if(fe&&(se={errorThrown:!1,error:null}),Q(),fe){const{errorThrown:xe,error:Ce}=se;if(se=null,xe)throw Ce}}else Q()}function M(Q){m.config.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=Q)}},7103:($t,ze,B)=>{function m(se,Be,M,Q=0,fe=!1){const xe=Be.schedule(function(){M(),fe?se.add(this.schedule(null,Q)):this.unsubscribe()},Q);if(se.add(xe),!fe)return xe}B.d(ze,{f:()=>m})},2737:($t,ze,B)=>{function m(se){return se}B.d(ze,{y:()=>m})},4266:($t,ze,B)=>{B.d(ze,{z:()=>m});const m=se=>se&&"number"==typeof se.length&&"function"!=typeof se},5726:($t,ze,B)=>{B.d(ze,{D:()=>se});var m=B(4674);function se(Be){return Symbol.asyncIterator&&(0,m.m)(Be?.[Symbol.asyncIterator])}},4674:($t,ze,B)=>{function m(se){return"function"==typeof se}B.d(ze,{m:()=>m})},8382:($t,ze,B)=>{B.d(ze,{c:()=>Be});var m=B(4850),se=B(4674);function Be(M){return(0,se.m)(M[m.L])}},3664:($t,ze,B)=>{B.d(ze,{T:()=>Be});var m=B(4971),se=B(4674);function Be(M){return(0,se.m)(M?.[m.h])}},4026:($t,ze,B)=>{B.d(ze,{t:()=>se});var m=B(4674);function se(Be){return(0,m.m)(Be?.then)}},541:($t,ze,B)=>{B.d(ze,{L:()=>M,Q:()=>Be});var m=B(7582),se=B(4674);function Be(Q){return(0,m.FC)(this,arguments,function*(){const xe=Q.getReader();try{for(;;){const{value:Ce,done:Ve}=yield(0,m.qq)(xe.read());if(Ve)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Ce)}}finally{xe.releaseLock()}})}function M(Q){return(0,se.m)(Q?.getReader)}},9360:($t,ze,B)=>{B.d(ze,{A:()=>se,e:()=>Be});var m=B(4674);function se(M){return(0,m.m)(M?.lift)}function Be(M){return Q=>{if(se(Q))return Q.lift(function(fe){try{return M(fe,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:($t,ze,B)=>{B.d(ze,{Z:()=>M});var m=B(7398);const{isArray:se}=Array;function M(Q){return(0,m.U)(fe=>function Be(Q,fe){return se(fe)?Q(...fe):Q(fe)}(Q,fe))}},2420:($t,ze,B)=>{function m(){}B.d(ze,{Z:()=>m})},8407:($t,ze,B)=>{B.d(ze,{U:()=>Be,z:()=>se});var m=B(2737);function se(...M){return Be(M)}function Be(M){return 0===M.length?m.y:1===M.length?M[0]:function(fe){return M.reduce((xe,Ce)=>Ce(xe),fe)}}},3894:($t,ze,B)=>{B.d(ze,{h:()=>Be});var m=B(2653),se=B(7599);function Be(M){se.z.setTimeout(()=>{const{onUnhandledError:Q}=m.config;if(!Q)throw M;Q(M)})}},9853:($t,ze,B)=>{function m(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(ze,{z:()=>m})},6814:($t,ze,B)=>{B.d(ze,{Do:()=>Pt,EM:()=>Zr,HT:()=>M,JF:()=>Fi,K0:()=>fe,Mx:()=>Kr,O5:()=>On,OU:()=>yi,PM:()=>hn,S$:()=>tt,V_:()=>Ce,Ye:()=>Ht,b0:()=>Je,bD:()=>vi,ez:()=>Ji,q:()=>Be,sg:()=>or,w_:()=>Q});var m=B(4946);let se=null;function Be(){return se}function M(w){se||(se=w)}class Q{}const fe=new m.OlP("DocumentToken");let xe=(()=>{class w{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(L){return new(L||w)};static#t=this.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(Ve)},providedIn:"platform"})}return w})();const Ce=new m.OlP("Location Initialized");let Ve=(()=>{class w extends xe{constructor(){super(),this._doc=(0,m.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Be().getBaseHref(this._doc)}onPopState(x){const L=Be().getGlobalEventTarget(this._doc,"window");return L.addEventListener("popstate",x,!1),()=>L.removeEventListener("popstate",x)}onHashChange(x){const L=Be().getGlobalEventTarget(this._doc,"window");return L.addEventListener("hashchange",x,!1),()=>L.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,L,oe){this._history.pushState(x,L,oe)}replaceState(x,L,oe){this._history.replaceState(x,L,oe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static#e=this.\u0275fac=function(L){return new(L||w)};static#t=this.\u0275prov=m.Yz7({token:w,factory:function(){return new w},providedIn:"platform"})}return w})();function te(w,j){if(0==w.length)return j;if(0==j.length)return w;let x=0;return w.endsWith("/")&&x++,j.startsWith("/")&&x++,2==x?w+j.substring(1):1==x?w+j:w+"/"+j}function ce(w){const j=w.match(/#|\?|$/),x=j&&j.index||w.length;return w.slice(0,x-("/"===w[x-1]?1:0))+w.slice(x)}function Pe(w){return w&&"?"!==w[0]?"?"+w:w}let tt=(()=>{class w{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(L){return new(L||w)};static#t=this.\u0275prov=m.Yz7({token:w,factory:function(){return(0,m.f3M)(Je)},providedIn:"root"})}return w})();const Qe=new m.OlP("appBaseHref");let Je=(()=>{class w extends tt{constructor(x,L){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=L??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return te(this._baseHref,x)}path(x=!1){const L=this._platformLocation.pathname+Pe(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&x?`${L}${oe}`:L}pushState(x,L,oe,Fe){const Ye=this.prepareExternalUrl(oe+Pe(Fe));this._platformLocation.pushState(x,L,Ye)}replaceState(x,L,oe,Fe){const Ye=this.prepareExternalUrl(oe+Pe(Fe));this._platformLocation.replaceState(x,L,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(L){return new(L||w)(m.LFG(xe),m.LFG(Qe,8))};static#t=this.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Pt=(()=>{class w extends tt{constructor(x,L){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=L&&(this._baseHref=L)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let L=this._platformLocation.hash;return null==L&&(L="#"),L.length>0?L.substring(1):L}prepareExternalUrl(x){const L=te(this._baseHref,x);return L.length>0?"#"+L:L}pushState(x,L,oe,Fe){let Ye=this.prepareExternalUrl(oe+Pe(Fe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.pushState(x,L,Ye)}replaceState(x,L,oe,Fe){let Ye=this.prepareExternalUrl(oe+Pe(Fe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.replaceState(x,L,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(L){return new(L||w)(m.LFG(xe),m.LFG(Qe,8))};static#t=this.\u0275prov=m.Yz7({token:w,factory:w.\u0275fac})}return w})(),Ht=(()=>{class w{constructor(x){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const L=this._locationStrategy.getBaseHref();this._basePath=function Le(w){if(new RegExp("^(https?:)?//").test(w)){const[,x]=w.split(/\/\/[^\/]+/);return x}return w}(ce(Wt(L))),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,L=""){return this.path()==this.normalize(x+Pe(L))}normalize(x){return w.stripTrailingSlash(function mn(w,j){if(!w||!j.startsWith(w))return j;const x=j.substring(w.length);return""===x||["/",";","?","#"].includes(x[0])?x:j}(this._basePath,Wt(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,L="",oe=null){this._locationStrategy.pushState(oe,"",x,L),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Pe(L)),oe)}replaceState(x,L="",oe=null){this._locationStrategy.replaceState(oe,"",x,L),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Pe(L)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(L=>{this._notifyUrlChangeListeners(L.url,L.state)})),()=>{const L=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(L,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",L){this._urlChangeListeners.forEach(oe=>oe(x,L))}subscribe(x,L,oe){return this._subject.subscribe({next:x,error:L,complete:oe})}static#e=this.normalizeQueryParams=Pe;static#t=this.joinWithSlash=te;static#n=this.stripTrailingSlash=ce;static#r=this.\u0275fac=function(L){return new(L||w)(m.LFG(tt))};static#i=this.\u0275prov=m.Yz7({token:w,factory:function(){return function wt(){return new Ht((0,m.LFG)(tt))}()},providedIn:"root"})}return w})();function Wt(w){return w.replace(/\/index.html$/,"")}function Kr(w,j){j=encodeURIComponent(j);for(const x of w.split(";")){const L=x.indexOf("="),[oe,Fe]=-1==L?[x,""]:[x.slice(0,L),x.slice(L+1)];if(oe.trim()===j)return decodeURIComponent(Fe)}return null}class un{constructor(j,x,L,oe){this.$implicit=j,this.ngForOf=x,this.index=L,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let or=(()=>{class w{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,L,oe){this._viewContainer=x,this._template=L,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const L=this._viewContainer;x.forEachOperation((oe,Fe,Ye)=>{if(null==oe.previousIndex)L.createEmbeddedView(this._template,new un(oe.item,this._ngForOf,-1,-1),null===Ye?void 0:Ye);else if(null==Ye)L.remove(null===Fe?void 0:Fe);else if(null!==Fe){const Vt=L.get(Fe);L.move(Vt,Ye),Ai(Vt,oe)}});for(let oe=0,Fe=L.length;oe<Fe;oe++){const Vt=L.get(oe).context;Vt.index=oe,Vt.count=Fe,Vt.ngForOf=this._ngForOf}x.forEachIdentityChange(oe=>{Ai(L.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(x,L){return!0}static#e=this.\u0275fac=function(L){return new(L||w)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))};static#t=this.\u0275dir=m.lG2({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return w})();function Ai(w,j){w.context.$implicit=j.item}let On=(()=>{class w{constructor(x,L){this._viewContainer=x,this._context=new bi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=L}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){It("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){It("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,L){return!0}static#e=this.\u0275fac=function(L){return new(L||w)(m.Y36(m.s_b),m.Y36(m.Rgc))};static#t=this.\u0275dir=m.lG2({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return w})();class bi{constructor(){this.$implicit=null,this.ngIf=null}}function It(w,j){if(j&&!j.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,m.AaK)(j)}'.`)}let yi=(()=>{class w{transform(x,L,oe){if(null==x)return null;if(!this.supports(x))throw function _i(w,j){return new m.vHH(2100,!1)}();return x.slice(L,oe)}supports(x){return"string"==typeof x||Array.isArray(x)}static#e=this.\u0275fac=function(L){return new(L||w)};static#t=this.\u0275pipe=m.Yjl({name:"slice",type:w,pure:!1,standalone:!0})}return w})(),Ji=(()=>{class w{static#e=this.\u0275fac=function(L){return new(L||w)};static#t=this.\u0275mod=m.oAB({type:w});static#n=this.\u0275inj=m.cJS({})}return w})();const vi="browser",Ls="server";function hn(w){return w===Ls}let Zr=(()=>{class w{static#e=this.\u0275prov=(0,m.Yz7)({token:w,providedIn:"root",factory:()=>new zi((0,m.LFG)(fe),window)})}return w})();class zi{constructor(j,x){this.document=j,this.window=x,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const x=function fr(w,j){const x=w.getElementById(j)||w.getElementsByName(j)[0];if(x)return x;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const L=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let oe=L.currentNode;for(;oe;){const Fe=oe.shadowRoot;if(Fe){const Ye=Fe.getElementById(j)||Fe.querySelector(`[name="${j}"]`);if(Ye)return Ye}oe=L.nextNode()}}return null}(this.document,j);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(j){this.supportsScrolling()&&(this.window.history.scrollRestoration=j)}scrollToElement(j){const x=j.getBoundingClientRect(),L=x.left+this.window.pageXOffset,oe=x.top+this.window.pageYOffset,Fe=this.offset();this.window.scrollTo(L-Fe[0],oe-Fe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Fi{}},9862:($t,ze,B)=>{B.d(ze,{JF:()=>K,eN:()=>ue});var m=B(4946),se=B(2096),Be=B(2459),M=B(5592),Q=B(6328),fe=B(2181),xe=B(7398),Ce=B(4716),Ve=B(4664),te=B(6814);class ce{}class Pe{}class tt{constructor(ae){this.normalizedNames=new Map,this.lazyUpdate=null,ae?"string"==typeof ae?this.lazyInit=()=>{this.headers=new Map,ae.split("\n").forEach(de=>{const re=de.indexOf(":");if(re>0){const ie=de.slice(0,re),we=ie.toLowerCase(),Se=de.slice(re+1).trim();this.maybeSetNormalizedName(ie,we),this.headers.has(we)?this.headers.get(we).push(Se):this.headers.set(we,[Se])}})}:typeof Headers<"u"&&ae instanceof Headers?(this.headers=new Map,ae.forEach((de,re)=>{this.setHeaderEntries(re,de)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ae).forEach(([de,re])=>{this.setHeaderEntries(de,re)})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const de=this.headers.get(ae.toLowerCase());return de&&de.length>0?de[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,de){return this.clone({name:ae,value:de,op:"a"})}set(ae,de){return this.clone({name:ae,value:de,op:"s"})}delete(ae,de){return this.clone({name:ae,value:de,op:"d"})}maybeSetNormalizedName(ae,de){this.normalizedNames.has(de)||this.normalizedNames.set(de,ae)}init(){this.lazyInit&&(this.lazyInit instanceof tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(de=>{this.headers.set(de,ae.headers.get(de)),this.normalizedNames.set(de,ae.normalizedNames.get(de))})}clone(ae){const de=new tt;return de.lazyInit=this.lazyInit&&this.lazyInit instanceof tt?this.lazyInit:this,de.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),de}applyUpdate(ae){const de=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let re=ae.value;if("string"==typeof re&&(re=[re]),0===re.length)return;this.maybeSetNormalizedName(ae.name,de);const ie=("a"===ae.op?this.headers.get(de):void 0)||[];ie.push(...re),this.headers.set(de,ie);break;case"d":const we=ae.value;if(we){let Se=this.headers.get(de);if(!Se)return;Se=Se.filter(Ot=>-1===we.indexOf(Ot)),0===Se.length?(this.headers.delete(de),this.normalizedNames.delete(de)):this.headers.set(de,Se)}else this.headers.delete(de),this.normalizedNames.delete(de)}}setHeaderEntries(ae,de){const re=(Array.isArray(de)?de:[de]).map(we=>we.toString()),ie=ae.toLowerCase();this.headers.set(ie,re),this.maybeSetNormalizedName(ae,ie)}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(de=>ae(this.normalizedNames.get(de),this.headers.get(de)))}}class Je{encodeKey(ae){return mn(ae)}encodeValue(ae){return mn(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const Ht=/%(\d[a-f0-9])/gi,wt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mn(Ee){return encodeURIComponent(Ee).replace(Ht,(ae,de)=>wt[de]??ae)}function Wt(Ee){return`${Ee}`}class Le{constructor(ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ae.encoder||new Je,ae.fromString){if(ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pt(Ee,ae){const de=new Map;return Ee.length>0&&Ee.replace(/^\?/,"").split("&").forEach(ie=>{const we=ie.indexOf("="),[Se,Ot]=-1==we?[ae.decodeKey(ie),""]:[ae.decodeKey(ie.slice(0,we)),ae.decodeValue(ie.slice(we+1))],Xe=de.get(Se)||[];Xe.push(Ot),de.set(Se,Xe)}),de}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(de=>{const re=ae.fromObject[de],ie=Array.isArray(re)?re.map(Wt):[Wt(re)];this.map.set(de,ie)})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const de=this.map.get(ae);return de?de[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,de){return this.clone({param:ae,value:de,op:"a"})}appendAll(ae){const de=[];return Object.keys(ae).forEach(re=>{const ie=ae[re];Array.isArray(ie)?ie.forEach(we=>{de.push({param:re,value:we,op:"a"})}):de.push({param:re,value:ie,op:"a"})}),this.clone(de)}set(ae,de){return this.clone({param:ae,value:de,op:"s"})}delete(ae,de){return this.clone({param:ae,value:de,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const de=this.encoder.encodeKey(ae);return this.map.get(ae).map(re=>de+"="+this.encoder.encodeValue(re)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const de=new Le({encoder:this.encoder});return de.cloneFrom=this.cloneFrom||this,de.updates=(this.updates||[]).concat(ae),de}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const de=("a"===ae.op?this.map.get(ae.param):void 0)||[];de.push(Wt(ae.value)),this.map.set(ae.param,de);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let re=this.map.get(ae.param)||[];const ie=re.indexOf(Wt(ae.value));-1!==ie&&re.splice(ie,1),re.length>0?this.map.set(ae.param,re):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class Ge{constructor(){this.map=new Map}set(ae,de){return this.map.set(ae,de),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function gt(Ee){return typeof ArrayBuffer<"u"&&Ee instanceof ArrayBuffer}function rt(Ee){return typeof Blob<"u"&&Ee instanceof Blob}function st(Ee){return typeof FormData<"u"&&Ee instanceof FormData}class Cn{constructor(ae,de,re,ie){let we;if(this.url=de,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ae.toUpperCase(),function at(Ee){switch(Ee){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ie?(this.body=void 0!==re?re:null,we=ie):we=re,we&&(this.reportProgress=!!we.reportProgress,this.withCredentials=!!we.withCredentials,we.responseType&&(this.responseType=we.responseType),we.headers&&(this.headers=we.headers),we.context&&(this.context=we.context),we.params&&(this.params=we.params)),this.headers||(this.headers=new tt),this.context||(this.context=new Ge),this.params){const Se=this.params.toString();if(0===Se.length)this.urlWithParams=de;else{const Ot=de.indexOf("?");this.urlWithParams=de+(-1===Ot?"?":Ot<de.length-1?"&":"")+Se}}else this.params=new Le,this.urlWithParams=de}serializeBody(){return null===this.body?null:gt(this.body)||rt(this.body)||st(this.body)||function Kt(Ee){return typeof URLSearchParams<"u"&&Ee instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||st(this.body)?null:rt(this.body)?this.body.type||null:gt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ae={}){const de=ae.method||this.method,re=ae.url||this.url,ie=ae.responseType||this.responseType,we=void 0!==ae.body?ae.body:this.body,Se=void 0!==ae.withCredentials?ae.withCredentials:this.withCredentials,Ot=void 0!==ae.reportProgress?ae.reportProgress:this.reportProgress;let Xe=ae.headers||this.headers,Bt=ae.params||this.params;const Bn=ae.context??this.context;return void 0!==ae.setHeaders&&(Xe=Object.keys(ae.setHeaders).reduce((dn,Cr)=>dn.set(Cr,ae.setHeaders[Cr]),Xe)),ae.setParams&&(Bt=Object.keys(ae.setParams).reduce((dn,Cr)=>dn.set(Cr,ae.setParams[Cr]),Bt)),new Cn(de,re,we,{params:Bt,headers:Xe,context:Bn,reportProgress:Ot,responseType:ie,withCredentials:Se})}}var Ze=function(Ee){return Ee[Ee.Sent=0]="Sent",Ee[Ee.UploadProgress=1]="UploadProgress",Ee[Ee.ResponseHeader=2]="ResponseHeader",Ee[Ee.DownloadProgress=3]="DownloadProgress",Ee[Ee.Response=4]="Response",Ee[Ee.User=5]="User",Ee}(Ze||{});class _n{constructor(ae,de=200,re="OK"){this.headers=ae.headers||new tt,this.status=void 0!==ae.status?ae.status:de,this.statusText=ae.statusText||re,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class lt extends _n{constructor(ae={}){super(ae),this.type=Ze.ResponseHeader}clone(ae={}){return new lt({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class Xt extends _n{constructor(ae={}){super(ae),this.type=Ze.Response,this.body=void 0!==ae.body?ae.body:null}clone(ae={}){return new Xt({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class Ae extends _n{constructor(ae){super(ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function Rt(Ee,ae){return{body:ae,headers:Ee.headers,context:Ee.context,observe:Ee.observe,params:Ee.params,reportProgress:Ee.reportProgress,responseType:Ee.responseType,withCredentials:Ee.withCredentials}}let ue=(()=>{class Ee{constructor(de){this.handler=de}request(de,re,ie={}){let we;if(de instanceof Cn)we=de;else{let Xe,Bt;Xe=ie.headers instanceof tt?ie.headers:new tt(ie.headers),ie.params&&(Bt=ie.params instanceof Le?ie.params:new Le({fromObject:ie.params})),we=new Cn(de,re,void 0!==ie.body?ie.body:null,{headers:Xe,context:ie.context,params:Bt,reportProgress:ie.reportProgress,responseType:ie.responseType||"json",withCredentials:ie.withCredentials})}const Se=(0,se.of)(we).pipe((0,Q.b)(Xe=>this.handler.handle(Xe)));if(de instanceof Cn||"events"===ie.observe)return Se;const Ot=Se.pipe((0,fe.h)(Xe=>Xe instanceof Xt));switch(ie.observe||"body"){case"body":switch(we.responseType){case"arraybuffer":return Ot.pipe((0,xe.U)(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Xe.body}));case"blob":return Ot.pipe((0,xe.U)(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof Blob))throw new Error("Response is not a Blob.");return Xe.body}));case"text":return Ot.pipe((0,xe.U)(Xe=>{if(null!==Xe.body&&"string"!=typeof Xe.body)throw new Error("Response is not a string.");return Xe.body}));default:return Ot.pipe((0,xe.U)(Xe=>Xe.body))}case"response":return Ot;default:throw new Error(`Unreachable: unhandled observe type ${ie.observe}}`)}}delete(de,re={}){return this.request("DELETE",de,re)}get(de,re={}){return this.request("GET",de,re)}head(de,re={}){return this.request("HEAD",de,re)}jsonp(de,re){return this.request("JSONP",de,{params:(new Le).append(re,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(de,re={}){return this.request("OPTIONS",de,re)}patch(de,re,ie={}){return this.request("PATCH",de,Rt(ie,re))}post(de,re,ie={}){return this.request("POST",de,Rt(ie,re))}put(de,re,ie={}){return this.request("PUT",de,Rt(ie,re))}static#e=this.\u0275fac=function(re){return new(re||Ee)(m.LFG(ce))};static#t=this.\u0275prov=m.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function mt(Ee,ae){return ae(Ee)}function ht(Ee,ae){return(de,re)=>ae.intercept(de,{handle:ie=>Ee(ie,re)})}const bn=new m.OlP(""),yn=new m.OlP(""),Sn=new m.OlP("");function Fr(){let Ee=null;return(ae,de)=>{null===Ee&&(Ee=((0,m.f3M)(bn,{optional:!0})??[]).reduceRight(ht,mt));const re=(0,m.f3M)(m.HDt),ie=re.add();return Ee(ae,de).pipe((0,Ce.x)(()=>re.remove(ie)))}}let Pn=(()=>{class Ee extends ce{constructor(de,re){super(),this.backend=de,this.injector=re,this.chain=null,this.pendingTasks=(0,m.f3M)(m.HDt)}handle(de){if(null===this.chain){const ie=Array.from(new Set([...this.injector.get(yn),...this.injector.get(Sn,[])]));this.chain=ie.reduceRight((we,Se)=>function Zt(Ee,ae,de){return(re,ie)=>de.runInContext(()=>ae(re,we=>Ee(we,ie)))}(we,Se,this.injector),mt)}const re=this.pendingTasks.add();return this.chain(de,ie=>this.backend.handle(ie)).pipe((0,Ce.x)(()=>this.pendingTasks.remove(re)))}static#e=this.\u0275fac=function(re){return new(re||Ee)(m.LFG(Pe),m.LFG(m.lqb))};static#t=this.\u0275prov=m.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();const ni=/^\)\]\}',?\n/;let qn=(()=>{class Ee{constructor(de){this.xhrFactory=de}handle(de){if("JSONP"===de.method)throw new m.vHH(-2800,!1);const re=this.xhrFactory;return(re.\u0275loadImpl?(0,Be.D)(re.\u0275loadImpl()):(0,se.of)(null)).pipe((0,Ve.w)(()=>new M.y(we=>{const Se=re.build();if(Se.open(de.method,de.urlWithParams),de.withCredentials&&(Se.withCredentials=!0),de.headers.forEach((an,Hn)=>Se.setRequestHeader(an,Hn.join(","))),de.headers.has("Accept")||Se.setRequestHeader("Accept","application/json, text/plain, */*"),!de.headers.has("Content-Type")){const an=de.detectContentTypeHeader();null!==an&&Se.setRequestHeader("Content-Type",an)}if(de.responseType){const an=de.responseType.toLowerCase();Se.responseType="json"!==an?an:"text"}const Ot=de.serializeBody();let Xe=null;const Bt=()=>{if(null!==Xe)return Xe;const an=Se.statusText||"OK",Hn=new tt(Se.getAllResponseHeaders()),mr=function Jn(Ee){return"responseURL"in Ee&&Ee.responseURL?Ee.responseURL:/^X-Request-URL:/m.test(Ee.getAllResponseHeaders())?Ee.getResponseHeader("X-Request-URL"):null}(Se)||de.url;return Xe=new lt({headers:Hn,status:Se.status,statusText:an,url:mr}),Xe},Bn=()=>{let{headers:an,status:Hn,statusText:mr,url:Qr}=Bt(),un=null;204!==Hn&&(un=typeof Se.response>"u"?Se.responseText:Se.response),0===Hn&&(Hn=un?200:0);let or=Hn>=200&&Hn<300;if("json"===de.responseType&&"string"==typeof un){const Ai=un;un=un.replace(ni,"");try{un=""!==un?JSON.parse(un):null}catch(vo){un=Ai,or&&(or=!1,un={error:vo,text:un})}}or?(we.next(new Xt({body:un,headers:an,status:Hn,statusText:mr,url:Qr||void 0})),we.complete()):we.error(new Ae({error:un,headers:an,status:Hn,statusText:mr,url:Qr||void 0}))},dn=an=>{const{url:Hn}=Bt(),mr=new Ae({error:an,status:Se.status||0,statusText:Se.statusText||"Unknown Error",url:Hn||void 0});we.error(mr)};let Cr=!1;const Kr=an=>{Cr||(we.next(Bt()),Cr=!0);let Hn={type:Ze.DownloadProgress,loaded:an.loaded};an.lengthComputable&&(Hn.total=an.total),"text"===de.responseType&&Se.responseText&&(Hn.partialText=Se.responseText),we.next(Hn)},Di=an=>{let Hn={type:Ze.UploadProgress,loaded:an.loaded};an.lengthComputable&&(Hn.total=an.total),we.next(Hn)};return Se.addEventListener("load",Bn),Se.addEventListener("error",dn),Se.addEventListener("timeout",dn),Se.addEventListener("abort",dn),de.reportProgress&&(Se.addEventListener("progress",Kr),null!==Ot&&Se.upload&&Se.upload.addEventListener("progress",Di)),Se.send(Ot),we.next({type:Ze.Sent}),()=>{Se.removeEventListener("error",dn),Se.removeEventListener("abort",dn),Se.removeEventListener("load",Bn),Se.removeEventListener("timeout",dn),de.reportProgress&&(Se.removeEventListener("progress",Kr),null!==Ot&&Se.upload&&Se.upload.removeEventListener("progress",Di)),Se.readyState!==Se.DONE&&Se.abort()}})))}static#e=this.\u0275fac=function(re){return new(re||Ee)(m.LFG(te.JF))};static#t=this.\u0275prov=m.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();const $n=new m.OlP("XSRF_ENABLED"),Gn=new m.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vt=new m.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ni{}let si=(()=>{class Ee{constructor(de,re,ie){this.doc=de,this.platform=re,this.cookieName=ie,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const de=this.doc.cookie||"";return de!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,te.Mx)(de,this.cookieName),this.lastCookieString=de),this.lastToken}static#e=this.\u0275fac=function(re){return new(re||Ee)(m.LFG(te.K0),m.LFG(m.Lbi),m.LFG(Gn))};static#t=this.\u0275prov=m.Yz7({token:Ee,factory:Ee.\u0275fac})}return Ee})();function Tr(Ee,ae){const de=Ee.url.toLowerCase();if(!(0,m.f3M)($n)||"GET"===Ee.method||"HEAD"===Ee.method||de.startsWith("http://")||de.startsWith("https://"))return ae(Ee);const re=(0,m.f3M)(Ni).getToken(),ie=(0,m.f3M)(vt);return null!=re&&!Ee.headers.has(ie)&&(Ee=Ee.clone({headers:Ee.headers.set(ie,re)})),ae(Ee)}var En=function(Ee){return Ee[Ee.Interceptors=0]="Interceptors",Ee[Ee.LegacyInterceptors=1]="LegacyInterceptors",Ee[Ee.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ee[Ee.NoXsrfProtection=3]="NoXsrfProtection",Ee[Ee.JsonpSupport=4]="JsonpSupport",Ee[Ee.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ee[Ee.Fetch=6]="Fetch",Ee}(En||{});function ai(...Ee){const ae=[ue,qn,Pn,{provide:ce,useExisting:Pn},{provide:Pe,useExisting:qn},{provide:yn,useValue:Tr,multi:!0},{provide:$n,useValue:!0},{provide:Ni,useClass:si}];for(const de of Ee)ae.push(...de.\u0275providers);return(0,m.MR2)(ae)}const qt=new m.OlP("LEGACY_INTERCEPTOR_FN");function ir(){return function kt(Ee,ae){return{\u0275kind:Ee,\u0275providers:ae}}(En.LegacyInterceptors,[{provide:qt,useFactory:Fr},{provide:yn,useExisting:qt,multi:!0}])}let K=(()=>{class Ee{static#e=this.\u0275fac=function(re){return new(re||Ee)};static#t=this.\u0275mod=m.oAB({type:Ee});static#n=this.\u0275inj=m.cJS({providers:[ai(ir())]})}return Ee})()},4946:($t,ze,B)=>{B.d(ze,{tb:()=>hE,AFp:()=>kp,ip1:()=>eT,hGG:()=>$A,z2F:()=>Wf,Ojb:()=>Oy,sBO:()=>AA,Sil:()=>WD,EJc:()=>HD,Xts:()=>Hd,SBq:()=>Gc,lqb:()=>ya,qLn:()=>Ju,vpe:()=>Ha,XFs:()=>vt,OlP:()=>qt,zs3:()=>ks,ZZ4:()=>yE,aQg:()=>vE,soG:()=>hy,YKP:()=>nI,h0i:()=>ph,PXZ:()=>yA,R0b:()=>mo,FiY:()=>xu,Lbi:()=>Fp,g9A:()=>ef,Qsj:()=>r_,FYo:()=>uf,JOm:()=>Fu,tp0:()=>fl,Rgc:()=>hm,dDg:()=>pA,eoX:()=>uT,q4F:()=>Wc,GfV:()=>cf,s_b:()=>ly,ifc:()=>mr,VuI:()=>XA,MMx:()=>iI,Lck:()=>SC,eFA:()=>hT,Gpc:()=>rt,f3M:()=>Xe,$WT:()=>Qi,MR2:()=>qh,_c5:()=>jA,qFp:()=>tb,rg0:()=>nt,c2e:()=>tT,zSh:()=>Yh,HDt:()=>nT,wAp:()=>$f,vHH:()=>lt,lri:()=>sT,rWj:()=>aT,cg1:()=>Uv,kL8:()=>b0,dqk:()=>kt,Z0I:()=>rr,eJc:()=>nE,QGY:()=>ty,F4k:()=>nm,RDi:()=>jh,AaK:()=>Ge,qOj:()=>nh,Xq5:()=>K_,TTD:()=>nd,_Bn:()=>tI,jDz:()=>oI,xp6:()=>If,uIk:()=>rc,ekj:()=>Fv,Suo:()=>OI,Xpm:()=>Ki,lG2:()=>Bi,Yz7:()=>Dn,cJS:()=>ln,oAB:()=>Go,Yjl:()=>Yi,Y36:()=>hu,_UZ:()=>X_,BQk:()=>em,ynx:()=>Xg,qZA:()=>Jg,TgZ:()=>Lf,EpF:()=>xv,n5z:()=>Ur,LFG:()=>Se,$8M:()=>ll,$Z:()=>D_,NdJ:()=>Uf,CRH:()=>NI,kcU:()=>wu,O4$:()=>fc,oxw:()=>n,ALo:()=>vI,Dn7:()=>EI,Q6J:()=>Yg,VKq:()=>hI,WLB:()=>fI,iGM:()=>xI,KtG:()=>Qo,CHM:()=>Ma,LSH:()=>Nl,P3R:()=>kl,Udp:()=>kv,YNc:()=>Dv,_uU:()=>s0,Oqu:()=>Lv,hij:()=>ry});var m=B(8645),se=B(7394),Be=B(5592),M=B(7537),Q=B(4829),fe=B(6232),xe=B(4564),Ce=B(2459),te=B(5619),ce=B(2096),Pe=B(305),tt=B(9360);function Qe(t={}){const{connector:r=(()=>new m.x),resetOnError:o=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,v,A,N=0,$=!1,ee=!1;const me=()=>{v?.unsubscribe(),v=void 0},De=()=>{me(),g=A=void 0,$=ee=!1},qe=()=>{const pt=g;De(),pt?.unsubscribe()};return(0,tt.e)((pt,Nt)=>{N++,!ee&&!$&&me();const sn=A=A??r();Nt.add(()=>{N--,0===N&&!ee&&!$&&(v=Je(qe,c))}),sn.subscribe(Nt),!g&&N>0&&(g=new Pe.Hp({next:it=>sn.next(it),error:it=>{ee=!0,me(),v=Je(De,o,it),sn.error(it)},complete:()=>{$=!0,me(),v=Je(De,a),sn.complete()}}),(0,Q.Xf)(pt).subscribe(g))})(d)}}function Je(t,r,...o){if(!0===r)return void t();if(!1===r)return;const a=new Pe.Hp({next:()=>{a.unsubscribe(),t()}});return(0,Q.Xf)(r(...o)).subscribe(a)}var Pt=B(4664),Ht=B(2737),wt=B(8251);function Wt(t,r){return t===r}function Le(t){for(let r in t)if(t[r]===Le)return r;throw Error("Could not find renamed property on target object.")}function Ke(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function at(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const gt=Le({__forward_ref__:Le});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return Ge(this())},t}function st(t){return Kt(t)?t():t}function Kt(t){return"function"==typeof t&&t.hasOwnProperty(gt)&&t.__forward_ref__===rt}function Cn(t){return t&&!!t.\u0275providers}const _n="https://g.co/ng/security#xss";class lt extends Error{constructor(r,o){super(function Xt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function Ae(t){return"string"==typeof t?t:null==t?"":String(t)}function be(t,r){throw new lt(-201,!1)}function Un(t,r){null==t&&function zt(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function Dn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jt(t){return ni(t,$n)||ni(t,Gn)}function rr(t){return null!==Jt(t)}function ni(t,r){return t.hasOwnProperty(r)?t[r]:null}function qn(t){return t&&(t.hasOwnProperty(Ci)||t.hasOwnProperty(yo))?t[Ci]:null}const $n=Le({\u0275prov:Le}),Ci=Le({\u0275inj:Le}),Gn=Le({ngInjectableDef:Le}),yo=Le({ngInjectorDef:Le});var vt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(vt||{});let Ni;function Tr(t){const r=Ni;return Ni=t,r}function pn(t,r,o){const a=Jt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&vt.Optional?null:void 0!==r?r:void be(Ge(t))}const kt=globalThis;class qt{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ft={},en="__NG_DI_FLAG__",tn="ngTempTokenPath",Kn=/\n/gm,ae="__source";let de;function ie(t){const r=de;return de=t,r}function we(t,r=vt.Default){if(void 0===de)throw new lt(-203,!1);return null===de?pn(t,void 0,r):de.get(t,r&vt.Optional?null:void 0,r)}function Se(t,r=vt.Default){return(function si(){return Ni}()||we)(st(t),r)}function Xe(t,r=vt.Default){return Se(t,Bt(r))}function Bt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bn(t){const r=[];for(let o=0;o<t.length;o++){const a=st(t[o]);if(Array.isArray(a)){if(0===a.length)throw new lt(900,!1);let c,d=vt.Default;for(let g=0;g<a.length;g++){const v=a[g],A=Cr(v);"number"==typeof A?-1===A?c=v.token:d|=A:c=v}r.push(Se(c,d))}else r.push(Se(a))}return r}function dn(t,r){return t[en]=r,t.prototype[en]=r,t}function Cr(t){return t[en]}function an(t){return{toString:t}.toString()}var Hn=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Hn||{}),mr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mr||{});const Qr={},un=[],or=Le({\u0275cmp:Le}),Ai=Le({\u0275dir:Le}),vo=Le({\u0275pipe:Le}),On=Le({\u0275mod:Le}),bi=Le({\u0275fac:Le}),It=Le({__NG_ELEMENT_ID__:Le}),ut=Le({__NG_ENV_ID__:Le});function Ct(t,r,o){let a=t.length;for(;;){const c=t.indexOf(r,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}o=c+1}}function jt(t,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const d=o[a++],g=o[a++],v=o[a++];t.setAttribute(r,g,v,d)}else{const d=c,g=o[++a];Br(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Jr(t){return 3===t||4===t||6===t}function Br(t){return 64===t.charCodeAt(0)}function Xr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||so(t,o,c,null,-1===o||2===o?r[++a]:null)}}return t}function so(t,r,o,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===r){g=-1;break}if(v>r){g=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,o),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const Pr="ng-template";function $i(t,r,o){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(o&&"class"===d&&-1!==Ct(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Si(t){return 4===t.type&&t.value!==Pr}function _i(t,r,o){return r===(4!==t.type||o?t.value:Pr)}function ko(t,r,o){let a=4;const c=t.attrs||[],d=function Eo(t){for(let r=0;r<t.length;r++)if(Jr(t[r]))return r;return t.length}(c);let g=!1;for(let v=0;v<r.length;v++){const A=r[v];if("number"!=typeof A){if(!g)if(4&a){if(a=2|1&a,""!==A&&!_i(t,A,o)||""===A&&1===r.length){if(ci(a))return!1;g=!0}}else{const N=8&a?A:r[++v];if(8&a&&null!==t.attrs){if(!$i(t.attrs,N,o)){if(ci(a))return!1;g=!0}continue}const ee=ws(8&a?"class":A,c,Si(t),o);if(-1===ee){if(ci(a))return!1;g=!0;continue}if(""!==N){let me;me=ee>d?"":c[ee+1].toLowerCase();const De=8&a?me:null;if(De&&-1!==Ct(De,N,0)||2&a&&N!==me){if(ci(a))return!1;g=!0}}}}else{if(!g&&!ci(a)&&!ci(A))return!1;if(g&&ci(A))continue;g=!1,a=A|1&a}}return ci(a)||g}function ci(t){return 0==(1&t)}function ws(t,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let v=r[++c];for(;"string"==typeof v;)v=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function os(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function Fo(t,r,o=!1){for(let a=0;a<r.length;a++)if(ko(t,r[a],o))return!0;return!1}function Cs(t,r){return t?":not("+r.trim()+")":r}function ss(t){let r=t[0],o=1,a=2,c="",d=!1;for(;o<t.length;){let g=t[o];if("string"==typeof g)if(2&a){const v=t[++o];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!ci(g)&&(r+=Cs(d,c),c=""),a=g,d=d||!ci(a);o++}return""!==c&&(r+=Cs(d,c)),r}function Ki(t){return an(()=>{const r=Ds(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mr.Emulated,styles:t.styles||un,_:null,schemas:t.schemas||null,tView:null,id:""};Ji(o);const a=t.dependencies;return o.directiveDefs=vi(a,!1),o.pipeDefs=vi(a,!0),o.id=function So(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function Io(t){return Mn(t)||hr(t)}function Vo(t){return null!==t}function Go(t){return an(()=>({type:t.type,bootstrap:t.bootstrap||un,declarations:t.declarations||un,imports:t.imports||un,exports:t.exports||un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hi(t,r){if(null==t)return Qr;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=a,r&&(r[c]=d)}return o}function Bi(t){return an(()=>{const r=Ds(t);return Ji(r),r})}function Yi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mn(t){return t[or]||null}function hr(t){return t[Ai]||null}function Mr(t){return t[vo]||null}function Qi(t){const r=Mn(t)||hr(t)||Mr(t);return null!==r&&r.standalone}function yi(t,r){const o=t[On]||null;if(!o&&!0===r)throw new Error(`Type ${Ge(t)} does not have '\u0275mod' property.`);return o}function Ds(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Qr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hi(t.inputs,r),outputs:Hi(t.outputs)}}function Ji(t){t.features?.forEach(r=>r(t))}function vi(t,r){if(!t)return null;const o=r?Mr:Io;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Vo)}const Dr=0,yt=1,hn=2,zn=3,Ri=4,us=5,Zr=6,zi=7,fr=8,ao=9,Fi=10,nn=11,Ro=12,As=13,Wo=14,Ar=15,Gi=16,li=17,di=18,Xi=19,Aa=20,Pi=21,ri=22,ps=23,er=24,Nn=25,Us=1,ra=2,br=7,Vi=9,Ei=11;function pr(t){return Array.isArray(t)&&"object"==typeof t[Us]}function ei(t){return Array.isArray(t)&&!0===t[Us]}function ba(t){return 0!=(4&t.flags)}function Po(t){return t.componentOffset>-1}function Vn(t){return 1==(1&t.flags)}function Ii(t){return!!t.template}function gs(t){return 0!=(512&t[hn])}function Lr(t,r){return t.hasOwnProperty(bi)?t[bi]:null}let oi=null,An=!1;function eo(t){const r=oi;return oi=t,r}const ia={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Sa(t){if(!Ss(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ho(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ra(t){t.dirty=!0,function Bs(t){if(void 0===t.liveConsumerNode)return;const r=An;An=!0;try{for(const o of t.liveConsumerNode)o.dirty||Ra(o)}finally{An=r}}(t),t.consumerMarkedDirty?.(t)}function js(t){return t&&(t.nextProducerIndex=0),eo(t)}function Zo(t,r){if(eo(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ss(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Lo(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ho(t){Rs(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Sa(o),a!==o.version))return!0}return!1}function ji(t){if(Rs(t),Ss(t))for(let r=0;r<t.producerNode.length;r++)Lo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Lo(t,r){if(function Pa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Rs(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Lo(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Rs(c),c.producerIndexOfThis[a]=r}}function Ss(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Rs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let oe=null;function nt(t){const r=eo(null);try{return t()}finally{eo(r)}}const Or=()=>{},Yo=(()=>({...ia,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Or}))();class Lt{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function nd(){return Dt}function Dt(t){return t.type.prototype.ngOnChanges&&(t.setInput=ot),je}function je(){const t=cc(this),r=t?.current;if(r){const o=t.previous;if(o===Qr)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ot(t,r,o,a){const c=this.declaredInputs[o],d=cc(t)||function _u(t,r){return t[Li]=r}(t,{previous:Qr,current:null}),g=d.current||(d.current={}),v=d.previous,A=v[c];g[c]=new Lt(A&&A.currentValue,r,v===Qr),t[a]=r}nd.ngInherit=!0;const Li="__ngSimpleChanges__";function cc(t){return t[Li]||null}const Ps=function(t,r,o){},rd="svg";function jn(t){for(;Array.isArray(t);)t=t[Dr];return t}function oa(t,r){return jn(r[t])}function to(t,r){return jn(r[t.index])}function sa(t,r){return t.data[r]}function sr(t,r){const o=r[t];return pr(o)?o:o[Dr]}function Hs(t,r){return null==r?null:t[r]}function Gr(t){t[li]=0}function At(t){1024&t[hn]||(t[hn]|=1024,yu(t,1))}function To(t){1024&t[hn]&&(t[hn]&=-1025,yu(t,-1))}function yu(t,r){let o=t[zn];if(null===o)return;o[us]+=r;let a=o;for(o=o[zn];null!==o&&(1===r&&1===a[us]||-1===r&&0===a[us]);)o[us]+=r,a=o,o=o[zn]}const gn={lFrame:ar(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dc(){return gn.bindingsEnabled}function et(){return gn.lFrame.lView}function Yn(){return gn.lFrame.tView}function Ma(t){return gn.lFrame.contextLView=t,t[fr]}function Qo(t){return gn.lFrame.contextLView=null,t}function Wi(){let t=Jo();for(;null!==t&&64===t.type;)t=t.parent;return t}function Jo(){return gn.lFrame.currentTNode}function Xo(t,r){const o=gn.lFrame;o.currentTNode=t,o.isParent=r}function qa(){return gn.lFrame.isParent}function Iu(){gn.lFrame.isParent=!1}function po(){const t=gn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ka(){return gn.lFrame.bindingIndex++}function _(t,r){const o=gn.lFrame;o.bindingIndex=o.bindingRootIndex=t,O(r)}function O(t){gn.lFrame.currentDirectiveIndex=t}function ne(){return gn.lFrame.currentQueryIndex}function Oe(t){gn.lFrame.currentQueryIndex=t}function Me(t){const r=t[yt];return 2===r.type?r.declTNode:1===r.type?t[Zr]:null}function bt(t,r,o){if(o&vt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||o&vt.Host||(c=Me(d),null===c||(d=d[Wo],10&c.type))););if(null===c)return!1;r=c,t=d}const a=gn.lFrame=Nr();return a.currentTNode=r,a.lView=t,!0}function In(t){const r=Nr(),o=t[yt];gn.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Nr(){const t=gn.lFrame,r=null===t?null:t.child;return null===r?ar(t):r}function ar(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ys(){const t=gn.lFrame;return gn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xa=ys;function zs(){const t=ys();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function go(){return gn.lFrame.selectedIndex}function ha(t){gn.lFrame.selectedIndex=t}function Mi(){const t=gn.lFrame;return sa(t.tView,t.selectedIndex)}function fc(){gn.lFrame.currentNamespace=rd}function wu(){!function Co(){gn.lFrame.currentNamespace=null}()}let Os=!0;function Ya(){return Os}function Sr(t){Os=t}function ro(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=t.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:A,ngAfterViewChecked:N,ngOnDestroy:$}=d;g&&(t.contentHooks??=[]).push(-o,g),v&&((t.contentHooks??=[]).push(o,v),(t.contentCheckHooks??=[]).push(o,v)),A&&(t.viewHooks??=[]).push(-o,A),N&&((t.viewHooks??=[]).push(o,N),(t.viewCheckHooks??=[]).push(o,N)),null!=$&&(t.destroyHooks??=[]).push(o,$)}}function nr(t,r,o){Uo(t,r,3,o)}function Qa(t,r,o,a){(3&t[hn])===o&&Uo(t,r,o,a)}function Oa(t,r){let o=t[hn];(3&o)===r&&(o&=8191,o+=1,t[hn]=o)}function Uo(t,r,o,a){const d=a??-1,g=r.length-1;let v=0;for(let A=void 0!==a?65535&t[li]:0;A<g;A++)if("number"==typeof r[A+1]){if(v=r[A],null!=a&&v>=a)break}else r[A]<0&&(t[li]+=65536),(v<d||-1==d)&&(_h(t,o,r,A),t[li]=(4294901760&t[li])+A+2),A++}function sd(t,r){Ps(4,t,r);const o=eo(null);try{r.call(t)}finally{eo(o),Ps(5,t,r)}}function _h(t,r,o,a){const c=o[a]<0,d=o[a+1],v=t[c?-o[a]:o[a]];c?t[hn]>>13<t[li]>>16&&(3&t[hn])===r&&(t[hn]+=8192,sd(v,d)):sd(v,d)}const Ti=-1;class sl{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function es(t){return t!==Ti}function Na(t){return 32767&t}function Mo(t,r){let o=function ka(t){return t>>16}(t),a=r;for(;o>0;)a=a[Wo],o--;return a}let fa=!0;function ds(t){const r=fa;return fa=t,r}const eu=255,mc=5;let _c=0;const Bo={};function Ws(t,r){const o=ld(t,r);if(-1!==o)return o;const a=r[yt];a.firstCreatePass&&(t.injectorIndex=r.length,cd(a.data,t),cd(r,null),cd(a.blueprint,null));const c=pa(t,r),d=t.injectorIndex;if(es(c)){const g=Na(c),v=Mo(c,r),A=v[yt].data;for(let N=0;N<8;N++)r[d+N]=v[g+N]|A[g+N]}return r[d+8]=c,d}function cd(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ld(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function pa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=Su(c),null===a)return Ti;if(o++,c=c[Wo],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Ti}function Au(t,r,o){!function ud(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(It)&&(a=o[It]),null==a&&(a=o[It]=_c++);const c=a&eu;r.data[t+(c>>mc)]|=1<<c}(t,r,o)}function al(t,r,o){if(o&vt.Optional||void 0!==t)return t;be()}function Zf(t,r,o,a){if(o&vt.Optional&&void 0===a&&(a=null),!(o&(vt.Self|vt.Host))){const c=t[ao],d=Tr(void 0);try{return c?c.get(r,a,o&vt.Optional):pn(r,a,o&vt.Optional)}finally{Tr(d)}}return al(a,0,o)}function yc(t,r,o,a=vt.Default,c){if(null!==t){if(2048&r[hn]&&!(a&vt.Self)){const g=function hd(t,r,o,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[hn]&&!(512&g[hn]);){const v=ul(d,g,o,a|vt.Self,Bo);if(v!==Bo)return v;let A=d.parent;if(!A){const N=g[Aa];if(N){const $=N.get(o,Bo,a);if($!==Bo)return $}A=Su(g),g=g[Wo]}d=A}return c}(t,r,o,a,Bo);if(g!==Bo)return g}const d=ul(t,r,o,a,Bo);if(d!==Bo)return d}return Zf(r,o,a,c)}function ul(t,r,o,a,c){const d=function Fa(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(It)?t[It]:void 0;return"number"==typeof r?r>=0?r&eu:Qn:r}(o);if("function"==typeof d){if(!bt(r,t,a))return a&vt.Host?al(c,0,a):Zf(r,o,a,c);try{let g;if(g=d(a),null!=g||a&vt.Optional)return g;be()}finally{xa()}}else if("number"==typeof d){let g=null,v=ld(t,r),A=Ti,N=a&vt.Host?r[Ar][Zr]:null;for((-1===v||a&vt.SkipSelf)&&(A=-1===v?pa(t,r):r[v+8],A!==Ti&&cl(a,!1)?(g=r[yt],v=Na(A),r=Mo(A,r)):v=-1);-1!==v;){const $=r[yt];if(dd(d,v,$.data)){const ee=io(v,r,o,g,a,N);if(ee!==Bo)return ee}A=r[v+8],A!==Ti&&cl(a,r[yt].data[v+8]===N)&&dd(d,v,r)?(g=$,v=Na(A),r=Mo(A,r)):v=-1}}return c}function io(t,r,o,a,c,d){const g=r[yt],v=g.data[t+8],$=bu(v,g,o,null==a?Po(v)&&fa:a!=g&&0!=(3&v.type),c&vt.Host&&d===v);return null!==$?Ir(r,g,$,v):Bo}function bu(t,r,o,a,c){const d=t.providerIndexes,g=r.data,v=1048575&d,A=t.directiveStart,$=d>>20,me=c?v+$:t.directiveEnd;for(let De=a?v:v+$;De<me;De++){const qe=g[De];if(De<A&&o===qe||De>=A&&qe.type===o)return De}if(c){const De=g[A];if(De&&Ii(De)&&De.type===o)return A}return null}function Ir(t,r,o,a){let c=t[o];const d=r.data;if(function Ja(t){return t instanceof sl}(c)){const g=c;g.resolving&&function ue(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new lt(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ae(t)}(d[o]));const v=ds(g.canSeeViewProviders);g.resolving=!0;const N=g.injectImpl?Tr(g.injectImpl):null;bt(t,a,vt.Default);try{c=t[o]=g.factory(void 0,d,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Cu(t,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Dt(r);(o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g)}c&&(o.preOrderHooks??=[]).push(0-t,c),d&&((o.preOrderHooks??=[]).push(t,d),(o.preOrderCheckHooks??=[]).push(t,d))}(o,d[o],r)}finally{null!==N&&Tr(N),ds(v),g.resolving=!1,xa()}}return c}function dd(t,r,o){return!!(o[r+(t>>mc)]&1<<t)}function cl(t,r){return!(t&vt.Self||t&vt.Host&&r)}class xo{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return yc(this._tNode,this._lView,r,Bt(a),o)}}function Qn(){return new xo(Wi(),et())}function Ur(t){return an(()=>{const r=t.prototype.constructor,o=r[bi]||Va(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[bi]||Va(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Va(t){return Kt(t)?()=>{const r=Va(st(t));return r&&r()}:Lr(t)}function Su(t){const r=t[yt],o=r.type;return 2===o?r.declTNode:1===o?t[Zr]:null}function ll(t){return function vh(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const d=o[c];if(Jr(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(d===r)return o[c+1];c+=2}}}return null}(Wi(),t)}const Ua="__parameters__";function Pu(t,r,o){return an(()=>{const a=function fd(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return v.annotation=g,v;function v(A,N,$){const ee=A.hasOwnProperty(Ua)?A[Ua]:Object.defineProperty(A,Ua,{value:[]})[Ua];for(;ee.length<=$;)ee.push(null);return(ee[$]=ee[$]||[]).push(g),A}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Ns(t,r){t.forEach(o=>Array.isArray(o)?Ns(o,r):r(o))}function gd(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function nu(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Oo(t,r,o){let a=Ks(t,r);return a>=0?t[1|a]=o:(a=~a,function _d(t,r,o,a){let c=t.length;if(c==r)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function Ec(t,r){const o=Ks(t,r);if(o>=0)return t[1|o]}function Ks(t,r){return function Ic(t,r,o){let a=0,c=t.length>>o;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<o];if(r===g)return d<<o;g>r?c=d:a=d+1}return~(c<<o)}(t,r,1)}const xu=dn(Pu("Optional"),8),fl=dn(Pu("SkipSelf"),4);function _l(t){return 128==(128&t.flags)}var Fu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fu||{});const ip=/^>|^->|<!--|-->|--!>|<!-$/g,Dm=/(<|>)/g,op="\u200b$1\u200b";const Oc=new Map;let vl=0;const bd="__ngContext__";function $o(t,r){pr(r)?(t[bd]=r[Xi],function Il(t){Oc.set(t[Xi],t)}(r)):t[bd]=r}let ke;function ct(t,r){return ke(t,r)}function Yt(t){const r=t[zn];return ei(r)?r[zn]:r}function Qs(t){return Sd(t[Ro])}function Nc(t){return Sd(t[Ri])}function Sd(t){for(;null!==t&&!ei(t);)t=t[Ri];return t}function Is(t,r,o,a,c){if(null!=a){let d,g=!1;ei(a)?d=a:pr(a)&&(g=!0,a=a[Dr]);const v=jn(a);0===t&&null!==o?null==c?Nd(r,o,v):Lu(r,o,v,c||null,!0):1===t&&null!==o?Lu(r,o,v,c||null,!0):2===t?function Ba(t,r,o){const a=Bu(t,r);a&&function kc(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,v,g):3===t&&r.destroyNode(v),null!=d&&function Ld(t,r,o,a,c){const d=o[br];d!==jn(o)&&Is(r,t,a,d,c);for(let v=Ei;v<o.length;v++){const A=o[v];Vd(A[yt],A,t,r,a,d)}}(r,t,d,o,c)}}function Vu(t,r){return t.createComment(function Ph(t){return t.replace(ip,r=>r.replace(Dm,op))}(r))}function su(t,r,o){return t.createElement(r,o)}function au(t,r){const o=t[Vi],a=o.indexOf(r);To(r),o.splice(a,1)}function uu(t,r){if(t.length<=Ei)return;const o=Ei+r,a=t[o];if(a){const c=a[Gi];null!==c&&c!==t&&au(c,a),r>0&&(t[o-1][Ri]=a[Ri]);const d=nu(t,Ei+r);!function Pd(t,r){Vd(t,r,r[nn],2,null,null),r[Dr]=null,r[Zr]=null}(a[yt],a);const g=d[di];null!==g&&g.detachView(d[yt]),a[zn]=null,a[Ri]=null,a[hn]&=-129}return a}function Nh(t,r){if(!(256&r[hn])){const o=r[nn];r[ps]&&ji(r[ps]),r[er]&&ji(r[er]),o.destroyNode&&Vd(t,r,o,3,null,null),function lp(t){let r=t[Ro];if(!r)return hp(t[yt],t);for(;r;){let o=null;if(pr(r))o=r[Ro];else{const a=r[Ei];a&&(o=a)}if(!o){for(;r&&!r[Ri]&&r!==t;)pr(r)&&hp(r[yt],r),r=r[zn];null===r&&(r=t),pr(r)&&hp(r[yt],r),o=r&&r[Ri]}r=o}}(r)}}function hp(t,r){if(!(256&r[hn])){r[hn]&=-129,r[hn]|=256,function cu(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof sl)){const d=o[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const v=c[d[g]],A=d[g+1];Ps(4,v,A);try{A.call(v)}finally{Ps(5,v,A)}}else{Ps(4,c,d);try{d.call(c)}finally{Ps(5,c,d)}}}}}(t,r),function Am(t,r){const o=t.cleanup,a=r[zi];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const g=o[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[zi]=null);const c=r[Pi];if(null!==c){r[Pi]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[yt].type&&r[nn].destroy();const o=r[Gi];if(null!==o&&ei(r[zn])){o!==r[zn]&&au(o,r);const a=r[di];null!==a&&a.detachView(t)}!function sp(t){Oc.delete(t[Xi])}(r)}}function kh(t,r,o){return function bm(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Dr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===mr.None||d===mr.Emulated)return null}return to(a,o)}}(t,r.parent,o)}function Lu(t,r,o,a,c){t.insertBefore(r,o,a,c)}function Nd(t,r,o){t.appendChild(r,o)}function Uu(t,r,o,a,c){null!==a?Lu(t,r,o,a,c):Nd(t,r,o)}function Bu(t,r){return t.parentNode(r)}let Lh,Bh,bl,fp=function Vh(t,r,o){return 40&t.type?to(t,o):null};function kd(t,r,o,a){const c=kh(t,a,r),d=r[nn],v=function Fh(t,r,o){return fp(t,r,o)}(a.parent||r[Zr],a,r);if(null!=c)if(Array.isArray(o))for(let A=0;A<o.length;A++)Uu(d,c,o[A],v,!1);else Uu(d,c,o,v,!1);void 0!==Lh&&Lh(d,a,r,o,c)}function Dl(t,r){if(null!==r){const o=r.type;if(3&o)return to(r,t);if(4&o)return Fc(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Dl(t,a);{const c=t[r.index];return ei(c)?Fc(-1,c):jn(c)}}if(32&o)return ct(r,t)()||jn(t[r.index]);{const a=Fd(t,r);return null!==a?Array.isArray(a)?a[0]:Dl(Yt(t[Ar]),a):Dl(t,r.next)}}return null}function Fd(t,r){return null!==r?t[Ar][Zr].projection[r.projection]:null}function Fc(t,r){const o=Ei+t+1;if(o<r.length){const a=r[o],c=a[yt].firstChild;if(null!==c)return Dl(a,c)}return r[br]}function Uh(t,r,o,a,c,d,g){for(;null!=o;){const v=a[o.index],A=o.type;if(g&&0===r&&(v&&$o(jn(v),a),o.flags|=2),32!=(32&o.flags))if(8&A)Uh(t,r,o.child,a,c,d,!1),Is(r,t,c,v,d);else if(32&A){const N=ct(o,a);let $;for(;$=N();)Is(r,t,c,$,d);Is(r,t,c,v,d)}else 16&A?Mm(t,r,a,o,c,d):Is(r,t,c,v,d);o=g?o.projectionNext:o.next}}function Vd(t,r,o,a,c,d){Uh(o,a,t.firstChild,r,c,d,!1)}function Mm(t,r,o,a,c,d){const g=o[Ar],A=g[Zr].projection[a.projection];if(Array.isArray(A))for(let N=0;N<A.length;N++)Is(r,t,c,A[N],d);else{let N=A;const $=g[zn];_l(a)&&(N.flags|=128),Uh(t,r,N,$,c,d,!0)}}function pp(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function gp(t,r,o){const{mergedAttrs:a,classes:c,styles:d}=o;null!==a&&jt(t,r,a),null!==c&&pp(t,r,c),null!==d&&function ju(t,r,o){t.setAttribute(r,"style",o)}(t,r,d)}function jh(t){Bh=t}function Lc(t){return function Sl(){if(void 0===bl&&(bl=null,kt.trustedTypes))try{bl=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bl}()?.createScriptURL(t)||t}class Rl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_n})`}}function _a(t){return t instanceof Rl?t.changingThisBreaksApplicationSecurity:t}function Hu(t,r){const o=function Lm(t){return t instanceof Rl&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${_n})`)}return o===r}const Ty=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ol=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ol||{});function Nl(t){const r=jc();return r?r.sanitize(Ol.URL,t)||"":Hu(t,"URL")?_a(t):function $h(t){return(t=String(t)).match(Ty)?t:"unsafe:"+t}(Ae(t))}function $d(t){const r=jc();if(r)return Lc(r.sanitize(Ol.RESOURCE_URL,t)||"");if(Hu(t,"ResourceURL"))return Lc(_a(t));throw new lt(904,!1)}function kl(t,r,o){return function Cp(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?$d:Nl}(r,o)(t)}function jc(){const t=et();return t&&t[Fi].sanitizer}const Hd=new qt("ENVIRONMENT_INITIALIZER"),Ap=new qt("INJECTOR",-1),Wm=new qt("INJECTOR_DEF_TYPES");class Wh{get(r,o=Ft){if(o===Ft){const a=new Error(`NullInjectorError: No provider for ${Ge(r)}!`);throw a.name="NullInjectorError",a}return o}}function qh(t){return{\u0275providers:t}}function bp(...t){return{\u0275providers:qm(0,t),\u0275fromNgModule:!0}}function qm(t,...r){const o=[],a=new Set;let c;const d=g=>{o.push(g)};return Ns(r,g=>{const v=g;Kh(v,d,[],a)&&(c||=[],c.push(v))}),void 0!==c&&Sp(c,d),o}function Sp(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];Rp(c,d=>{r(d,a)})}}function Kh(t,r,o,a){if(!(t=st(t)))return!1;let c=null,d=qn(t);const g=!d&&Mn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const A=t.ngModule;if(d=qn(A),!d)return!1;c=A}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const A="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const N of A)Kh(N,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let N;a.add(c);try{Ns(d.imports,$=>{Kh($,r,o,a)&&(N||=[],N.push($))})}finally{}void 0!==N&&Sp(N,r)}if(!v){const N=Lr(c)||(()=>new c);r({provide:c,useFactory:N,deps:un},c),r({provide:Wm,useValue:c,multi:!0},c),r({provide:Hd,useValue:()=>Se(c),multi:!0},c)}const A=d.providers;if(null!=A&&!v){const N=t;Rp(A,$=>{r($,N)})}}}return c!==t&&void 0!==t.providers}function Rp(t,r){for(let o of t)Cn(o)&&(o=o.\u0275providers),Array.isArray(o)?Rp(o,r):r(o)}const Fl=Le({provide:String,useValue:Le});function Gu(t){return null!==t&&"object"==typeof t&&Fl in t}function Wu(t){return"function"==typeof t}const Yh=new qt("Set Injector scope."),Qh={},Pp={};let Mp;function Vl(){return void 0===Mp&&(Mp=new Wh),Mp}class ya{}class $c extends ya{get destroyed(){return this._destroyed}constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Np(r,g=>this.processProvider(g)),this.records.set(Ap,qu(void 0,this)),c.has("environment")&&this.records.set(ya,qu(void 0,this));const d=this.records.get(Yh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Wm.multi,un,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=ie(this),a=Tr(void 0);try{return r()}finally{ie(o),Tr(a)}}get(r,o=Ft,a=vt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(ut))return r[ut](this);a=Bt(a);const d=ie(this),g=Tr(void 0);try{if(!(a&vt.SkipSelf)){let A=this.records.get(r);if(void 0===A){const N=function Zm(t){return"function"==typeof t||"object"==typeof t&&t instanceof qt}(r)&&Jt(r);A=N&&this.injectableDefInScope(N)?qu(Gd(r),Qh):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&vt.Self?Vl():this.parent).get(r,o=a&vt.Optional&&o===Ft?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[tn]=v[tn]||[]).unshift(Ge(r)),d)throw v;return function Kr(t,r,o,a){const c=t[tn];throw r[ae]&&c.unshift(r[ae]),t.message=function Di(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Ge(r);if(Array.isArray(r))c=r.map(Ge).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let v=r[g];d.push(g+":"+("string"==typeof v?JSON.stringify(v):Ge(v)))}c=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(Kn,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[tn]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{Tr(g),ie(d)}}resolveInjectorInitializers(){const r=ie(this),o=Tr(void 0);try{const c=this.get(Hd.multi,un,vt.Self);for(const d of c)d()}finally{ie(r),Tr(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ge(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processProvider(r){let o=Wu(r=st(r))?r:st(r&&r.provide);const a=function Wd(t){return Gu(t)?qu(void 0,t.useValue):qu(qd(t),Qh)}(r);if(Wu(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=qu(void 0,Qh,!0),c.factory=()=>Bn(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===Qh&&(o.value=Pp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Op(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=st(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Gd(t){const r=Jt(t),o=null!==r?r.factory:Lr(t);if(null!==o)return o;if(t instanceof qt)throw new lt(204,!1);if(t instanceof Function)return function Jh(t){const r=t.length;if(r>0)throw function Es(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}(r,"?"),new lt(204,!1);const o=function Jn(t){return t&&(t[$n]||t[Gn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new lt(204,!1)}function qd(t,r,o){let a;if(Wu(t)){const c=st(t);return Lr(c)||Gd(c)}if(Gu(t))a=()=>st(t.useValue);else if(function zd(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Bn(t.deps||[]));else if(function Zh(t){return!(!t||!t.useExisting)}(t))a=()=>Se(st(t.useExisting));else{const c=st(t&&(t.useClass||t.provide));if(!function xp(t){return!!t.deps}(t))return Lr(c)||Gd(c);a=()=>new c(...Bn(t.deps))}return a}function qu(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Np(t,r){for(const o of t)Array.isArray(o)?Np(o,r):o&&Cn(o)?Np(o.\u0275providers,r):r(o)}const kp=new qt("AppId",{providedIn:"root",factory:()=>Xh}),Xh="ng",ef=new qt("Platform Initializer"),Fp=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Oy=new qt("CSP nonce",{providedIn:"root",factory:()=>function Al(){if(void 0!==Bh)return Bh;if(typeof document<"u")return document;throw new lt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rf=(t,r,o)=>null;function sf(t,r,o=!1){return rf(t,r,o)}class Fy{}class t_{}class qp{resolveComponentFactory(r){throw function n_(t){const r=Error(`No component factory found for ${Ge(t)}.`);return r.ngComponent=t,r}(r)}}let af=(()=>{class t{static#e=this.NULL=new qp}return t})();function Kp(){return zl(Wi(),et())}function zl(t,r){return new Gc(to(t,r))}let Gc=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=Kp}return t})();function Vy(t){return t instanceof Gc?t.nativeElement:t}class uf{}let r_=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Zp(){const t=et(),o=sr(Wi().index,t);return(pr(o)?o:t)[nn]}()}return t})(),Yp=(()=>{class t{static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:()=>null})}return t})();class cf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Wc=new cf("16.2.12"),$a={};function u_(t,r=null,o=null,a){const c=c_(t,r,o,a);return c.resolveInjectorInitializers(),c}function c_(t,r=null,o=null,a,c=new Set){const d=[o||un,bp(t)];return a=a||("object"==typeof t?void 0:Ge(t)),new $c(d,r||Vl(),a||null,c)}let ks=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ft;static#t=this.NULL=new Wh;static create(o,a){if(Array.isArray(o))return u_({name:""},a,o,"");{const c=o.name??"";return u_({name:c},o.parent,o.providers,c)}}static#n=this.\u0275prov=Dn({token:t,providedIn:"any",factory:()=>Se(Ap)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function hf(t){return t.ngOriginalError}class Ju{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&hf(r);for(;o&&hf(o);)o=hf(o);return o||null}}function Xp(t){return r=>{setTimeout(t,void 0,r)}}const Ha=class d_ extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,d=o||(()=>null),g=a;if(r&&"object"==typeof r){const A=r;c=A.next?.bind(A),d=A.error?.bind(A),g=A.complete?.bind(A)}this.__isAsync&&(d=Xp(d),c&&(c=Xp(c)),g&&(g=Xp(g)));const v=super.subscribe({next:c,error:d,complete:g});return r instanceof se.w0&&r.add(v),v}};function h_(...t){}class mo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function By(){const t="function"==typeof kt.requestAnimationFrame;let r=kt[t?"requestAnimationFrame":"setTimeout"],o=kt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function jy(t){const r=()=>{!function ng(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qd(t),t.isCheckStableRunning=!0,tg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,d,g,v)=>{if(function $y(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(v))return o.invokeTask(c,d,g,v);try{return rg(t),o.invokeTask(c,d,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),pf(t)}},onInvoke:(o,a,c,d,g,v,A)=>{try{return rg(t),o.invoke(c,d,g,v,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),pf(t)}},onHasTask:(o,a,c,d)=>{o.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Qd(t),tg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,c,d)=>(o.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mo.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(mo.isInAngularZone())throw new lt(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,eg,h_,h_);try{return d.runTask(g,o,a)}finally{d.cancelTask(g)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const eg={};function tg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pf(t){t._nesting--,tg(t)}class p_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const g_=new qt("",{providedIn:"root",factory:gf});function gf(){const t=Xe(mo);let r=!0;return function Ve(...t){const r=(0,xe.yG)(t),o=(0,xe._6)(t,1/0),a=t;return a.length?1===a.length?(0,Q.Xf)(a[0]):(0,M.J)(o)((0,Ce.D)(a,r)):fe.E}(new Be.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new Be.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{mo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{mo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(Qe()))}function va(t){return t instanceof Function?t():t}let ag=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kc(t){for(;t;){t[hn]|=64;const r=Yt(t);if(gs(t)&&!r)return t;t=r}return null}const m_=new qt("",{providedIn:"root",factory:()=>!1});let Jd=null;function I_(t,r){return t[r]??Ef()}function T_(t,r){const o=Ef();o.producerNode?.length&&(t[r]=Jd,o.lView=t,Jd=w_())}const dg={...ia,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kc(t.lView)},lView:null};function w_(){return Object.create(dg)}function Ef(){return Jd??=w_(),Jd}const Fn={};function If(t){C_(Yn(),et(),go()+t,!1)}function C_(t,r,o,a){if(!a)if(3==(3&r[hn])){const d=t.preOrderCheckHooks;null!==d&&nr(r,d,o)}else{const d=t.preOrderHooks;null!==d&&Qa(r,d,0,o)}ha(o)}function hu(t,r=vt.Default){const o=et();return null===o?Se(t,r):yc(Wi(),o,st(t),r)}function D_(){throw new Error("invalid")}function Xd(t,r,o,a,c,d,g,v,A,N,$){const ee=r.blueprint.slice();return ee[Dr]=c,ee[hn]=140|a,(null!==N||t&&2048&t[hn])&&(ee[hn]|=2048),Gr(ee),ee[zn]=ee[Wo]=t,ee[fr]=o,ee[Fi]=g||t&&t[Fi],ee[nn]=v||t&&t[nn],ee[ao]=A||t&&t[ao]||null,ee[Zr]=d,ee[Xi]=function El(){return vl++}(),ee[ri]=$,ee[Aa]=N,ee[Ar]=2==r.type?t[Ar]:ee,ee}function Ea(t,r,o,a,c){let d=t.data[r];if(null===d)d=function Tf(t,r,o,a,c){const d=Jo(),g=qa(),A=t.data[r]=function R_(t,r,o,a,c,d){let g=r?r.injectorIndex:-1,v=0;return function Wr(){return null!==gn.skipHydrationRootTNode}()&&(v|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,o,r,a,c);return null===t.firstChild&&(t.firstChild=A),null!==d&&(g?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(t,r,o,a,c),function y(){return gn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=c;const g=function xs(){const t=gn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Xo(d,!0),d}function ec(t,r,o,a){if(0===o)return-1;const c=r.length;for(let d=0;d<o;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function b_(t,r,o,a,c){const d=I_(r,ps),g=go(),v=2&a;try{ha(-1),v&&r.length>Nn&&C_(t,r,Nn,!1),Ps(v?2:0,c);const N=v?d:null,$=js(N);try{null!==N&&(N.dirty=!1),o(a,c)}finally{Zo(N,$)}}finally{v&&null===r[ps]&&T_(r,ps),ha(g),Ps(v?3:1,c)}}function hg(t,r,o){if(ba(r)){const a=eo(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,o[g],g)}}finally{eo(a)}}}function fg(t,r,o){dc()&&(function Zy(t,r,o,a){const c=o.directiveStart,d=o.directiveEnd;Po(o)&&function Xy(t,r,o){const a=to(r,t),c=eh(o);let g=16;o.signals?g=4096:o.onPush&&(g=64);const v=bf(t,Xd(t,c,null,g,a,r,null,t[Fi].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=v}(r,o,t.data[c+o.componentOffset]),t.firstCreatePass||Ws(o,r),$o(a,r);const g=o.initialInputs;for(let v=c;v<d;v++){const A=t.data[v],N=Ir(r,t,v,o);$o(N,r),null!==g&&Af(0,v-c,N,A,0,g),Ii(A)&&(sr(o.index,r)[fr]=Ir(r,t,v,o))}}(t,r,o,to(o,r)),64==(64&o.flags)&&x_(t,r,o))}function pg(t,r,o=to){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],v=-1===g?o(r,t):t[g];t[c++]=v}}}function eh(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=th(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function th(t,r,o,a,c,d,g,v,A,N,$){const ee=Nn+a,me=ee+c,De=function gg(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Fn);return o}(ee,me),qe="function"==typeof N?N():N;return De[yt]={type:t,blueprint:De,template:o,queries:null,viewQuery:v,declTNode:r,data:De.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:A,consts:qe,incompleteFirstPass:!1,ssrId:$}}let wf=t=>null;function Zc(t,r,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const d=t[c];null===a?vg(o,r,c,d):a.hasOwnProperty(c)&&vg(o,r,a[c],d)}return o}function vg(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function Tg(t,r,o,a){if(dc()){const c=null===a?null:{"":-1},d=function Qy(t,r){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let d=0;d<o.length;d++){const g=o[d];if(Fo(r,g.selectors,!1))if(a||(a=[]),Ii(g))if(null!==g.findHostDirectiveDefs){const v=[];c=c||new Map,g.findHostDirectiveDefs(g,v,c),a.unshift(...v,g),Cg(t,r,v.length)}else a.unshift(g),Cg(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,o);let g,v;null===d?g=v=null:[g,v]=d,null!==g&&wg(t,r,o,g,c,v),c&&function Jy(t,r,o){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=o[r[c+1]];if(null==d)throw new lt(-301,!1);a.push(r[c],d)}}}(o,a,c)}o.mergedAttrs=Xr(o.mergedAttrs,o.attrs)}function wg(t,r,o,a,c,d){for(let N=0;N<a.length;N++)Au(Ws(o,r),t,a[N].type);!function N_(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let N=0;N<a.length;N++){const $=a[N];$.providersResolver&&$.providersResolver($)}let g=!1,v=!1,A=ec(t,r,a.length,null);for(let N=0;N<a.length;N++){const $=a[N];o.mergedAttrs=Xr(o.mergedAttrs,$.hostAttrs),Dg(t,o,r,A,$),O_(A,$,c),null!==$.contentQueries&&(o.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(o.flags|=64);const ee=$.type.prototype;!g&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),g=!0),!v&&(ee.ngOnChanges||ee.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),v=!0),A++}!function Eg(t,r,o){const c=r.directiveEnd,d=t.data,g=r.attrs,v=[];let A=null,N=null;for(let $=r.directiveStart;$<c;$++){const ee=d[$],me=o?o.get(ee):null,qe=me?me.outputs:null;A=Zc(ee.inputs,$,A,me?me.inputs:null),N=Zc(ee.outputs,$,N,qe);const pt=null===A||null===g||Si(r)?null:k_(A,$,g);v.push(pt)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=8),A.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=v,r.inputs=A,r.outputs=N}(t,o,d)}function x_(t,r,o){const a=o.directiveStart,c=o.directiveEnd,d=o.index,g=function b(){return gn.lFrame.currentDirectiveIndex}();try{ha(d);for(let v=a;v<c;v++){const A=t.data[v],N=r[v];O(v),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Yy(A,N)}}finally{ha(-1),O(g)}}function Yy(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Cg(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function O_(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;Ii(r)&&(o[""]=t)}}function Dg(t,r,o,a,c){t.data[a]=c;const d=c.factory||(c.factory=Lr(c.type)),g=new sl(d,Ii(c),hu);t.blueprint[a]=g,o[a]=g,function Ky(t,r,o,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~r.index;(function M_(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(g)!=v&&g.push(v),g.push(o,a,d)}}(t,r,a,ec(t,o,c.hostVars,Fn),c)}function Ia(t,r,o,a,c,d){const g=to(t,r);!function Df(t,r,o,a,c,d,g){if(null==d)t.removeAttribute(r,c,o);else{const v=null==g?Ae(d):g(d,a||"",c);t.setAttribute(r,c,v,o)}}(r[nn],g,d,t.value,o,a,c)}function Af(t,r,o,a,c,d){const g=d[r];if(null!==g)for(let v=0;v<g.length;)gr(a,o,g[v++],g[v++],g[v++])}function gr(t,r,o,a,c){const d=eo(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,o,a):r[a]=c}finally{eo(d)}}function k_(t,r,o){let a=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let v=0;v<g.length;v+=2)if(g[v]===r){a.push(d,g[v+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Ag(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function Kl(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const g=t.data[d];Oe(o[a]),g.contentQueries(2,r[d],d)}}}function bf(t,r){return t[Ro]?t[As][Ri]=r:t[Ro]=r,t[As]=r,r}function Do(t,r,o){Oe(0);const a=eo(null);try{r(t,o)}finally{eo(a)}}function Ta(t){return t[zi]||(t[zi]=[])}function F_(t){return t.cleanup||(t.cleanup=[])}function bg(t,r){const o=t[ao],a=o?o.get(Ju,null):null;a&&a.handleError(r)}function V_(t,r,o,a,c){for(let d=0;d<o.length;){const g=o[d++],v=o[d++];gr(t.data[g],r[g],a,v,c)}}function tv(t,r){const o=sr(r,t),a=o[yt];!function Sg(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const c=o[Dr];null!==c&&null===o[ri]&&(o[ri]=sf(c,o[ao])),Rg(a,o,o[fr])}function Rg(t,r,o){In(r);try{const a=t.viewQuery;null!==a&&Do(1,a,o);const c=t.template;null!==c&&b_(t,r,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Kl(t,r),t.staticViewQueries&&Do(2,t.viewQuery,o);const d=t.components;null!==d&&function PE(t,r){for(let o=0;o<r.length;o++)tv(t,r[o])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[hn]&=-5,zs()}}let gi=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function xr(t,r,o){const a=Object.create(Yo);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>Ra(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ho(a))return;a.hasRun=!0;const g=js(a);try{a.cleanupFn(),a.cleanupFn=Or,a.fn(c)}finally{Zo(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(o,N=>{this.all.has(N)&&this.queue.set(N,d)},c);let v;this.all.add(g),g.notify();const A=()=>{g.cleanup(),v?.(),this.all.delete(g),this.queue.delete(g)};return v=a?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sf(t,r,o){let a=o?t.styles:null,c=o?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:1==d?c=at(c,v):2==d&&(a=at(a,v+": "+r[++g]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}function Oi(t,r,o,a,c=!1){for(;null!==o;){const d=r[o.index];null!==d&&a.push(jn(d)),ei(d)&&Pg(d,a);const g=o.type;if(8&g)Oi(t,r,o.child,a);else if(32&g){const v=ct(o,r);let A;for(;A=v();)a.push(A)}else if(16&g){const v=Fd(r,o);if(Array.isArray(v))a.push(...v);else{const A=Yt(r[Ar]);Oi(A[yt],A,v,a,!0)}}o=c?o.projectionNext:o.next}return a}function Pg(t,r){for(let o=Ei;o<t.length;o++){const a=t[o],c=a[yt].firstChild;null!==c&&Oi(a[yt],a,c,r)}t[br]!==t[Dr]&&r.push(t[br])}function Mg(t,r,o,a=!0){const c=r[Fi],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{nv(t,r,t.template,o)}catch(A){throw a&&bg(r,A),A}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function nv(t,r,o,a){const c=r[hn];if(256!=(256&c)){r[Fi].effectManager?.flush(),In(r);try{Gr(r),function od(t){return gn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&b_(t,r,o,2,a);const g=3==(3&c);if(g){const N=t.preOrderCheckHooks;null!==N&&nr(r,N,null)}else{const N=t.preOrderHooks;null!==N&&Qa(r,N,0,null),Oa(r,0)}if(function xE(t){for(let r=Qs(t);null!==r;r=Nc(r)){if(!r[ra])continue;const o=r[Vi];for(let a=0;a<o.length;a++){At(o[a])}}}(r),rv(r,2),null!==t.contentQueries&&Kl(t,r),g){const N=t.contentCheckHooks;null!==N&&nr(r,N)}else{const N=t.contentHooks;null!==N&&Qa(r,N,1),Oa(r,1)}!function A_(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=I_(r,er);try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)ha(~d);else{const g=d,v=o[++c],A=o[++c];_(v,g),a.dirty=!1;const N=js(a);try{A(2,r[g])}finally{Zo(a,N)}}}}finally{null===r[er]&&T_(r,er),ha(-1)}}(t,r);const v=t.components;null!==v&&ov(r,v,0);const A=t.viewQuery;if(null!==A&&Do(2,A,a),g){const N=t.viewCheckHooks;null!==N&&nr(r,N)}else{const N=t.viewHooks;null!==N&&Qa(r,N,2),Oa(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[hn]&=-73,To(r)}finally{zs()}}}function rv(t,r){for(let o=Qs(t);null!==o;o=Nc(o))for(let a=Ei;a<o.length;a++)iv(o[a],r)}function OE(t,r,o){iv(sr(r,t),o)}function iv(t,r){if(!function ua(t){return 128==(128&t[hn])}(t))return;const o=t[yt],a=t[hn];if(80&a&&0===r||1024&a||2===r)nv(o,t,o.template,t[fr]);else if(t[us]>0){rv(t,1);const c=o.components;null!==c&&ov(t,c,1)}}function ov(t,r,o){for(let a=0;a<r.length;a++)OE(t,r[a],o)}class Rf{get rootNodes(){const r=this._lView,o=r[yt];return Oi(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(r){this._lView[fr]=r}get destroyed(){return 256==(256&this._lView[hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[zn];if(ei(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(uu(r,a),nu(o,a))}this._attachedToViewContainer=!1}Nh(this._lView[yt],this._lView)}onDestroy(r){!function ca(t,r){if(256==(256&t[hn]))throw new lt(911,!1);null===t[Pi]&&(t[Pi]=[]),t[Pi].push(r)}(this._lView,r)}markForCheck(){Kc(this._cdRefInjectingView||this._lView)}detach(){this._lView[hn]&=-129}reattach(){this._lView[hn]|=128}detectChanges(){Mg(this._lView[yt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xd(t,r){Vd(t,r,r[nn],2,null,null)}(this._lView[yt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=r}}class U_ extends Rf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Mg(r[yt],r,r[fr],!1)}checkNoChanges(){}get context(){return null}}class Zl extends af{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Mn(r);return new Pf(o,this.ngModule)}}function B_(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class Yl{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Bt(a);const c=this.injector.get(r,$a,a);return c!==$a||o===$a?c:this.parentInjector.get(r,o,a)}}class Pf extends t_{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=B_(r.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return B_(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function as(t){return t.map(ss).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,c){let d=(c=c||this.ngModule)instanceof ya?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Yl(r,d):r,v=g.get(uf,null);if(null===v)throw new lt(407,!1);const ee={rendererFactory:v,sanitizer:g.get(Yp,null),effectManager:g.get(gi,null),afterRenderEventManager:g.get(ag,null)},me=v.createRenderer(null,this.componentDef),De=this.componentDef.selectors[0][0]||"div",qe=a?function mg(t,r,o,a){const d=a.get(m_,!1)||o===mr.ShadowDom,g=t.selectRootElement(r,d);return function S_(t){wf(t)}(g),g}(me,a,this.componentDef.encapsulation,g):su(me,De,function Yc(t){const r=t.toLowerCase();return"svg"===r?rd:"math"===r?"math":null}(De)),sn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let it=null;null!==qe&&(it=sf(qe,g,!0));const Ln=th(0,null,null,1,0,null,null,null,null,null,null),lr=Xd(null,Ln,null,sn,null,null,ee,me,g,null,it);let mi,na;In(lr);try{const tl=this.componentDef;let qf,IE=null;tl.findHostDirectiveDefs?(qf=[],IE=new Map,tl.findHostDirectiveDefs(tl,qf,IE),qf.push(tl)):qf=[tl];const nb=function Og(t,r){const o=t[yt],a=Nn;return t[a]=r,Ea(o,a,2,"#host",null)}(lr,qe),rb=function sv(t,r,o,a,c,d,g){const v=c[yt];!function av(t,r,o,a){for(const c of t)r.mergedAttrs=Xr(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Sf(r,r.mergedAttrs,!0),null!==o&&gp(a,o,r))}(a,t,r,g);let A=null;null!==r&&(A=sf(r,c[ao]));const N=d.rendererFactory.createRenderer(r,o);let $=16;o.signals?$=4096:o.onPush&&($=64);const ee=Xd(c,eh(o),null,$,c[t.index],t,d,N,null,null,A);return v.firstCreatePass&&Cg(v,t,a.length-1),bf(c,ee),c[t.index]=ee}(nb,qe,tl,qf,lr,ee,me);na=sa(Ln,Nn),qe&&function $_(t,r,o,a){if(a)jt(t,o,["ng-version",Wc.full]);else{const{attrs:c,classes:d}=function Da(t){const r=[],o=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&o.push(d);else{if(!ci(c))break;c=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);c&&jt(t,o,c),d&&d.length>0&&pp(t,o,d.join(" "))}}(me,tl,qe,a),void 0!==o&&function Mf(t,r,o){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=o[c];a.push(null!=d?Array.from(d):null)}}(na,this.ngContentSelectors,o),mi=function j_(t,r,o,a,c,d){const g=Wi(),v=c[yt],A=to(g,c);wg(v,c,g,o,null,a);for(let $=0;$<o.length;$++)$o(Ir(c,v,g.directiveStart+$,g),c);x_(v,c,g),A&&$o(A,c);const N=Ir(c,v,g.directiveStart+g.componentOffset,g);if(t[fr]=c[fr]=N,null!==d)for(const $ of d)$(N,r);return hg(v,g,t),N}(rb,tl,qf,IE,lr,[uv]),Rg(Ln,lr,null)}finally{zs()}return new xg(this.componentType,mi,zl(na,lr),lr,na)}}class xg extends Fy{constructor(r,o,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new U_(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;V_(d[yt],d,c,r,o),this.previousInputValues.set(r,o),Kc(sr(this._tNode.index,d))}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function uv(){const t=Wi();ro(et()[yt],t)}function nh(t){let r=function Qc(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let c;if(Ii(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new lt(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const g=t;g.inputs=ih(t.inputs),g.inputTransforms=ih(t.inputTransforms),g.declaredInputs=ih(t.declaredInputs),g.outputs=ih(t.outputs);const v=c.hostBindings;v&&lv(t,v);const A=c.viewQuery,N=c.contentQueries;if(A&&Ng(t,A),N&&cv(t,N),Ke(t.inputs,c.inputs),Ke(t.declaredInputs,c.declaredInputs),Ke(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Ke(g.inputTransforms,c.inputTransforms)),Ii(c)&&c.data.animation){const $=t.data;$.animation=($.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const v=d[g];v&&v.ngInherit&&v(t),v===nh&&(o=!1)}}r=Object.getPrototypeOf(r)}!function rh(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Xr(c.hostAttrs,o=Xr(o,c.hostAttrs))}}(a)}function ih(t){return t===Qr?{}:t===un?[]:t}function Ng(t,r){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function cv(t,r){const o=t.contentQueries;t.contentQueries=o?(a,c,d)=>{r(a,c,d),o(a,c,d)}:r}function lv(t,r){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}function K_(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function Jc(t){return!!Lg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Lg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function wa(t,r,o){return t[r]=o}function is(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function el(t,r,o,a){const c=is(t,r,o);return is(t,r+1,a)||c}function rc(t,r,o,a){const c=et();return is(c,Ka(),r)&&(Yn(),Ia(Mi(),c,t,r,o,a)),rc}function Dv(t,r,o,a,c,d,g,v){const A=et(),N=Yn(),$=t+Nn,ee=N.firstCreatePass?function LE(t,r,o,a,c,d,g,v,A){const N=r.consts,$=Ea(r,t,4,g||null,Hs(N,v));Tg(r,o,$,Hs(N,A)),ro(r,$);const ee=$.tView=th(2,$,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,N,null);return null!==r.queries&&(r.queries.template(r,$),ee.queries=r.queries.embeddedTView($)),$}($,N,A,r,o,a,c,d,g):N.data[$];Xo(ee,!1);const me=Av(N,A,ee,t);Ya()&&kd(N,A,me,ee),$o(me,A),bf(A,A[$]=Ag(me,A,me,ee)),Vn(ee)&&fg(N,A,ee),null!=g&&pg(A,ee,v)}let Av=function bv(t,r,o,a){return Sr(!0),r[nn].createComment("")};function Yg(t,r,o){const a=et();return is(a,Ka(),r)&&function No(t,r,o,a,c,d,g,v){const A=to(r,o);let $,N=r.inputs;!v&&null!=N&&($=N[a])?(V_(t,o,$,a,c),Po(r)&&function Ig(t,r){const o=sr(r,t);16&o[hn]||(o[hn]|=64)}(o,r.index)):3&r.type&&(a=function P_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(A,a,c))}(Yn(),Mi(),a,t,r,a[nn],o,!1),Yg}function Qg(t,r,o,a,c){const g=c?"class":"style";V_(t,o,r.inputs[g],g,a)}function Lf(t,r,o,a){const c=et(),d=Yn(),g=Nn+t,v=c[nn],A=d.firstCreatePass?function Vf(t,r,o,a,c,d){const g=r.consts,A=Ea(r,t,2,a,Hs(g,c));return Tg(r,o,A,Hs(g,d)),null!==A.attrs&&Sf(A,A.attrs,!1),null!==A.mergedAttrs&&Sf(A,A.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,A),A}(g,d,c,r,o,a):d.data[g],N=Mv(d,c,A,v,r,t);c[g]=N;const $=Vn(A);return Xo(A,!0),gp(v,N,A),32!=(32&A.flags)&&Ya()&&kd(d,c,N,A),0===function vu(){return gn.lFrame.elementDepthCount}()&&$o(N,c),function il(){gn.lFrame.elementDepthCount++}(),$&&(fg(d,c,A),hg(d,A,c)),null!==a&&pg(c,A),Lf}function Jg(){let t=Wi();qa()?Iu():(t=t.parent,Xo(t,!1));const r=t;(function id(t){return gn.skipHydrationRootTNode===t})(r)&&function Eu(){gn.skipHydrationRootTNode=null}(),function wo(){gn.lFrame.elementDepthCount--}();const o=Yn();return o.firstCreatePass&&(ro(o,t),ba(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ad(t){return 0!=(8&t.flags)}(r)&&Qg(o,r,et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Xa(t){return 0!=(16&t.flags)}(r)&&Qg(o,r,et(),r.stylesWithoutHost,!1),Jg}function X_(t,r,o,a){return Lf(t,r,o,a),Jg(),X_}let Mv=(t,r,o,a,c,d)=>(Sr(!0),su(a,c,function pc(){return gn.lFrame.currentNamespace}()));function Xg(t,r,o){const a=et(),c=Yn(),d=t+Nn,g=c.firstCreatePass?function $E(t,r,o,a,c){const d=r.consts,g=Hs(d,a),v=Ea(r,t,8,"ng-container",g);return null!==g&&Sf(v,g,!0),Tg(r,o,v,Hs(d,c)),null!==r.queries&&r.queries.elementStart(r,v),v}(d,c,a,r,o):c.data[d];Xo(g,!0);const v=ey(c,a,g,t);return a[d]=v,Ya()&&kd(c,a,v,g),$o(v,a),Vn(g)&&(fg(c,a,g),hg(c,g,a)),null!=o&&pg(a,g),Xg}function em(){let t=Wi();const r=Yn();return qa()?Iu():(t=t.parent,Xo(t,!1)),r.firstCreatePass&&(ro(r,t),ba(t)&&r.queries.elementEnd(t)),em}let ey=(t,r,o,a)=>(Sr(!0),Vu(r[nn],""));function xv(){return et()}function ty(t){return!!t&&"function"==typeof t.then}function nm(t){return!!t&&"function"==typeof t.subscribe}function Uf(t,r,o,a){const c=et(),d=Yn(),g=Wi();return function hh(t,r,o,a,c,d,g){const v=Vn(a),N=t.firstCreatePass&&F_(t),$=r[fr],ee=Ta(r);let me=!0;if(3&a.type||g){const pt=to(a,r),Nt=g?g(pt):pt,sn=ee.length,it=g?lr=>g(jn(lr[a.index])):a.index;let Ln=null;if(!g&&v&&(Ln=function rm(t,r,o,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===o&&c[d+1]===a){const v=r[zi],A=c[d+2];return v.length>A?v[A]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Ln)(Ln.__ngLastListenerFn__||Ln).__ngNextListenerFn__=d,Ln.__ngLastListenerFn__=d,me=!1;else{d=e(a,r,$,d,!1);const lr=o.listen(Nt,c,d);ee.push(d,lr),N&&N.push(c,it,sn,sn+1)}}else d=e(a,r,$,d,!1);const De=a.outputs;let qe;if(me&&null!==De&&(qe=De[c])){const pt=qe.length;if(pt)for(let Nt=0;Nt<pt;Nt+=2){const mi=r[qe[Nt]][qe[Nt+1]].subscribe(d),na=ee.length;ee.push(d,mi),N&&N.push(c,a.index,na,-(na+1))}}}(d,c,c[nn],g,t,r,a),Uf}function i(t,r,o,a){try{return Ps(6,r,o),!1!==o(a)}catch(c){return bg(t,c),!1}finally{Ps(7,r,o)}}function e(t,r,o,a,c){return function d(g){if(g===Function)return a;Kc(t.componentOffset>-1?sr(t.index,r):r);let A=i(r,o,a,g),N=d.__ngNextListenerFn__;for(;N;)A=i(r,o,N,g)&&A,N=N.__ngNextListenerFn__;return c&&!1===A&&g.preventDefault(),A}}function n(t=1){return function hc(t){return(gn.lFrame.contextLView=function Za(t,r){for(;t>0;)r=r[Wo],t--;return r}(t,gn.lFrame.contextLView))[fr]}(t)}function Et(t,r){return t<<17|r<<2}function cn(t){return t>>17&32767}function cr(t){return 2|t}function kr(t){return(131068&t)>>2}function qr(t,r){return-131069&t|r<<2}function Ts(t){return 1|t}function WE(t,r,o,a,c){const d=t[o+1],g=null===r;let v=a?cn(d):kr(d),A=!1;for(;0!==v&&(!1===A||g);){const $=t[v+1];zT(t[v],r)&&(A=!0,t[v+1]=a?Ts($):cr($)),v=a?cn($):kr($)}A&&(t[o+1]=a?cr(d):Ts(d))}function zT(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ks(t,r)>=0}function kv(t,r,o){return gu(t,r,o,!1),kv}function Fv(t,r){return gu(t,r,null,!0),Fv}function gu(t,r,o,a){const c=et(),d=Yn(),g=function no(t){const r=gn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}(2);d.firstUpdatePass&&function e0(t,r,o,a){const c=t.data;if(null===c[o+1]){const d=c[go()],g=function XE(t,r){return r>=t.expandoStartIndex}(t,o);(function o0(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function XT(t,r,o,a){const c=function z(t){const r=gn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=im(o=Vv(null,t,r,o,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(o=Vv(c,t,r,o,a),null===d){let A=function ew(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==kr(a))return t[cn(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=Vv(null,t,r,A[1],a),A=im(A,r.attrs,a),function tw(t,r,o,a){t[cn(o?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else d=function nw(t,r,o){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=im(a,t[d].hostAttrs,o);return im(a,r.attrs,o)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),o}(c,d,r,a),function $T(t,r,o,a,c,d){let g=d?r.classBindings:r.styleBindings,v=cn(g),A=kr(g);t[a]=o;let $,N=!1;if(Array.isArray(o)?($=o[1],(null===$||Ks(o,$)>0)&&(N=!0)):$=o,c)if(0!==A){const me=cn(t[v+1]);t[a+1]=Et(me,v),0!==me&&(t[me+1]=qr(t[me+1],a)),t[v+1]=function vn(t,r){return 131071&t|r<<17}(t[v+1],a)}else t[a+1]=Et(v,0),0!==v&&(t[v+1]=qr(t[v+1],a)),v=a;else t[a+1]=Et(A,0),0===v?v=a:t[A+1]=qr(t[A+1],a),A=a;N&&(t[a+1]=cr(t[a+1])),WE(t,$,a,!0),WE(t,$,a,!1),function HT(t,r,o,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Ks(d,r)>=0&&(o[a+1]=Ts(o[a+1]))}(r,$,t,a,d),g=Et(v,A),d?r.classBindings=g:r.styleBindings=g}(c,d,r,o,g,a)}}(d,t,g,a),r!==Fn&&is(c,g,r)&&function n0(t,r,o,a,c,d,g,v){if(!(3&r.type))return;const A=t.data,N=A[v+1],$=function Ao(t){return 1==(1&t)}(N)?r0(A,r,o,c,kr(N),g):void 0;ny($)||(ny(d)||function Rn(t){return 2==(2&t)}(N)&&(d=r0(A,null,o,c,v,g)),function Vc(t,r,o,a,c){if(r)c?t.addClass(o,a):t.removeClass(o,a);else{let d=-1===a.indexOf("-")?void 0:Fu.DashCase;null==c?t.removeStyle(o,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Fu.Important),t.setStyle(o,a,c,d))}}(a,g,oa(go(),o),c,d))}(d,d.data[go()],c,c[nn],t,c[g+1]=function sw(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ge(_a(t)))),t}(r,o),a,g)}function Vv(t,r,o,a,c){let d=null;const g=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<g&&(d=r[v],a=im(a,d.hostAttrs,c),d!==t);)v++;return null!==t&&(o.directiveStylingLast=v),a}function im(t,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Oo(t,g,!!o||r[++d]))}return void 0===t?null:t}function r0(t,r,o,a,c,d){const g=null===r;let v;for(;c>0;){const A=t[c],N=Array.isArray(A),$=N?A[1]:A,ee=null===$;let me=o[c+1];me===Fn&&(me=ee?un:void 0);let De=ee?Ec(me,a):$===a?me:void 0;if(N&&!ny(De)&&(De=Ec(A,a)),ny(De)&&(v=De,g))return v;const qe=t[c+1];c=g?cn(qe):kr(qe)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(v=Ec(A,a))}return v}function ny(t){return void 0!==t}function s0(t,r=""){const o=et(),a=Yn(),c=t+Nn,d=a.firstCreatePass?Ea(a,c,1,r,null):a.data[c],g=a0(a,o,d,r,t);o[c]=g,Ya()&&kd(a,o,g,d),Xo(d,!1)}let a0=(t,r,o,a,c)=>(Sr(!0),function ou(t,r){return t.createText(r)}(r[nn],a));function Lv(t){return ry("",t,""),Lv}function ry(t,r,o){const a=et(),c=function sh(t,r,o,a){return is(t,Ka(),o)?r+Ae(o)+a:Fn}(a,t,r,o);return c!==Fn&&function za(t,r,o){const a=oa(r,t);!function Rd(t,r,o){t.setValue(r,o)}(t[nn],a,o)}(a,go(),c),ry}const fh=void 0;var Sw=["en",[["a","p"],["AM","PM"],fh],[["AM","PM"],fh,fh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fh,"{1} 'at' {0}",fh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bw(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let jf={};function Uv(t){const r=function Rw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=S0(r);if(o)return o;const a=r.split("-")[0];if(o=S0(a),o)return o;if("en"===a)return Sw;throw new lt(701,!1)}function b0(t){return Uv(t)[$f.PluralCase]}function S0(t){return t in jf||(jf[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),jf[t]}var $f=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}($f||{});const Hf="en-US";let R0=Hf;function $v(t,r,o,a,c){if(t=st(t),Array.isArray(t))for(let d=0;d<t.length;d++)$v(t[d],r,o,a,c);else{const d=Yn(),g=et(),v=Wi();let A=Wu(t)?t:st(t.provide);const N=qd(t),$=1048575&v.providerIndexes,ee=v.directiveStart,me=v.providerIndexes>>20;if(Wu(t)||!t.multi){const De=new sl(N,c,hu),qe=zv(A,r,c?$:$+me,ee);-1===qe?(Au(Ws(v,g),d,A),Hv(d,t,r.length),r.push(A),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),o.push(De),g.push(De)):(o[qe]=De,g[qe]=De)}else{const De=zv(A,r,$+me,ee),qe=zv(A,r,$,$+me),Nt=qe>=0&&o[qe];if(c&&!Nt||!c&&!(De>=0&&o[De])){Au(Ws(v,g),d,A);const sn=function bC(t,r,o,a,c){const d=new sl(t,o,hu);return d.multi=[],d.index=r,d.componentProviders=0,eI(d,c,a&&!o),d}(c?AC:DC,o.length,c,a,N);!c&&Nt&&(o[qe].providerFactory=sn),Hv(d,t,r.length,0),r.push(A),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),o.push(sn),g.push(sn)}else Hv(d,t,De>-1?De:qe,eI(o[c?qe:De],N,!c&&a));!c&&a&&Nt&&o[qe].componentProviders++}}}function Hv(t,r,o,a){const c=Wu(r),d=function Km(t){return!!t.useClass}(r);if(c||d){const A=(d?st(r.useClass):r).prototype.ngOnDestroy;if(A){const N=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const $=N.indexOf(o);-1===$?N.push(o,[a,A]):N[$+1].push(a,A)}else N.push(o,A)}}}function eI(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function zv(t,r,o,a){for(let c=o;c<a;c++)if(r[c]===t)return c;return-1}function DC(t,r,o,a){return Gv(this.multi,[])}function AC(t,r,o,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=Ir(o,o[yt],this.providerFactory.index,a);d=v.slice(0,g),Gv(c,d);for(let A=g;A<v.length;A++)d.push(v[A])}else d=[],Gv(c,d);return d}function Gv(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function tI(t,r=[]){return o=>{o.providersResolver=(a,c)=>function CC(t,r,o){const a=Yn();if(a.firstCreatePass){const c=Ii(t);$v(o,a.data,a.blueprint,c,!0),$v(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class ph{}class nI{}function SC(t,r){return new Wv(t,r??null,[])}class Wv extends ph{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zl(this);const c=yi(r);this._bootstrapComponents=va(c.bootstrap),this._r3Injector=c_(r,o,[{provide:ph,useValue:this},{provide:af,useValue:this.componentFactoryResolver},...a],Ge(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class qv extends nI{constructor(r){super(),this.moduleType=r}create(r){return new Wv(this.moduleType,r,[])}}class rI extends ph{constructor(r){super(),this.componentFactoryResolver=new Zl(this),this.instance=null;const o=new $c([...r.providers,{provide:ph,useValue:this},{provide:af,useValue:this.componentFactoryResolver}],r.parent||Vl(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function iI(t,r,o=null){return new rI({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let PC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=qm(0,o.type),c=a.length>0?iI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Dn({token:t,providedIn:"environment",factory:()=>new t(Se(ya))})}return t})();function oI(t){t.getStandaloneInjector=r=>r.get(PC).getOrCreateStandaloneInjector(t)}function hI(t,r,o,a){return function pI(t,r,o,a,c,d){const g=r+o;return is(t,g,c)?wa(t,g+1,d?a.call(d,c):a(c)):lm(t,g+1)}(et(),po(),t,r,o,a)}function fI(t,r,o,a,c){return function gI(t,r,o,a,c,d,g){const v=r+o;return el(t,v,c,d)?wa(t,v+2,g?a.call(g,c,d):a(c,d)):lm(t,v+2)}(et(),po(),t,r,o,a,c)}function lm(t,r){const o=t[r];return o===Fn?void 0:o}function mI(t,r,o,a,c,d,g,v){const A=r+o;return function nc(t,r,o,a,c){const d=el(t,r,o,a);return is(t,r+2,c)||d}(t,A,c,d,g)?wa(t,A+3,v?a.call(v,c,d,g):a(c,d,g)):lm(t,A+3)}function vI(t,r){const o=Yn();let a;const c=t+Nn;o.firstCreatePass?(a=function qC(t,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(t===a.name)return a}}(r,o.pipeRegistry),o.data[c]=a,a.onDestroy&&(o.destroyHooks??=[]).push(c,a.onDestroy)):a=o.data[c];const d=a.factory||(a.factory=Lr(a.type)),v=Tr(hu);try{const A=ds(!1),N=d();return ds(A),function Pv(t,r,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=a}(o,et(),c,N),N}finally{Tr(v)}}function EI(t,r,o,a,c){const d=t+Nn,g=et(),v=function aa(t,r){return t[r]}(g,d);return function dm(t,r){return t[yt].data[r].pure}(g,d)?mI(g,po(),r,v.transform,o,a,c,v):v.transform(o,a,c)}function JC(){return this._results[Symbol.iterator]()}class Zv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ha)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Zv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=JC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=function hs(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ga(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function eD(t,r,o,a=!0){const c=r[yt];if(function Od(t,r,o,a){const c=Ei+a,d=o.length;a>0&&(o[c-1][Ri]=r),a<d-Ei?(r[Ri]=o[c],gd(o,Ei+a,r)):(o.push(r),r[Ri]=null),r[zn]=o;const g=r[Gi];null!==g&&o!==g&&function dp(t,r){const o=t[Vi];r[Ar]!==r[zn][zn][Ar]&&(t[ra]=!0),null===o?t[Vi]=[r]:o.push(r)}(g,r);const v=r[di];null!==v&&v.insertView(t),r[hn]|=128}(c,r,t,o),a){const d=Fc(o,t),g=r[nn],v=Bu(g,t[br]);null!==v&&function Md(t,r,o,a,c,d){a[Dr]=c,a[Zr]=r,Vd(t,a,o,1,c,d)}(c,t[Zr],g,r,v,d)}}let hm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=rD}return t})();const tD=hm,nD=class extends tD{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const c=function XC(t,r,o,a){const c=r.tView,v=Xd(t,c,o,4096&t[hn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);v[Gi]=t[r.index];const N=t[di];return null!==N&&(v[di]=N.createEmbeddedView(c)),Rg(c,v,o),v}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Rf(c)}};function rD(){return uy(Wi(),et())}function uy(t,r){return 4&t.type?new nD(r,t,zl(t,r)):null}let ly=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=cD}return t})();function cD(){return bI(Wi(),et())}const lD=ly,DI=class extends lD{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return zl(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const r=pa(this._hostTNode,this._hostLView);if(es(r)){const o=Mo(r,this._hostLView),a=Na(r);return new xo(o[yt].data[a+8],o)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=AI(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Ei}createEmbeddedView(r,o,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const v=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(v,c,false),v}createComponent(r,o,a,c,d){const g=r&&!function Mu(t){return"function"==typeof t}(r);let v;if(g)v=o;else{const pt=o||{};v=pt.index,a=pt.injector,c=pt.projectableNodes,d=pt.environmentInjector||pt.ngModuleRef}const A=g?r:new Pf(Mn(r)),N=a||this.parentInjector;if(!d&&null==A.ngModule){const Nt=(g?N:this.parentInjector).get(ya,null);Nt&&(d=Nt)}Mn(A.componentType??{});const De=A.create(N,c,null,d);return this.insertImpl(De.hostView,v,false),De}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const c=r._lView;if(function Wn(t){return ei(t[zn])}(c)){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const N=c[zn],$=new DI(N,N[Zr],N[zn]);$.detach($.indexOf(r))}}const g=this._adjustIndex(o),v=this._lContainer;return eD(v,c,g,!a),r.attachToViewContainerRef(),gd(Yv(v),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=AI(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=uu(this._lContainer,o);a&&(nu(Yv(this._lContainer),o),Nh(a[yt],a))}detach(r){const o=this._adjustIndex(r,-1),a=uu(this._lContainer,o);return a&&null!=nu(Yv(this._lContainer),o)?new Rf(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function AI(t){return t[8]}function Yv(t){return t[8]||(t[8]=[])}function bI(t,r){let o;const a=r[t.index];return ei(a)?o=a:(o=Ag(a,r,null,t),r[t.index]=o,bf(r,o)),SI(o,r,t,a),new DI(o,t,r)}let SI=function RI(t,r,o,a){if(t[br])return;let c;c=8&o.type?jn(a):function dD(t,r){const o=t[nn],a=o.createComment(""),c=to(r,t);return Lu(o,Bu(o,c),a,function Sm(t,r){return t.nextSibling(r)}(o,c),!1),a}(r,o),t[br]=c};class Qv{constructor(r){this.queryList=r,this.matches=null}clone(){return new Qv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let d=0;d<a;d++){const g=o.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new Jv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==VI(r,o).matches&&this.queries[o].setDirty()}}class PI{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class Xv{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new Xv(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class eE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new eE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,o,pD(o,d)),this.matchTNodeWithReadOption(r,o,bu(o,r,d,!1,!1))}else a===hm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,bu(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Gc||c===ly||c===hm&&4&o.type)this.addMatch(o.index,-2);else{const d=bu(o,r,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function pD(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function mD(t,r,o,a){return-1===o?function gD(t,r){return 11&t.type?zl(t,r):4&t.type?uy(t,r):null}(r,t):-2===o?function _D(t,r,o){return o===Gc?zl(r,t):o===hm?uy(r,t):o===ly?bI(r,t):void 0}(t,r,a):Ir(t,t[yt],o,r)}function MI(t,r,o,a){const c=r[di].queries[a];if(null===c.matches){const d=t.data,g=o.matches,v=[];for(let A=0;A<g.length;A+=2){const N=g[A];v.push(N<0?null:mD(r,d[N],g[A+1],o.metadata.read))}c.matches=v}return c.matches}function tE(t,r,o,a){const c=t.queries.getByIndex(o),d=c.matches;if(null!==d){const g=MI(t,r,c,o);for(let v=0;v<d.length;v+=2){const A=d[v];if(A>0)a.push(g[v/2]);else{const N=d[v+1],$=r[-A];for(let ee=Ei;ee<$.length;ee++){const me=$[ee];me[Gi]===me[zn]&&tE(me[yt],me,N,a)}if(null!==$[Vi]){const ee=$[Vi];for(let me=0;me<ee.length;me++){const De=ee[me];tE(De[yt],De,N,a)}}}}}return a}function xI(t){const r=et(),o=Yn(),a=ne();Oe(a+1);const c=VI(o,a);if(t.dirty&&function on(t){return 4==(4&t[hn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?tE(o,r,a,[]):MI(o,r,c,a);t.reset(d,Vy),t.notifyOnChanges()}return!0}return!1}function OI(t,r,o,a){const c=Yn();if(c.firstCreatePass){const d=Wi();(function FI(t,r,o){null===t.queries&&(t.queries=new Xv),t.queries.track(new eE(r,o))})(c,new PI(r,o,a),d.index),function ED(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}!function kI(t,r,o){const a=new Zv(4==(4&o));(function yg(t,r,o,a){const c=Ta(r);c.push(o),t.firstCreatePass&&F_(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[di]&&(r[di]=new Jv),r[di].queries.push(new Qv(a))}(c,et(),o)}function NI(){return function vD(t,r){return t[di].queries[r].queryList}(et(),ne())}function VI(t,r){return t.queries.getByIndex(r)}function nE(t){return!!yi(t)}const eT=new qt("Application Initializer");let aE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=Xe(eT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const d=c();if(ty(d))o.push(d);else if(nm(d)){const g=new Promise((v,A)=>{d.subscribe({complete:v,error:A})});o.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const hy=new qt("LocaleId",{providedIn:"root",factory:()=>Xe(hy,vt.Optional|vt.SkipSelf)||function $D(){return typeof $localize<"u"&&$localize.locale||Hf}()}),HD=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let nT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new te.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class GD{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let WD=(()=>{class t{compileModuleSync(o){return new qv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=va(yi(o).declarations).reduce((g,v)=>{const A=Mn(v);return A&&g.push(new Pf(A)),g},[]);return new GD(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sT=new qt(""),aT=new qt("");let lE,pA=(()=>{class t{constructor(o,a,c){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lE||(function gA(t){lE=t}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Se(mo),Se(uT),Se(aT))};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac})}return t})(),uT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return lE?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),td=null;const cT=new qt("AllowMultipleToken"),dE=new qt("PlatformDestroyListeners"),hE=new qt("appBootstrapListener");class yA{constructor(r,o){this.name=r,this.token=o}}function hT(t,r,o=[]){const a=`Platform: ${r}`,c=new qt(a);return(d=[])=>{let g=fE();if(!g||g.injector.get(cT,!1)){const v=[...o,...d,{provide:c,useValue:!0}];t?t(v):function vA(t){if(td&&!td.get(cT,!1))throw new lt(400,!1);(function lT(){!function Ye(t){oe=t}(()=>{throw new lt(600,!1)})})(),td=t;const r=t.get(pT);(function dT(t){t.get(ef,null)?.forEach(o=>o())})(t)}(function fT(t=[],r){return ks.create({name:r,providers:[{provide:Yh,useValue:"platform"},{provide:dE,useValue:new Set([()=>td=null])},...t]})}(v,a))}return function IA(t){const r=fE();if(!r)throw new lt(401,!1);return r}()}}function fE(){return td?.get(pT)??null}let pT=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=function TA(t="zone.js",r){return"noop"===t?new p_:"zone.js"===t?new mo(r):t}(a?.ngZone,function gT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function RC(t,r,o){return new Wv(t,r,o)}(o.moduleType,this.injector,function ET(t){return[{provide:mo,useFactory:t},{provide:Hd,multi:!0,useFactory:()=>{const r=Xe(CA,{optional:!0});return()=>r.initialize()}},{provide:vT,useFactory:wA},{provide:g_,useFactory:gf}]}(()=>c)),g=d.injector.get(Ju,null);return c.runOutsideAngular(()=>{const v=c.onError.subscribe({next:A=>{g.handleError(A)}});d.onDestroy(()=>{py(this._modules,d),v.unsubscribe()})}),function mT(t,r,o){try{const a=o();return ty(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const v=d.injector.get(aE);return v.runInitializers(),v.donePromise.then(()=>(function P0(t){Un(t,"Expected localeId to be defined"),"string"==typeof t&&(R0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(hy,Hf)||Hf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const c=_T({},a);return function mA(t,r,o){const a=new qv(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const a=o.injector.get(Wf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new lt(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(dE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Se(ks))};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function _T(t,r){return Array.isArray(r)?r.reduce(_T,t):{...t,...r}}let Wf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xe(vT),this.zoneIsStable=Xe(g_),this.componentTypes=[],this.components=[],this.isStable=Xe(nT).hasPendingTasks.pipe((0,Pt.w)(o=>o?(0,ce.of)(!1):this.zoneIsStable),function mn(t,r=Ht.y){return t=t??Wt,(0,tt.e)((o,a)=>{let c,d=!0;o.subscribe((0,wt.x)(a,g=>{const v=r(g);(d||!t(c,v))&&(d=!1,c=v,a.next(g))}))})}(),Qe()),this._injector=Xe(ya)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof t_;if(!this._injector.get(aE).done)throw!c&&Qi(o),new lt(405,!1);let g;g=c?o:this._injector.get(af).resolveComponentFactory(o),this.componentTypes.push(g.componentType);const v=function _A(t){return t.isBoundToModule}(g)?void 0:this._injector.get(ph),N=g.create(ks.NULL,[],a||g.selector,v),$=N.location.nativeElement,ee=N.injector.get(sT,null);return ee?.registerApplication($),N.onDestroy(()=>{this.detachView(N.hostView),py(this.components,N),ee?.unregisterApplication($)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new lt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;py(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(hE,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>py(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new lt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function py(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const vT=new qt("",{providedIn:"root",factory:()=>Xe(Ju).handleError.bind(void 0)});function wA(){const t=Xe(mo),r=Xe(Ju);return o=>t.runOutsideAngular(()=>r.handleError(o))}let CA=(()=>{class t{constructor(){this.zone=Xe(mo),this.applicationRef=Xe(Wf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=Dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let AA=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bA}return t})();function bA(t){return function SA(t,r,o){if(Po(t)&&!o){const a=sr(t.index,r);return new Rf(a,a)}return 47&t.type?new Rf(r[Ar],r):null}(Wi(),et(),16==(16&t))}class CT{constructor(){}supports(r){return Jc(r)}create(r){return new NA(r)}}const OA=(t,r)=>r;class NA{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OA}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,d=null;for(;o||a;){const g=!a||o&&o.currentIndex<AT(a,c,d)?o:a,v=AT(g,c,d),A=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(o=o._next,null==g.previousIndex)c++;else{d||(d=[]);const N=v-c,$=A-c;if(N!=$){for(let me=0;me<N;me++){const De=me<d.length?d[me]:d[me]=0,qe=De+me;$<=qe&&qe<N&&(d[me]=De+1)}d[g.previousIndex]=$-N}}v!==A&&r(g,v,A)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Jc(r))throw new lt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)d=r[v],g=this._trackByFn(v,d),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,d,g,v)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,g,v),a=!0),o=o._next}else c=0,function Vg(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,v=>{g=this._trackByFn(c,v),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,v,g,c)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,g,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,c)):r=this._addAfter(new kA(o,a),d,c),r}_verifyReinsertion(r,o,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new DT),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DT),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class kA{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FA{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class DT{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new FA,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AT(t,r,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class bT{constructor(){}supports(r){return r instanceof Map||Lg(r)}create(){return new VA}}class VA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Lg(r)))throw new lt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new LA(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class LA{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ST(){return new yE([new CT])}let yE=(()=>{class t{static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:ST});constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||ST()),deps:[[t,new fl,new xu]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new lt(901,!1)}}return t})();function RT(){return new vE([new bT])}let vE=(()=>{class t{static#e=this.\u0275prov=Dn({token:t,providedIn:"root",factory:RT});constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||RT()),deps:[[t,new fl,new xu]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new lt(901,!1)}}return t})();const jA=hT(null,"core",[]);let $A=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(Se(Wf))};static#t=this.\u0275mod=Go({type:t});static#n=this.\u0275inj=ln({})}return t})();function XA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function tb(t){const r=Mn(t);if(!r)return null;const o=new Pf(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:($t,ze,B)=>{B.d(ze,{Ot:()=>M,ZF:()=>Ht,hX:()=>tt,z6:()=>Q});var m=B(3182),se=B(4946),Be=B(4810);class M{constructor(Ke){return Ke}}class Q{constructor(){return(0,m.C6)()}}const Ce=new se.OlP("angularfire2._apps"),Ve={provide:M,useFactory:function xe(Le){return Le&&1===Le.length?Le[0]:new M((0,m.Mq)())},deps:[[new se.FiY,Ce]]},te={provide:Q,deps:[[new se.FiY,Ce]]};function ce(Le){return(Ke,Ge)=>{const at=Ke.runOutsideAngular(()=>Le(Ge));return new M(at)}}let Pe=(()=>{class Le{constructor(Ge){(0,m.KN)("angularfire",Be.q4.full,"core"),(0,m.KN)("angularfire",Be.q4.full,"app"),(0,m.KN)("angular",se.q4F.full,Ge.toString())}static \u0275fac=function(at){return new(at||Le)(se.LFG(se.Lbi))};static \u0275mod=se.oAB({type:Le});static \u0275inj=se.cJS({providers:[Ve,te]})}return Le})();function tt(Le,...Ke){return{ngModule:Pe,providers:[{provide:Ce,useFactory:ce(Le),multi:!0,deps:[se.R0b,se.zs3,Be.HU,...Ke]}]}}const Ht=(0,Be.u3)(m.ZF,!0)},4166:($t,ze,B)=>{B.d(ze,{gx:()=>xn,dh:()=>pl,Xb:()=>Sc,v0:()=>Id,AR:()=>Xf,e5:()=>Oc});var m=B(4810),se=B(4946),Be=B(721),M=B(3182),Q=B(5861),fe=B(9058),xe=B(534),Ce=B(7879),Ve=B(7582),te=B(4537);const mn=function Ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new Ce.Yd("@firebase/auth");function at(E,...h){Ke.logLevel<=Ce.in.ERROR&&Ke.error(`Auth (${xe.Jn}): ${E}`,...h)}function gt(E,...h){throw Cn(E,...h)}function rt(E,...h){return Cn(E,...h)}function Cn(E,...h){if("string"!=typeof E){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=E.name),E._errorFactory.create(p,...T)}return Wt.create(E,...h)}function Ze(E,h,...p){if(!E)throw Cn(h,...p)}function _n(E){const h="INTERNAL ASSERTION FAILED: "+E;throw at(h),new Error(h)}function lt(E,h){E||_n(h)}function Xt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Rt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class he{constructor(h,p){this.shortDelay=h,this.longDelay=p,lt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ae(){return"http:"===Rt()||"https:"===Rt()}()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function be(E,h){lt(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class ve{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void _n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void _n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void _n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ue=new he(3e4,6e4);function He(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function mt(E,h,p,T){return ht.apply(this,arguments)}function ht(){return(ht=(0,Q.Z)(function*(E,h,p,T,U={}){return Zt(E,U,(0,Q.Z)(function*(){let Y={},_e={};T&&("GET"===h?_e=T:Y={body:JSON.stringify(T)});const ke=(0,fe.xO)(Object.assign({key:E.config.apiKey},_e)).slice(1),ct=yield E._getAdditionalHeaders();return ct["Content-Type"]="application/json",E.languageCode&&(ct["X-Firebase-Locale"]=E.languageCode),ve.fetch()(Fr(E,E.config.apiHost,p,ke),Object.assign({method:h,headers:ct,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function Zt(E,h,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,Q.Z)(function*(E,h,p){E._canInitEmulator=!1;const T=Object.assign(Object.assign({},Ie),h);try{const U=new Rr(E),Y=yield Promise.race([p(),U.promise]);U.clearNetworkTimeout();const _e=yield Y.json();if("needConfirmation"in _e)throw Un(E,"account-exists-with-different-credential",_e);if(Y.ok&&!("errorMessage"in _e))return _e;{const ke=Y.ok?_e.errorMessage:_e.error.message,[ct,Gt]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw Un(E,"credential-already-in-use",_e);if("EMAIL_EXISTS"===ct)throw Un(E,"email-already-in-use",_e);if("USER_DISABLED"===ct)throw Un(E,"user-disabled",_e);const Yt=T[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(Gt)throw function st(E,h,p){const T=Object.assign(Object.assign({},mn()),{[h]:p});return new fe.LL("auth","Firebase",T).create(h,{appName:E.name})}(E,Yt,Gt);gt(E,Yt)}}catch(U){if(U instanceof fe.ZR)throw U;gt(E,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function yn(E,h,p,T){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,Q.Z)(function*(E,h,p,T,U={}){const Y=yield mt(E,h,p,T,U);return"mfaPendingCredential"in Y&&gt(E,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Fr(E,h,p,T){const U=`${h}${p}?${T}`;return E.config.emulator?be(E.config,U):`${E.config.apiScheme}://${U}`}function Pn(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(rt(this.auth,"network-request-failed")),Ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(E,h,p){const T={appName:E.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const U=rt(E,h,T);return U.customData._tokenResponse=p,U}function Er(E){return void 0!==E&&void 0!==E.enterprise}class Ut{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Pn(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function dr(E,h){return ln.apply(this,arguments)}function ln(){return(ln=(0,Q.Z)(function*(E,h){return mt(E,"GET","/v2/recaptchaConfig",He(E,h))})).apply(this,arguments)}function rr(){return(rr=(0,Q.Z)(function*(E,h){return mt(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function $n(){return($n=(0,Q.Z)(function*(E,h){return mt(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ci(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function vt(){return(vt=(0,Q.Z)(function*(E,h=!1){const p=(0,fe.m9)(E),T=yield p.getIdToken(h),U=si(T);Ze(U&&U.exp&&U.auth_time&&U.iat,p.auth,"internal-error");const Y="object"==typeof U.firebase?U.firebase:void 0,_e=Y?.sign_in_provider;return{claims:U,token:T,authTime:Ci(Ni(U.auth_time)),issuedAtTime:Ci(Ni(U.iat)),expirationTime:Ci(Ni(U.exp)),signInProvider:_e||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function Ni(E){return 1e3*Number(E)}function si(E){const[h,p,T]=E.split(".");if(void 0===h||void 0===p||void 0===T)return at("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,fe.tV)(p);return U?JSON.parse(U):(at("Failed to decode base64 JWT payload"),null)}catch(U){return at("Caught error parsing JWT payload as JSON",U?.toString()),null}}function pn(E,h){return En.apply(this,arguments)}function En(){return(En=(0,Q.Z)(function*(E,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof fe.ZR&&function kt({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(T)&&E.auth.currentUser===E&&(yield E.auth.signOut()),T}})).apply(this,arguments)}class ai{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const U=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,Q.Z)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,Q.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class ki{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ci(this.lastLoginAt),this.creationTime=Ci(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qt(E){return ir.apply(this,arguments)}function ir(){return ir=(0,Q.Z)(function*(E){var h;const p=E.auth,T=yield E.getIdToken(),U=yield pn(E,function qn(E,h){return $n.apply(this,arguments)}(p,{idToken:T}));Ze(U?.users.length,p,"internal-error");const Y=U.users[0];E._notifyReloadListener(Y);const _e=null!==(h=Y.providerUserInfo)&&void 0!==h&&h.length?function W(E){return E.map(h=>{var{providerId:p}=h,T=(0,Ve._T)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(Y.providerUserInfo):[],ke=function le(E,h){return[...E.filter(T=>!h.some(U=>U.providerId===T.providerId)),...h]}(E.providerData,_e),Yt=!!E.isAnonymous&&!(E.email&&Y.passwordHash||ke?.length),ur={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:ke,metadata:new ki(Y.createdAt,Y.lastLoginAt),isAnonymous:Yt};Object.assign(E,ur)}),ir.apply(this,arguments)}function ui(){return(ui=(0,Q.Z)(function*(E){const h=(0,fe.m9)(E);yield qt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function G(){return(G=(0,Q.Z)(function*(E,h){const p=yield Zt(E,{},(0,Q.Z)(function*(){const T=(0,fe.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:U,apiKey:Y}=E.config,_e=Fr(E,U,"/v1/token",`key=${Y}`),ke=yield E._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",ve.fetch()(_e,{method:"POST",headers:ke,body:T})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function Te(){return(Te=(0,Q.Z)(function*(E,h){return mt(E,"POST","/v2/accounts:revokeToken",He(E,h))})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ze(h.idToken,"internal-error"),Ze(typeof h.idToken<"u","internal-error"),Ze(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Tr(E){const h=si(E);return Ze(h,"internal-error"),Ze(typeof h.exp<"u","internal-error"),Ze(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var T=this;return(0,Q.Z)(function*(){return Ze(!T.accessToken||T.refreshToken,h,"user-token-expired"),p||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,Q.Z)(function*(){const{accessToken:U,refreshToken:Y,expiresIn:_e}=yield function q(E,h){return G.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(U,Y,Number(_e))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:U,expirationTime:Y}=p,_e=new We;return T&&(Ze("string"==typeof T,"internal-error",{appName:h}),_e.refreshToken=T),U&&(Ze("string"==typeof U,"internal-error",{appName:h}),_e.accessToken=U),Y&&(Ze("number"==typeof Y,"internal-error",{appName:h}),_e.expirationTime=Y),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return _n("not implemented")}}function ft(E,h){Ze("string"==typeof E||typeof E>"u","internal-error",{appName:h})}class Ft{constructor(h){var{uid:p,auth:T,stsTokenManager:U}=h,Y=(0,Ve._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new ki(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,Q.Z)(function*(){const T=yield pn(p,p.stsTokenManager.getToken(p.auth,h));return Ze(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function yo(E){return vt.apply(this,arguments)}(this,h)}reload(){return function wr(E){return ui.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ze(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Ft(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var T=this;return(0,Q.Z)(function*(){let U=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),U=!0),p&&(yield qt(T)),yield T.auth._persistUserIfCurrent(T),U&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,Q.Z)(function*(){const p=yield h.getIdToken();return yield pn(h,function Jt(E,h){return rr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,U,Y,_e,ke,ct,Gt,Yt;const ur=null!==(T=p.displayName)&&void 0!==T?T:void 0,Ho=null!==(U=p.email)&&void 0!==U?U:void 0,Qs=null!==(Y=p.phoneNumber)&&void 0!==Y?Y:void 0,Nc=null!==(_e=p.photoURL)&&void 0!==_e?_e:void 0,Sd=null!==(ke=p.tenantId)&&void 0!==ke?ke:void 0,Is=null!==(ct=p._redirectEventId)&&void 0!==ct?ct:void 0,ou=null!==(Gt=p.createdAt)&&void 0!==Gt?Gt:void 0,Rd=null!==(Yt=p.lastLoginAt)&&void 0!==Yt?Yt:void 0,{uid:Vu,emailVerified:su,isAnonymous:Pd,providerData:Md,stsTokenManager:xd}=p;Ze(Vu&&xd,h,"internal-error");const lp=We.fromJSON(this.name,xd);Ze("string"==typeof Vu,h,"internal-error"),ft(ur,h.name),ft(Ho,h.name),Ze("boolean"==typeof su,h,"internal-error"),Ze("boolean"==typeof Pd,h,"internal-error"),ft(Qs,h.name),ft(Nc,h.name),ft(Sd,h.name),ft(Is,h.name),ft(ou,h.name),ft(Rd,h.name);const Od=new Ft({uid:Vu,auth:h,email:Ho,emailVerified:su,displayName:ur,isAnonymous:Pd,photoURL:Nc,phoneNumber:Qs,tenantId:Sd,stsTokenManager:lp,createdAt:ou,lastLoginAt:Rd});return Md&&Array.isArray(Md)&&(Od.providerData=Md.map(dp=>Object.assign({},dp))),Is&&(Od._redirectEventId=Is),Od}static _fromIdTokenResponse(h,p,T=!1){return(0,Q.Z)(function*(){const U=new We;U.updateFromServerResponse(p);const Y=new Ft({uid:p.localId,auth:h,stsTokenManager:U,isAnonymous:T});return yield qt(Y),Y})()}}const en=new Map;function tn(E){lt(E instanceof Function,"Expected a class definition");let h=en.get(E);return h?(lt(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,en.set(E,h),h)}const Kn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Q.Z)(function*(){return!0})()}_set(p,T){var U=this;return(0,Q.Z)(function*(){U.storage[p]=T})()}_get(p){var T=this;return(0,Q.Z)(function*(){const U=T.storage[p];return void 0===U?null:U})()}_remove(p){var T=this;return(0,Q.Z)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return E.type="NONE",E})();function Ee(E,h,p){return`firebase:${E}:${h}:${p}`}class ae{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:U,name:Y}=this.auth;this.fullUserKey=Ee(this.userKey,U.apiKey,Y),this.fullPersistenceKey=Ee("persistence",U.apiKey,Y),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,Q.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Ft._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,Q.Z)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,T="authUser"){return(0,Q.Z)(function*(){if(!p.length)return new ae(tn(Kn),h,T);const U=(yield Promise.all(p.map(function(){var Gt=(0,Q.Z)(function*(Yt){if(yield Yt._isAvailable())return Yt});return function(Yt){return Gt.apply(this,arguments)}}()))).filter(Gt=>Gt);let Y=U[0]||tn(Kn);const _e=Ee(T,h.config.apiKey,h.name);let ke=null;for(const Gt of p)try{const Yt=yield Gt._get(_e);if(Yt){const ur=Ft._fromJSON(h,Yt);Gt!==Y&&(ke=ur),Y=Gt;break}}catch{}const ct=U.filter(Gt=>Gt._shouldAllowMigration);return Y._shouldAllowMigration&&ct.length?(Y=ct[0],ke&&(yield Y._set(_e,ke.toJSON())),yield Promise.all(p.map(function(){var Gt=(0,Q.Z)(function*(Yt){if(Yt!==Y)try{yield Yt._remove(_e)}catch{}});return function(Yt){return Gt.apply(this,arguments)}}())),new ae(Y,h,T)):new ae(Y,h,T)})()}}function de(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Se(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(re(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xe(h))return"Blackberry";if(Bt(h))return"Webos";if(ie(h))return"Safari";if((h.includes("chrome/")||we(h))&&!h.includes("edge/"))return"Chrome";if(Ot(h))return"Android";{const T=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function re(E=(0,fe.z$)()){return/firefox\//i.test(E)}function ie(E=(0,fe.z$)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function we(E=(0,fe.z$)()){return/crios\//i.test(E)}function Se(E=(0,fe.z$)()){return/iemobile/i.test(E)}function Ot(E=(0,fe.z$)()){return/android/i.test(E)}function Xe(E=(0,fe.z$)()){return/blackberry/i.test(E)}function Bt(E=(0,fe.z$)()){return/webos/i.test(E)}function Bn(E=(0,fe.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Di(E=(0,fe.z$)()){return Bn(E)||Ot(E)||Bt(E)||Xe(E)||/windows phone/i.test(E)||Se(E)}function Hn(E,h=[]){let p;switch(E){case"Browser":p=de((0,fe.z$)());break;case"Worker":p=`${de((0,fe.z$)())}-${E}`;break;default:p=E}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${xe.Jn}/${T}`}class mr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const T=Y=>new Promise((_e,ke)=>{try{_e(h(Y))}catch(ct){ke(ct)}});T.onAbort=p,this.queue.push(T);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,Q.Z)(function*(){if(p.auth.currentUser===h)return;const T=[];try{for(const U of p.queue)yield U(h),U.onAbort&&T.push(U.onAbort)}catch(U){T.reverse();for(const Y of T)try{Y()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function un(){return(un=(0,Q.Z)(function*(E,h={}){return mt(E,"GET","/v2/passwordPolicy",He(E,h))})).apply(this,arguments)}class Ai{constructor(h){var p,T,U,Y;const _e=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=_e.minPasswordLength)&&void 0!==p?p:6,_e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=_e.maxPasswordLength),void 0!==_e.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=_e.containsLowercaseCharacter),void 0!==_e.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=_e.containsUppercaseCharacter),void 0!==_e.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=_e.containsNumericCharacter),void 0!==_e.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=_e.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(T=h.allowedNonAlphanumericCharacters)||void 0===T?void 0:T.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(Y=h.forceUpgradeOnSignin)&&void 0!==Y&&Y,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,T,U,Y,_e,ke;const ct={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,ct),this.validatePasswordCharacterOptions(h,ct),ct.isValid&&(ct.isValid=null===(p=ct.meetsMinPasswordLength)||void 0===p||p),ct.isValid&&(ct.isValid=null===(T=ct.meetsMaxPasswordLength)||void 0===T||T),ct.isValid&&(ct.isValid=null===(U=ct.containsLowercaseLetter)||void 0===U||U),ct.isValid&&(ct.isValid=null===(Y=ct.containsUppercaseLetter)||void 0===Y||Y),ct.isValid&&(ct.isValid=null===(_e=ct.containsNumericCharacter)||void 0===_e||_e),ct.isValid&&(ct.isValid=null===(ke=ct.containsNonAlphanumericCharacter)||void 0===ke||ke),ct}validatePasswordLengthOptions(h,p){const T=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;T&&(p.meetsMinPasswordLength=h.length>=T),U&&(p.meetsMaxPasswordLength=h.length<=U)}validatePasswordCharacterOptions(h,p){let T;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let U=0;U<h.length;U++)T=h.charAt(U),this.updatePasswordCharacterOptionsStatuses(p,T>="a"&&T<="z",T>="A"&&T<="Z",T>="0"&&T<="9",this.allowedNonAlphanumericCharacters.includes(T))}updatePasswordCharacterOptionsStatuses(h,p,T,U,Y){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=T)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=Y))}}class vo{constructor(h,p,T,U){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=T,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bi(this),this.idTokenSubscription=new bi(this),this.beforeStateQueue=new mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=tn(p)),this._initializationPromise=this.queue((0,Q.Z)(function*(){var U,Y;if(!T._deleted&&(T.persistenceManager=yield ae.create(T,h),!T._deleted)){if(null!==(U=T._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(Y=T.currentUser)||void 0===Y?void 0:Y.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,Q.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,Q.Z)(function*(){var T;const U=yield p.assertedPersistence.getCurrentUser();let Y=U,_e=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ke=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,ct=Y?._redirectEventId,Gt=yield p.tryRedirectSignIn(h);(!ke||ke===ct)&&Gt?.user&&(Y=Gt.user,_e=!0)}if(!Y)return p.directlySetCurrentUser(null);if(!Y._redirectEventId){if(_e)try{yield p.beforeStateQueue.runMiddleware(Y)}catch(ke){Y=U,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ke))}return Y?p.reloadAndSetCurrentUserOrClear(Y):p.directlySetCurrentUser(null)}return Ze(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Y._redirectEventId?p.directlySetCurrentUser(Y):p.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(h){var p=this;return(0,Q.Z)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,Q.Z)(function*(){try{yield qt(h)}catch(T){if("auth/network-request-failed"!==T?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function pe(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,Q.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,Q.Z)(function*(){const T=h?(0,fe.m9)(h):null;return T&&Ze(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h,p=!1){var T=this;return(0,Q.Z)(function*(){if(!T._deleted)return h&&Ze(T.tenantId===h.tenantId,T,"tenant-id-mismatch"),p||(yield T.beforeStateQueue.runMiddleware(h)),T.queue((0,Q.Z)(function*(){yield T.directlySetCurrentUser(h),T.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,Q.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,Q.Z)(function*(){yield p.assertedPersistence.setPersistence(tn(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,Q.Z)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const T=p._getPasswordPolicyInternal();return T.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):T.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,Q.Z)(function*(){const p=yield function Qr(E){return un.apply(this,arguments)}(h),T=new Ai(p);null===h.tenantId?h._projectPasswordPolicy=T:h._tenantPasswordPolicies[h.tenantId]=T})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new fe.LL("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const T=this.onAuthStateChanged(()=>{T(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,Q.Z)(function*(){if(p.currentUser){const T=yield p.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:T};null!=p.tenantId&&(U.tenantId=p.tenantId),yield function K(E,h){return Te.apply(this,arguments)}(p,U)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,Q.Z)(function*(){const U=yield T.getOrInitRedirectPersistenceManager(p);return null===h?U.removeCurrentUser():U.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,Q.Z)(function*(){if(!p.redirectPersistenceManager){const T=h&&tn(h)||p._popupRedirectResolver;Ze(T,p,"argument-error"),p.redirectPersistenceManager=yield ae.create(p,[tn(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,Q.Z)(function*(){var T,U;return p._isInitialized&&(yield p.queue((0,Q.Z)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(U=p.redirectUser)||void 0===U?void 0:U._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,Q.Z)(function*(){if(h===p.currentUser)return p.queue((0,Q.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,U){if(this._deleted)return()=>{};const Y="function"==typeof p?p:p.next.bind(p);let _e=!1;const ke=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(ke,this,"internal-error"),ke.then(()=>{_e||Y(this.currentUser)}),"function"==typeof p){const ct=h.addObserver(p,T,U);return()=>{_e=!0,ct()}}{const ct=h.addObserver(p);return()=>{_e=!0,ct()}}}directlySetCurrentUser(h){var p=this;return(0,Q.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Hn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,Q.Z)(function*(){var p;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const U=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();U&&(T["X-Firebase-Client"]=U);const Y=yield h._getAppCheckToken();return Y&&(T["X-Firebase-AppCheck"]=Y),T})()}_getAppCheckToken(){var h=this;return(0,Q.Z)(function*(){var p;const T=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return T?.error&&function Ge(E,...h){Ke.logLevel<=Ce.in.WARN&&Ke.warn(`Auth (${xe.Jn}): ${E}`,...h)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function On(E){return(0,fe.m9)(E)}class bi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,fe.ne)(p=>this.observer=p)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ut(E){return new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",E),T.onload=h,T.onerror=U=>{const Y=rt("internal-error");Y.customData=U,p(Y)},T.type="text/javascript",T.charset="UTF-8",function It(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(T)})}function Ct(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Xr{constructor(h){this.type="recaptcha-enterprise",this.auth=On(h)}verify(h="verify",p=!1){var T=this;return(0,Q.Z)(function*(){function Y(){return Y=(0,Q.Z)(function*(ke){if(!p){if(null==ke.tenantId&&null!=ke._agentRecaptchaConfig)return ke._agentRecaptchaConfig.siteKey;if(null!=ke.tenantId&&void 0!==ke._tenantRecaptchaConfigs[ke.tenantId])return ke._tenantRecaptchaConfigs[ke.tenantId].siteKey}return new Promise(function(){var ct=(0,Q.Z)(function*(Gt,Yt){dr(ke,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ur=>{if(void 0!==ur.recaptchaKey){const Ho=new Ut(ur);return null==ke.tenantId?ke._agentRecaptchaConfig=Ho:ke._tenantRecaptchaConfigs[ke.tenantId]=Ho,Gt(Ho.siteKey)}Yt(new Error("recaptcha Enterprise site key undefined"))}).catch(ur=>{Yt(ur)})});return function(Gt,Yt){return ct.apply(this,arguments)}}())}),Y.apply(this,arguments)}function _e(ke,ct,Gt){const Yt=window.grecaptcha;Er(Yt)?Yt.enterprise.ready(()=>{Yt.enterprise.execute(ke,{action:h}).then(ur=>{ct(ur)}).catch(()=>{ct("NO_RECAPTCHA")})}):Gt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ke,ct)=>{(function U(ke){return Y.apply(this,arguments)})(T.auth).then(Gt=>{if(!p&&Er(window.grecaptcha))_e(Gt,ke,ct);else{if(typeof window>"u")return void ct(new Error("RecaptchaVerifier is only supported in browser"));ut("https://www.google.com/recaptcha/enterprise.js?render="+Gt).then(()=>{_e(Gt,ke,ct)}).catch(Yt=>{ct(Yt)})}}).catch(Gt=>{ct(Gt)})})})()}}function so(E,h,p){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,Q.Z)(function*(E,h,p,T=!1){const U=new Xr(E);let Y;try{Y=yield U.verify(p)}catch{Y=yield U.verify(p,!0)}const _e=Object.assign({},h);return Object.assign(_e,T?{captchaResp:Y}:{captchaResponse:Y}),Object.assign(_e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_e})).apply(this,arguments)}function $i(E,h,p,T){return Si.apply(this,arguments)}function Si(){return Si=(0,Q.Z)(function*(E,h,p,T){var U;if(null!==(U=E._getRecaptchaConfig())&&void 0!==U&&U.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Y=yield so(E,h,p,"getOobCode"===p);return T(E,Y)}return T(E,h).catch(function(){var Y=(0,Q.Z)(function*(_e){if("auth/missing-recaptcha-token"===_e.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ke=yield so(E,h,p,"getOobCode"===p);return T(E,ke)}return Promise.reject(_e)});return function(_e){return Y.apply(this,arguments)}}())}),Si.apply(this,arguments)}function bo(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function os(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class Cs{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return _n("not implemented")}_getIdTokenResponse(h){return _n("not implemented")}_linkToIdToken(h,p){return _n("not implemented")}_getReauthenticationResolver(h){return _n("not implemented")}}function Zi(E,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,Q.Z)(function*(E,h){return mt(E,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Xn(E,h){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,Q.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signInWithPassword",He(E,h))})).apply(this,arguments)}function So(){return(So=(0,Q.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signInWithEmailLink",He(E,h))})).apply(this,arguments)}function yt(){return(yt=(0,Q.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signInWithEmailLink",He(E,h))})).apply(this,arguments)}class hn extends Cs{constructor(h,p,T,U=null){super("password",T),this._email=h,this._password=p,this._tenantId=U}static _fromEmailAndPassword(h,p){return new hn(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new hn(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,Q.Z)(function*(){switch(p.signInMethod){case"password":return $i(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xn);case"emailLink":return function Ls(E,h){return So.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:gt(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,Q.Z)(function*(){switch(T.signInMethod){case"password":return $i(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zi);case"emailLink":return function Dr(E,h){return yt.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:gt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function zn(E,h){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,Q.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signInWithIdp",He(E,h))})).apply(this,arguments)}class Xi{constructor(h){var p,T,U,Y,_e,ke;const ct=(0,fe.zd)((0,fe.pd)(h)),Gt=null!==(p=ct.apiKey)&&void 0!==p?p:null,Yt=null!==(T=ct.oobCode)&&void 0!==T?T:null,ur=function li(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=ct.mode)&&void 0!==U?U:null);Ze(Gt&&Yt&&ur,"argument-error"),this.apiKey=Gt,this.operation=ur,this.code=Yt,this.continueUrl=null!==(Y=ct.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(_e=ct.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(ke=ct.tenantId)&&void 0!==ke?ke:null}static parseLink(h){const p=function di(E){const h=(0,fe.zd)((0,fe.pd)(E)).link,p=h?(0,fe.zd)((0,fe.pd)(h)).deep_link_id:null,T=(0,fe.zd)((0,fe.pd)(E)).deep_link_id;return(T?(0,fe.zd)((0,fe.pd)(T)).link:null)||T||p||h||E}(h);try{return new Xi(p)}catch{return null}}}let Pi=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,T){return hn._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const U=Xi.parseLink(T);return Ze(U,"argument-error"),hn._fromEmailAndCode(p,U.code,U.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ri{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ps extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Ei(E,h){return uo.apply(this,arguments)}function uo(){return(uo=(0,Q.Z)(function*(E,h){return yn(E,"POST","/v1/accounts:signUp",He(E,h))})).apply(this,arguments)}class pr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T,U=!1){return(0,Q.Z)(function*(){const Y=yield Ft._fromIdTokenResponse(h,T,U),_e=ei(T);return new pr({user:Y,providerId:_e,_tokenResponse:T,operationType:p})})()}static _forOperation(h,p,T){return(0,Q.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const U=ei(T);return new pr({user:h,providerId:U,_tokenResponse:T,operationType:p})})()}}function ei(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class Vn extends fe.ZR{constructor(h,p,T,U){var Y;super(p.code,p.message),this.operationType=T,this.user=U,Object.setPrototypeOf(this,Vn.prototype),this.customData={appName:h.name,tenantId:null!==(Y=h.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,U){return new Vn(h,p,T,U)}}function Ii(E,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?Vn._fromErrorAndOperation(E,Y,h,T):Y})}function I(){return(I=(0,Q.Z)(function*(E,h,p=!1){const T=yield pn(E,h._linkToIdToken(E.auth,yield E.getIdToken()),p);return pr._forOperation(E,"link",T)})).apply(this,arguments)}function ye(){return(ye=(0,Q.Z)(function*(E,h,p=!1){const{auth:T}=E,U="reauthenticate";try{const Y=yield pn(E,Ii(T,U,h,E),p);Ze(Y.idToken,T,"internal-error");const _e=si(Y.idToken);Ze(_e,T,"internal-error");const{sub:ke}=_e;return Ze(E.uid===ke,T,"user-mismatch"),pr._forOperation(E,U,Y)}catch(Y){throw"auth/user-not-found"===Y?.code&&gt(T,"user-mismatch"),Y}})).apply(this,arguments)}function $e(E,h){return dt.apply(this,arguments)}function dt(){return(dt=(0,Q.Z)(function*(E,h,p=!1){const T="signIn",U=yield Ii(E,T,h),Y=yield pr._fromIdTokenResponse(E,T,U);return p||(yield E._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function St(){return(St=(0,Q.Z)(function*(E,h){return $e(On(E),h)})).apply(this,arguments)}function ms(E){return fi.apply(this,arguments)}function fi(){return(fi=(0,Q.Z)(function*(E){const h=On(E);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Zo(E,h,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,Q.Z)(function*(E,h,p){const T=On(E),_e=yield $i(T,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ei).catch(ct=>{throw"auth/password-does-not-meet-requirements"===ct.code&&ms(E),ct}),ke=yield pr._fromIdTokenResponse(T,"signIn",_e);return yield T._updateCurrentUser(ke.user),ke})).apply(this,arguments)}function ji(E,h,p){return function Mt(E,h){return St.apply(this,arguments)}((0,fe.m9)(E),Pi.credential(h,p)).catch(function(){var T=(0,Q.Z)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&ms(E),U});return function(U){return T.apply(this,arguments)}}())}const Gr="__sak";class At{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Gr,"1"),this.storage.removeItem(Gr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const gn=(()=>{class E extends At{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function To(){const E=(0,fe.z$)();return ie(E)||Bn(E)}()&&function an(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Di(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const U=this.storage.getItem(T),Y=this.localCache[T];U!==Y&&p(T,Y,U)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((ke,ct,Gt)=>{this.notifyListeners(ke,Gt)});const U=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(U);if(p.newValue!==ke)null!==p.newValue?this.storage.setItem(U,p.newValue):this.storage.removeItem(U);else if(this.localCache[U]===p.newValue&&!T)return}const Y=()=>{const ke=this.storage.getItem(U);!T&&this.localCache[U]===ke||this.notifyListeners(U,ke)},_e=this.storage.getItem(U);!function Kr(){return(0,fe.w1)()&&10===document.documentMode}()||_e===p.newValue||p.newValue===p.oldValue?Y():setTimeout(Y,10)}notifyListeners(p,T){this.localCache[p]=T;const U=this.listeners[p];if(U)for(const Y of Array.from(U))Y(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var U=()=>super._set,Y=this;return(0,Q.Z)(function*(){yield U().call(Y,p,T),Y.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,U=this;return(0,Q.Z)(function*(){const Y=yield T().call(U,p);return U.localCache[p]=JSON.stringify(Y),Y})()}_remove(p){var T=()=>super._remove,U=this;return(0,Q.Z)(function*(){yield T().call(U,p),delete U.localCache[p]})()}}return E.type="LOCAL",E})(),la=(()=>{class E extends At{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return E.type="SESSION",E})();let il=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(Y=>Y.isListeningto(p));if(T)return T;const U=new E(p);return this.receivers.push(U),U}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,Q.Z)(function*(){const U=p,{eventId:Y,eventType:_e,data:ke}=U.data,ct=T.handlersMap[_e];if(!ct?.size)return;U.ports[0].postMessage({status:"ack",eventId:Y,eventType:_e});const Gt=Array.from(ct).map(function(){var ur=(0,Q.Z)(function*(Ho){return Ho(U.origin,ke)});return function(Ho){return ur.apply(this,arguments)}}()),Yt=yield function vu(E){return Promise.all(E.map(function(){var h=(0,Q.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(Gt);U.ports[0].postMessage({status:"done",eventId:Y,eventType:_e,response:Yt})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function wo(E="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return E+p}class dc{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,T=50){var U=this;return(0,Q.Z)(function*(){const Y=typeof MessageChannel<"u"?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let _e,ke;return new Promise((ct,Gt)=>{const Yt=wo("",20);Y.port1.start();const ur=setTimeout(()=>{Gt(new Error("unsupported_event"))},T);ke={messageChannel:Y,onMessage(Ho){const Qs=Ho;if(Qs.data.eventId===Yt)switch(Qs.data.status){case"ack":clearTimeout(ur),_e=setTimeout(()=>{Gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),ct(Qs.data.response);break;default:clearTimeout(ur),clearTimeout(_e),Gt(new Error("invalid_response"))}}},U.handlers.add(ke),Y.port1.addEventListener("message",ke.onMessage),U.target.postMessage({eventType:h,eventId:Yt,data:p},[Y.port2])}).finally(()=>{ke&&U.removeMessageHandler(ke)})})()}}function Wr(){return window}function Ms(){return typeof Wr().WorkerGlobalScope<"u"&&"function"==typeof Wr().importScripts}function Re(){return(Re=(0,Q.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yn="firebaseLocalStorageDb",Qo="firebaseLocalStorage",Wi="fbase_key";class Jo{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function xs(E,h){return E.transaction([Qo],h?"readwrite":"readonly").objectStore(Qo)}function qa(){const E=indexedDB.open(Yn,1);return new Promise((h,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const T=E.result;try{T.createObjectStore(Qo,{keyPath:Wi})}catch(U){p(U)}}),E.addEventListener("success",(0,Q.Z)(function*(){const T=E.result;T.objectStoreNames.contains(Qo)?h(T):(T.close(),yield function Xo(){const E=indexedDB.deleteDatabase(Yn);return new Jo(E).toPromise()}(),h(yield qa()))}))})}function Iu(E,h,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,Q.Z)(function*(E,h,p){const T=xs(E,!0).put({[Wi]:h,value:p});return new Jo(T).toPromise()})).apply(this,arguments)}function da(){return(da=(0,Q.Z)(function*(E,h){const p=xs(E,!1).get(h),T=yield new Jo(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function po(E,h){const p=xs(E,!0).delete(h);return new Jo(p).toPromise()}const no=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,Q.Z)(function*(){return p.db||(p.db=yield qa()),p.db})()}_withRetries(p){var T=this;return(0,Q.Z)(function*(){let U=0;for(;;)try{const Y=yield T._openDb();return yield p(Y)}catch(Y){if(U++>3)throw Y;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,Q.Z)(function*(){return Ms()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,Q.Z)(function*(){p.receiver=il._getInstance(function et(){return Ms()?self:null}()),p.receiver._subscribe("keyChanged",function(){var T=(0,Q.Z)(function*(U,Y){return{keyProcessed:(yield p._poll()).includes(Y.key)}});return function(U,Y){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,Q.Z)(function*(U,Y){return["keyChanged"]});return function(U,Y){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,Q.Z)(function*(){var T,U;if(p.activeServiceWorker=yield function ol(){return Re.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new dc(p.activeServiceWorker);const Y=yield p.sender._send("ping",{},800);Y&&null!==(T=Y[0])&&void 0!==T&&T.fulfilled&&null!==(U=Y[0])&&void 0!==U&&U.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,Q.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Eu(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,Q.Z)(function*(){try{if(!indexedDB)return!1;const p=yield qa();return yield Iu(p,Gr,"1"),yield po(p,Gr),!0}catch{}return!1})()}_withPendingWrite(p){var T=this;return(0,Q.Z)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var U=this;return(0,Q.Z)(function*(){return U._withPendingWrite((0,Q.Z)(function*(){return yield U._withRetries(Y=>Iu(Y,p,T)),U.localCache[p]=T,U.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,Q.Z)(function*(){const U=yield T._withRetries(Y=>function Tu(E,h){return da.apply(this,arguments)}(Y,p));return T.localCache[p]=U,U})()}_remove(p){var T=this;return(0,Q.Z)(function*(){return T._withPendingWrite((0,Q.Z)(function*(){return yield T._withRetries(U=>po(U,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,Q.Z)(function*(){const T=yield p._withRetries(_e=>{const ke=xs(_e,!1).getAll();return new Jo(ke).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const U=[],Y=new Set;for(const{fbase_key:_e,value:ke}of T)Y.add(_e),JSON.stringify(p.localCache[_e])!==JSON.stringify(ke)&&(p.notifyListeners(_e,ke),U.push(_e));for(const _e of Object.keys(p.localCache))p.localCache[_e]&&!Y.has(_e)&&(p.notifyListeners(_e,null),U.push(_e));return U})()}notifyListeners(p,T){this.localCache[p]=T;const U=this.listeners[p];if(U)for(const Y of Array.from(U))Y(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,Q.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();Ct("rcb"),new he(3e4,6e4);class Qa extends Cs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return zn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return zn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return zn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Oa(E){return $e(E.auth,new Qa(E),E.bypassAuthState)}function Uo(E){const{auth:h,user:p}=E;return Ze(p,h,"internal-error"),function X(E,h){return ye.apply(this,arguments)}(p,new Qa(E),E.bypassAuthState)}function sd(E){return _h.apply(this,arguments)}function _h(){return(_h=(0,Q.Z)(function*(E){const{auth:h,user:p}=E;return Ze(p,h,"internal-error"),function P(E,h){return I.apply(this,arguments)}(p,new Qa(E),E.bypassAuthState)})).apply(this,arguments)}class Ti{constructor(h,p,T,U,Y=!1){this.auth=h,this.resolver=T,this.user=U,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,Q.Z)(function*(T,U){h.pendingPromise={resolve:T,reject:U};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Y){h.reject(Y)}});return function(T,U){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,Q.Z)(function*(){const{urlResponse:T,sessionId:U,postBody:Y,tenantId:_e,error:ke,type:ct}=h;if(ke)return void p.reject(ke);const Gt={auth:p.auth,requestUri:T,sessionId:U,tenantId:_e||void 0,postBody:Y||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(ct)(Gt))}catch(Yt){p.reject(Yt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Oa;case"linkViaPopup":case"linkViaRedirect":return sd;case"reauthViaPopup":case"reauthViaRedirect":return Uo;default:gt(this.auth,"internal-error")}}resolve(h){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new he(2e3,1e4);const Du="pendingRedirect",es=new Map;class Na extends Ti{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,Q.Z)(function*(){let T=es.get(p.auth._key());if(!T){try{const Y=(yield function ka(E,h){return Mo.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(Y)}catch(U){T=()=>Promise.reject(U)}es.set(p.auth._key(),T)}return p.bypassAuthState||es.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,Q.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const U=yield T.auth._redirectUserForId(h.eventId);if(U)return T.user=U,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,Q.Z)(function*(){})()}cleanUp(){}}function Mo(){return(Mo=(0,Q.Z)(function*(E,h){const p=function _c(E){return Ee(Du,E.config.apiKey,E.name)}(h),T=function mc(E){return tn(E._redirectPersistence)}(E);if(!(yield T._isAvailable()))return!1;const U="true"===(yield T._get(p));return yield T._remove(p),U})).apply(this,arguments)}function eu(E,h){es.set(E._key(),h)}function ul(E,h){return io.apply(this,arguments)}function io(){return(io=(0,Q.Z)(function*(E,h,p=!1){const T=On(E),U=function nr(E,h){return h?tn(h):(Ze(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}(T,h),_e=yield new Na(T,U,p).execute();return _e&&!p&&(delete _e.user._redirectEventId,yield T._persistUserIfCurrent(_e.user),yield T._setRedirectUser(null,h)),_e})).apply(this,arguments)}class dd{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Yf(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qs(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!qs(h)){const U=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(rt(this.auth,U))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cl(h))}saveEventToCache(h){this.cachedEventUids.add(cl(h)),this.lastProcessedEventTime=Date.now()}}function cl(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function qs({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===h?.code}function Qn(){return(Qn=(0,Q.Z)(function*(E,h={}){return mt(E,"GET","/v1/projects",h)})).apply(this,arguments)}const Ur=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Va=/^https?/;function Su(){return Su=(0,Q.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield function xo(E){return Qn.apply(this,arguments)}(E);for(const p of h)try{if(ll(p))return}catch{}gt(E,"unauthorized-domain")}),Su.apply(this,arguments)}function ll(E){const h=Xt(),{protocol:p,hostname:T}=new URL(h);if(E.startsWith("chrome-extension://")){const _e=new URL(E);return""===_e.hostname&&""===T?"chrome-extension:"===p&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&_e.hostname===T}if(!Va.test(p))return!1;if(Ur.test(E))return T===E;const U=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(T)}const La=new he(3e4,6e4);function Ua(){const E=Wr().___jsl;if(E?.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let Ru=null;const Pu=new he(5e3,15e3),_m="__/auth/iframe",Eh="emulator/auth/iframe",ym={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vm(E){const h=E.config;Ze(h.authDomain,E,"auth-domain-config-required");const p=h.emulator?be(h,Eh):`https://${E.config.authDomain}/${_m}`,T={apiKey:h.apiKey,appName:E.name,v:xe.Jn},U=Qf.get(E.config.apiHost);U&&(T.eid=U);const Y=E._getFrameworks();return Y.length&&(T.fw=Y.join(",")),`${p}?${(0,fe.xO)(T).slice(1)}`}function Ih(){return Ih=(0,Q.Z)(function*(E){const h=yield function fd(E){return Ru=Ru||function tu(E){return new Promise((h,p)=>{var T,U,Y;function _e(){Ua(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ua(),p(rt(E,"network-request-failed"))},timeout:La.get()})}if(null!==(U=null===(T=Wr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==U&&U.Iframe)h(gapi.iframes.getContext());else{if(null===(Y=Wr().gapi)||void 0===Y||!Y.load){const ke=Ct("iframefcb");return Wr()[ke]=()=>{gapi.load?_e():p(rt(E,"network-request-failed"))},ut(`https://apis.google.com/js/api.js?onload=${ke}`).catch(ct=>p(ct))}_e()}}).catch(h=>{throw Ru=null,h})}(E),Ru}(E),p=Wr().gapi;return Ze(p,E,"internal-error"),h.open({where:document.body,url:vm(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ym,dontclear:!0},T=>new Promise(function(){var U=(0,Q.Z)(function*(Y,_e){yield T.restyle({setHideOnLeave:!1});const ke=rt(E,"network-request-failed"),ct=Wr().setTimeout(()=>{_e(ke)},Pu.get());function Gt(){Wr().clearTimeout(ct),Y(T)}T.ping(Gt).then(Gt,()=>{_e(ke)})});return function(Y,_e){return U.apply(this,arguments)}}()))}),Ih.apply(this,arguments)}const Th={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hs="__/auth/handler",Ns="emulator/auth/handler",gd=encodeURIComponent("fac");function nu(E,h,p,T,U,Y){return Es.apply(this,arguments)}function Es(){return(Es=(0,Q.Z)(function*(E,h,p,T,U,Y){Ze(E.config.authDomain,E,"auth-domain-config-required"),Ze(E.config.apiKey,E,"invalid-api-key");const _e={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:T,v:xe.Jn,eventId:U};if(h instanceof ri){h.setDefaultLanguage(E.languageCode),_e.providerId=h.providerId||"",(0,fe.xb)(h.getCustomParameters())||(_e.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Yt,ur]of Object.entries(Y||{}))_e[Yt]=ur}if(h instanceof ps){const Yt=h.getScopes().filter(ur=>""!==ur);Yt.length>0&&(_e.scopes=Yt.join(","))}E.tenantId&&(_e.tid=E.tenantId);const ke=_e;for(const Yt of Object.keys(ke))void 0===ke[Yt]&&delete ke[Yt];const ct=yield E._getAppCheckToken(),Gt=ct?`#${gd}=${encodeURIComponent(ct)}`:"";return`${function jo({config:E}){return E.emulator?be(E,Ns):`https://${E.authDomain}/${hs}`}(E)}?${(0,fe.xO)(ke).slice(1)}${Gt}`})).apply(this,arguments)}const md="webStorageSupport",yd=class _d{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=la,this._completeRedirectFn=ul,this._overrideRedirectResult=eu}_openPopup(h,p,T,U){var Y=this;return(0,Q.Z)(function*(){var _e;lt(null===(_e=Y.eventManagers[h._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const ke=yield nu(h,p,T,Xt(),U);return function Mu(E,h,p,T=500,U=600){const Y=Math.max((window.screen.availHeight-U)/2,0).toString(),_e=Math.max((window.screen.availWidth-T)/2,0).toString();let ke="";const ct=Object.assign(Object.assign({},Th),{width:T.toString(),height:U.toString(),top:Y,left:_e}),Gt=(0,fe.z$)().toLowerCase();p&&(ke=we(Gt)?"_blank":p),re(Gt)&&(h=h||"http://localhost",ct.scrollbars="yes");const Yt=Object.entries(ct).reduce((Ho,[Qs,Nc])=>`${Ho}${Qs}=${Nc},`,"");if(function Cr(E=(0,fe.z$)()){var h;return Bn(E)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Gt)&&"_self"!==ke)return function ga(E,h){const p=document.createElement("a");p.href=E,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",ke),new pd(null);const ur=window.open(h||"",ke,Yt);Ze(ur,E,"popup-blocked");try{ur.focus()}catch{}return new pd(ur)}(h,ke,wo())})()}_openRedirect(h,p,T,U){var Y=this;return(0,Q.Z)(function*(){return yield Y._originValidation(h),function id(E){Wr().location.href=E}(yield nu(h,p,T,Xt(),U)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:U,promise:Y}=this.eventManagers[p];return U?Promise.resolve(U):(lt(Y,"If manager is not set, promise should be"),Y)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T.catch(()=>{delete this.eventManagers[p]}),T}initAndGetManager(h){var p=this;return(0,Q.Z)(function*(){const T=yield function Em(E){return Ih.apply(this,arguments)}(h),U=new dd(h);return T.register("authEvent",Y=>(Ze(Y?.authEvent,h,"invalid-auth-event"),{status:U.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:U},p.iframes[h._key()]=T,U})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(md,{type:md},U=>{var Y;const _e=null===(Y=U?.[0])||void 0===Y?void 0:Y[md];void 0!==_e&&p(!!_e),gt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function hd(E){return Su.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Di()||ie()||Bn()}};var Zs="@firebase/auth";class ts{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,Q.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ys=(0,fe.Pz)("authIdTokenMaxAge")||300;let xu=null;const wc=E=>function(){var h=(0,Q.Z)(function*(p){const T=p&&(yield p.getIdTokenResult()),U=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(U&&U>Ys)return;const Y=T?.token;xu!==Y&&(xu=Y,yield fetch(E,{method:Y?"POST":"DELETE",headers:Y?{Authorization:`Bearer ${Y}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function fl(E=(0,xe.Mq)()){const h=(0,xe.qX)(E,"auth");if(h.isInitialized())return h.getImmediate();const p=function ci(E,h){const p=(0,xe.qX)(E,"auth");if(p.isInitialized()){const U=p.getImmediate(),Y=p.getOptions();if((0,fe.vZ)(Y,h??{}))return U;gt(U,"already-initialized")}return p.initialize({options:h})}(E,{popupRedirectResolver:yd,persistence:[no,gn,la]}),T=(0,fe.Pz)("authTokenSyncURL");if(T){const Y=wc(T);(function cc(E,h,p){(0,fe.m9)(E).beforeAuthStateChanged(h,p)})(p,Y,()=>Y(p.currentUser)),function Li(E,h,p,T){(0,fe.m9)(E).onIdTokenChanged(h,p,T)}(p,_e=>Y(_e))}const U=(0,fe.q4)("auth");return U&&function Fo(E,h,p){const T=On(E);Ze(T._canInitEmulator,T,"emulator-config-failed"),Ze(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const U=!!p?.disableWarnings,Y=bo(h),{host:_e,port:ke}=function Eo(E){const h=bo(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(T);if(U){const Y=U[1];return{host:Y,port:os(T.substr(Y.length+1))}}{const[Y,_e]=T.split(":");return{host:Y,port:os(_e)}}}(h);T.config.emulator={url:`${Y}//${_e}${null===ke?"":`:${ke}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:_e,port:ke,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Vs(){function E(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(p,`http://${U}`),p}!function ru(E){(0,xe.Xd)(new te.wA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),U=h.getProvider("heartbeat"),Y=h.getProvider("app-check-internal"),{apiKey:_e,authDomain:ke}=T.options;Ze(_e&&!_e.includes(":"),"invalid-api-key",{appName:T.name});const ct={apiKey:_e,authDomain:ke,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hn(E)},Gt=new vo(T,U,Y,ct);return function ws(E,h){const p=h?.persistence||[],T=(Array.isArray(p)?p:[p]).map(tn);h?.errorMap&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(T,h?.popupRedirectResolver)}(Gt,p),Gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,xe.Xd)(new te.wA("auth-internal",h=>{const p=On(h.getProvider("auth").getImmediate());return new ts(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,xe.KN)(Zs,"1.5.0",function Ch(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,xe.KN)(Zs,"1.5.0","esm2017")}("Browser");class xn{constructor(h){return h}}class pl{constructor(){return(0,m.vb)("auth")}}const Dc=new se.OlP("angularfire2.auth-instances");function bh(E){return(h,p)=>{const T=h.runOutsideAngular(()=>E(p));return new xn(T)}}const ma={provide:pl,deps:[[new se.FiY,Dc]]},Ac={provide:xn,useFactory:function Ah(E,h){const p=(0,m.JM)("auth",E,h);return p&&new xn(p)},deps:[[new se.FiY,Dc],Be.Ot]};let Jf=(()=>{class E{constructor(){(0,M.KN)("angularfire",m.q4.full,"auth")}static \u0275fac=function(T){return new(T||E)};static \u0275mod=se.oAB({type:E});static \u0275inj=se.cJS({providers:[Ac,ma]})}return E})();function Xf(E,...h){return{ngModule:Jf,providers:[{provide:Dc,useFactory:bh(E),multi:!0,deps:[se.R0b,se.zs3,m.HU,Be.z6,[new se.FiY,m.Rf],...h]}]}}const Sc=(0,m.u3)(Zo,!0),Id=(0,m.u3)(fl,!0),Oc=(0,m.u3)(ji,!0)},3960:($t,ze,B)=>{B.d(ze,{gg:()=>_n,ET:()=>Un,BS:()=>Zt,oe:()=>$n,JU:()=>vt,_1:()=>Fr,ad:()=>G,Cm:()=>Ie,IO:()=>Xe,pl:()=>Kr,r7:()=>Ai,ar:()=>On});var m=B(4810),se=B(4946),Be=B(721),M=B(4166),Q=B(3182),fe=B(5776),xe=B(5592),Ce=B(7398),Ve=function(){return Ve=Object.assign||function(ut){for(var Ct,jt=1,Jr=arguments.length;jt<Jr;jt++)for(var Br in Ct=arguments[jt])Object.prototype.hasOwnProperty.call(Ct,Br)&&(ut[Br]=Ct[Br]);return ut},Ve.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ce={includeMetadataChanges:!1};function Pe(It,ut){return void 0===ut&&(ut=ce),new xe.y(function(Ct){return{unsubscribe:(0,fe.cf)(It,ut,{next:Ct.next.bind(Ct),error:Ct.error.bind(Ct),complete:Ct.complete.bind(Ct)})}})}function Qe(It,ut){return void 0===ut&&(ut={}),function tt(It){return Pe(It,{includeMetadataChanges:!0})}(It).pipe((0,Ce.U)(function(Ct){return Je(Ct,ut)}))}function Je(It,ut){var Ct;void 0===ut&&(ut={});var jt=It.data(ut);return It.exists()&&"object"==typeof jt&&null!==jt&&ut.idField?Ve(Ve({},jt),((Ct={})[ut.idField]=It.id,Ct)):jt}function Kt(It,ut){return void 0===ut&&(ut={}),function gt(It){return Pe(It,{includeMetadataChanges:!0}).pipe((0,Ce.U)(function(ut){return ut.docs}))}(It).pipe((0,Ce.U)(function(Ct){return Ct.map(function(jt){return Je(jt,ut)})}))}class _n{constructor(ut){return ut}}const lt="firestore",Rt=new se.OlP("angularfire2.firestore-instances");function pe(It){return(ut,Ct)=>{const jt=ut.runOutsideAngular(()=>It(Ct));return new _n(jt)}}const he={provide:class Xt{constructor(){return(0,m.vb)(lt)}},deps:[[new se.FiY,Rt]]},be={provide:_n,useFactory:function ue(It,ut){const Ct=(0,m.JM)(lt,It,ut);return Ct&&new _n(Ct)},deps:[[new se.FiY,Rt],Be.Ot]};let ve=(()=>{class It{constructor(){(0,Q.KN)("angularfire",m.q4.full,"fst")}static \u0275fac=function(jt){return new(jt||It)};static \u0275mod=se.oAB({type:It});static \u0275inj=se.cJS({providers:[be,he]})}return It})();function Ie(It,...ut){return{ngModule:ve,providers:[{provide:Rt,useFactory:pe(It),multi:!0,deps:[se.R0b,se.zs3,m.HU,Be.z6,[new se.FiY,M.dh],[new se.FiY,m.Rf],...ut]}]}}const Zt=(0,m.u3)(Kt,!0),Fr=(0,m.u3)(Qe,!0),Un=(0,m.u3)(fe.ET,!0),$n=(0,m.u3)(fe.oe,!0),vt=(0,m.u3)(fe.JU,!0),G=(0,m.u3)(fe.ad,!0),Xe=(0,m.u3)(fe.IO,!0),Kr=(0,m.u3)(fe.pl,!0),Ai=(0,m.u3)(fe.r7,!0),On=(0,m.u3)(fe.ar,!0)},4426:($t,ze,B)=>{B.d(ze,{Ke:()=>li,oq:()=>Vi,Jt:()=>uo,cF:()=>ei,e9:()=>br,Vq:()=>Us,iH:()=>Ii,B0:()=>V});var m=B(4810),se=B(4946),Be=B(721),M=B(4166),Q=B(3182),fe=B(5861),xe=B(534),Ce=B(9058),Ve=B(4537);const te="firebasestorage.googleapis.com",ce="storageBucket";class Je extends Ce.ZR{constructor(S,Z,X=0){super(Ht(S),`Firebase Storage: ${Z} (${Ht(S)})`),this.status_=X,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(S){this.status_=S}_codeEquals(S){return Ht(S)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(S){this.customData.serverResponse=S,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Pt=function(I){return I.UNKNOWN="unknown",I.OBJECT_NOT_FOUND="object-not-found",I.BUCKET_NOT_FOUND="bucket-not-found",I.PROJECT_NOT_FOUND="project-not-found",I.QUOTA_EXCEEDED="quota-exceeded",I.UNAUTHENTICATED="unauthenticated",I.UNAUTHORIZED="unauthorized",I.UNAUTHORIZED_APP="unauthorized-app",I.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",I.INVALID_CHECKSUM="invalid-checksum",I.CANCELED="canceled",I.INVALID_EVENT_NAME="invalid-event-name",I.INVALID_URL="invalid-url",I.INVALID_DEFAULT_BUCKET="invalid-default-bucket",I.NO_DEFAULT_BUCKET="no-default-bucket",I.CANNOT_SLICE_BLOB="cannot-slice-blob",I.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",I.NO_DOWNLOAD_URL="no-download-url",I.INVALID_ARGUMENT="invalid-argument",I.INVALID_ARGUMENT_COUNT="invalid-argument-count",I.APP_DELETED="app-deleted",I.INVALID_ROOT_OPERATION="invalid-root-operation",I.INVALID_FORMAT="invalid-format",I.INTERNAL_ERROR="internal-error",I.UNSUPPORTED_ENVIRONMENT="unsupported-environment",I}(Pt||{});function Ht(I){return"storage/"+I}function wt(){return new Je(Pt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function at(){return new Je(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gt(){return new Je(Pt.CANCELED,"User canceled the upload/download.")}function Cn(){return new Je(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xt(I){return new Je(Pt.INVALID_ARGUMENT,I)}function Ae(){return new Je(Pt.APP_DELETED,"The Firebase app was deleted.")}function ue(I,S){return new Je(Pt.INVALID_FORMAT,"String does not match format '"+I+"': "+S)}function pe(I){throw new Je(Pt.INTERNAL_ERROR,"Internal error: "+I)}class he{constructor(S,Z){this.bucket=S,this.path_=Z}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const S=encodeURIComponent;return"/b/"+S(this.bucket)+"/o/"+S(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(S,Z){let X;try{X=he.makeFromUrl(S,Z)}catch{return new he(S,"")}if(""===X.path)return X;throw function st(I){return new Je(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+I+"'.")}(S)}static makeFromUrl(S,Z){let X=null;const ye="([A-Za-z0-9.\\-_]+)",Mt=new RegExp("^gs://"+ye+"(/(.*))?$","i");function fn(Zn){Zn.path_=decodeURIComponent(Zn.path)}const Vr=Z.replace(/[.]/g,"\\."),Lr=[{regex:Mt,indices:{bucket:1,path:3},postModify:function $e(Zn){"/"===Zn.path.charAt(Zn.path.length-1)&&(Zn.path_=Zn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Vr}/v[A-Za-z0-9_]+/b/${ye}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:fn},{regex:new RegExp(`^https?://${Z===te?"(?:storage.googleapis.com|storage.cloud.google.com)":Z}/${ye}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:fn}];for(let Zn=0;Zn<Lr.length;Zn++){const ms=Lr[Zn],fi=ms.regex.exec(S);if(fi){let An=fi[ms.indices.path];An||(An=""),X=new he(fi[ms.indices.bucket],An),ms.postModify(X);break}}if(null==X)throw function rt(I){return new Je(Pt.INVALID_URL,"Invalid URL '"+I+"'.")}(S);return X}}class be{constructor(S){this.promise_=Promise.reject(S)}getPromise(){return this.promise_}cancel(S=!1){}}function ht(I){return"string"==typeof I||I instanceof String}function Zt(I){return bn()&&I instanceof Blob}function bn(){return typeof Blob<"u"}function yn(I,S,Z,X){if(X<S)throw Xt(`Invalid value for '${I}'. Expected ${S} or greater.`);if(X>Z)throw Xt(`Invalid value for '${I}'. Expected ${Z} or less.`)}function Sn(I,S,Z){let X=S;return null==Z&&(X=`https://${S}`),`${Z}://${X}/v0${I}`}function Fr(I){const S=encodeURIComponent;let Z="?";for(const X in I)I.hasOwnProperty(X)&&(Z=Z+(S(X)+"=")+S(I[X])+"&");return Z=Z.slice(0,-1),Z}var Pn=function(I){return I[I.NO_ERROR=0]="NO_ERROR",I[I.NETWORK_ERROR=1]="NETWORK_ERROR",I[I.ABORT=2]="ABORT",I}(Pn||{});function Rr(I,S){const Z=I>=500&&I<600,ye=-1!==[408,429].indexOf(I),$e=-1!==S.indexOf(I);return Z||ye||$e}class Un{constructor(S,Z,X,ye,$e,dt,Mt,St,fn,Tn,Vr,ii=!0){this.url_=S,this.method_=Z,this.headers_=X,this.body_=ye,this.successCodes_=$e,this.additionalRetryCodes_=dt,this.callback_=Mt,this.errorCallback_=St,this.timeout_=fn,this.progressCallback_=Tn,this.connectionFactory_=Vr,this.retry=ii,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((hi,jr)=>{this.resolve_=hi,this.reject_=jr,this.start_()})}start_(){const Z=(X,ye)=>{const $e=this.resolve_,dt=this.reject_,Mt=ye.connection;if(ye.wasSuccessCode)try{const St=this.callback_(Mt,Mt.getResponse());!function Ue(I){return void 0!==I}(St)?$e():$e(St)}catch(St){dt(St)}else if(null!==Mt){const St=wt();St.serverResponse=Mt.getErrorText(),dt(this.errorCallback_?this.errorCallback_(Mt,St):St)}else dt(ye.canceled?this.appDelete_?Ae():gt():at())};this.canceled_?Z(0,new zt(!1,null,!0)):this.backoffId_=function ve(I,S,Z){let X=1,ye=null,$e=null,dt=!1,Mt=0;function St(){return 2===Mt}let fn=!1;function Tn(...$r){fn||(fn=!0,S.apply(null,$r))}function Vr($r){ye=setTimeout(()=>{ye=null,I(hi,St())},$r)}function ii(){$e&&clearTimeout($e)}function hi($r,...Yr){if(fn)return void ii();if($r)return ii(),void Tn.call(null,$r,...Yr);if(St()||dt)return ii(),void Tn.call(null,$r,...Yr);let Lr;X<64&&(X*=2),1===Mt?(Mt=2,Lr=0):Lr=1e3*(X+Math.random()),Vr(Lr)}let jr=!1;function co($r){jr||(jr=!0,ii(),!fn&&(null!==ye?($r||(Mt=2),clearTimeout(ye),Vr(0)):$r||(Mt=1)))}return Vr(0),$e=setTimeout(()=>{dt=!0,co(!0)},Z),co}((X,ye)=>{if(ye)return void X(!1,new zt(!1,null,!0));const $e=this.connectionFactory_();this.pendingConnection_=$e;const dt=Mt=>{null!==this.progressCallback_&&this.progressCallback_(Mt.loaded,Mt.lengthComputable?Mt.total:-1)};null!==this.progressCallback_&&$e.addUploadProgressListener(dt),$e.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&$e.removeUploadProgressListener(dt),this.pendingConnection_=null;const Mt=$e.getErrorCode()===Pn.NO_ERROR,St=$e.getStatus();if(!Mt||Rr(St,this.additionalRetryCodes_)&&this.retry){const Tn=$e.getErrorCode()===Pn.ABORT;return void X(!1,new zt(!1,null,Tn))}const fn=-1!==this.successCodes_.indexOf(St);X(!0,new zt(fn,$e))})},Z,this.timeout_)}getPromise(){return this.promise_}cancel(S){this.canceled_=!0,this.appDelete_=S||!1,null!==this.backoffId_&&function Ie(I){I(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zt{constructor(S,Z,X){this.wasSuccessCode=S,this.connection=Z,this.canceled=!!X}}function Jt(...I){const S=function ln(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==S){const Z=new S;for(let X=0;X<I.length;X++)Z.append(I[X]);return Z.getBlob()}if(bn())return new Blob(I);throw new Je(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Jn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qn{constructor(S,Z){this.data=S,this.contentType=Z||null}}function Ci(I){const S=[];for(let Z=0;Z<I.length;Z++){let X=I.charCodeAt(Z);X<=127?S.push(X):X<=2047?S.push(192|X>>6,128|63&X):55296==(64512&X)?Z<I.length-1&&56320==(64512&I.charCodeAt(Z+1))?(X=65536|(1023&X)<<10|1023&I.charCodeAt(++Z),S.push(240|X>>18,128|X>>12&63,128|X>>6&63,128|63&X)):S.push(239,191,189):56320==(64512&X)?S.push(239,191,189):S.push(224|X>>12,128|X>>6&63,128|63&X)}return new Uint8Array(S)}function yo(I,S){switch(I){case Jn.BASE64:{const ye=-1!==S.indexOf("-"),$e=-1!==S.indexOf("_");if(ye||$e)throw ue(I,"Invalid character '"+(ye?"-":"_")+"' found: is it base64url encoded?");break}case Jn.BASE64URL:{const ye=-1!==S.indexOf("+"),$e=-1!==S.indexOf("/");if(ye||$e)throw ue(I,"Invalid character '"+(ye?"+":"/")+"' found: is it base64 encoded?");S=S.replace(/-/g,"+").replace(/_/g,"/");break}}let Z;try{Z=function ni(I){if(typeof atob>"u")throw function lt(I){return new Je(Pt.UNSUPPORTED_ENVIRONMENT,`${I} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(I)}(S)}catch(ye){throw ye.message.includes("polyfill")?ye:ue(I,"Invalid character found")}const X=new Uint8Array(Z.length);for(let ye=0;ye<Z.length;ye++)X[ye]=Z.charCodeAt(ye);return X}class vt{constructor(S){this.base64=!1,this.contentType=null;const Z=S.match(/^data:([^,]+)?,/);if(null===Z)throw ue(Jn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const X=Z[1]||null;null!=X&&(this.base64=function Tr(I,S){return I.length>=S.length&&I.substring(I.length-S.length)===S}(X,";base64"),this.contentType=this.base64?X.substring(0,X.length-7):X),this.rest=S.substring(S.indexOf(",")+1)}}class pn{constructor(S,Z){let X=0,ye="";Zt(S)?(this.data_=S,X=S.size,ye=S.type):S instanceof ArrayBuffer?(Z?this.data_=new Uint8Array(S):(this.data_=new Uint8Array(S.byteLength),this.data_.set(new Uint8Array(S))),X=this.data_.length):S instanceof Uint8Array&&(Z?this.data_=S:(this.data_=new Uint8Array(S.length),this.data_.set(S)),X=S.length),this.size_=X,this.type_=ye}size(){return this.size_}type(){return this.type_}slice(S,Z){if(Zt(this.data_)){const ye=function rr(I,S,Z){return I.webkitSlice?I.webkitSlice(S,Z):I.mozSlice?I.mozSlice(S,Z):I.slice?I.slice(S,Z):null}(this.data_,S,Z);return null===ye?null:new pn(ye)}{const X=new Uint8Array(this.data_.buffer,S,Z-S);return new pn(X,!0)}}static getBlob(...S){if(bn()){const Z=S.map(X=>X instanceof pn?X.data_:X);return new pn(Jt.apply(null,Z))}{const Z=S.map(dt=>ht(dt)?function $n(I,S){switch(I){case Jn.RAW:return new qn(Ci(S));case Jn.BASE64:case Jn.BASE64URL:return new qn(yo(I,S));case Jn.DATA_URL:return new qn(function Ni(I){const S=new vt(I);return S.base64?yo(Jn.BASE64,S.rest):function Gn(I){let S;try{S=decodeURIComponent(I)}catch{throw ue(Jn.DATA_URL,"Malformed data URL.")}return Ci(S)}(S.rest)}(S),function si(I){return new vt(I).contentType}(S))}throw wt()}(Jn.RAW,dt).data:dt.data_);let X=0;Z.forEach(dt=>{X+=dt.byteLength});const ye=new Uint8Array(X);let $e=0;return Z.forEach(dt=>{for(let Mt=0;Mt<dt.length;Mt++)ye[$e++]=dt[Mt]}),new pn(ye,!0)}}uploadData(){return this.data_}}function En(I){let S;try{S=JSON.parse(I)}catch{return null}return function mt(I){return"object"==typeof I&&!Array.isArray(I)}(S)?S:null}function ki(I){const S=I.lastIndexOf("/",I.length-2);return-1===S?I:I.slice(S+1)}function qt(I,S){return S}class ir{constructor(S,Z,X,ye){this.server=S,this.local=Z||S,this.writable=!!X,this.xform=ye||qt}}let wr=null;function le(){if(wr)return wr;const I=[];I.push(new ir("bucket")),I.push(new ir("generation")),I.push(new ir("metageneration")),I.push(new ir("name","fullPath",!0));const Z=new ir("name");Z.xform=function S($e,dt){return function ui(I){return!ht(I)||I.length<2?I:ki(I)}(dt)},I.push(Z);const ye=new ir("size");return ye.xform=function X($e,dt){return void 0!==dt?Number(dt):dt},I.push(ye),I.push(new ir("timeCreated")),I.push(new ir("updated")),I.push(new ir("md5Hash",null,!0)),I.push(new ir("cacheControl",null,!0)),I.push(new ir("contentDisposition",null,!0)),I.push(new ir("contentEncoding",null,!0)),I.push(new ir("contentLanguage",null,!0)),I.push(new ir("contentType",null,!0)),I.push(new ir("metadata","customMetadata",!0)),wr=I,wr}function G(I,S,Z){const X=En(S);return null===X?null:function q(I,S,Z){const X={type:"file"},ye=Z.length;for(let $e=0;$e<ye;$e++){const dt=Z[$e];X[dt.local]=dt.xform(X,S[dt.server])}return function W(I,S){Object.defineProperty(I,"ref",{get:function Z(){const $e=new he(I.bucket,I.fullPath);return S._makeStorageReference($e)}})}(X,I),X}(I,X,Z)}function Te(I,S){const Z={},X=S.length;for(let ye=0;ye<X;ye++){const $e=S[ye];$e.writable&&(Z[$e.server]=I[$e.local])}return JSON.stringify(Z)}class tn{constructor(S,Z,X,ye){this.url=S,this.method=Z,this.handler=X,this.timeout=ye,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qt(I){if(!I)throw wt()}function Kn(I,S){return function Z(X,ye){const $e=G(I,ye,S);return Qt(null!==$e),$e}}function de(I){return function S(Z,X){let ye;return ye=401===Z.getStatus()?Z.getErrorText().includes("Firebase App Check token is invalid")?function Ke(){return new Je(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Le(){return new Je(Pt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Z.getStatus()?function Wt(I){return new Je(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+I+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(I.bucket):403===Z.getStatus()?function Ge(I){return new Je(Pt.UNAUTHORIZED,"User does not have permission to access '"+I+"'.")}(I.path):X,ye.status=Z.getStatus(),ye.serverResponse=X.serverResponse,ye}}function re(I){const S=de(I);return function Z(X,ye){let $e=S(X,ye);return 404===X.getStatus()&&($e=function mn(I){return new Je(Pt.OBJECT_NOT_FOUND,"Object '"+I+"' does not exist.")}(I.path)),$e.serverResponse=ye.serverResponse,$e}}function dn(I,S,Z){const X=Object.assign({},Z);return X.fullPath=I.path,X.size=S.size(),X.contentType||(X.contentType=function Bn(I,S){return I&&I.contentType||S&&S.type()||"application/octet-stream"}(null,S)),X}class Kr{constructor(S,Z,X,ye){this.current=S,this.total=Z,this.finalized=!!X,this.metadata=ye||null}}function Di(I,S){let Z=null;try{Z=I.getResponseHeader("X-Goog-Upload-Status")}catch{Qt(!1)}return Qt(!!Z&&-1!==(S||["active"]).indexOf(Z)),Z}function Ai(I){switch(I){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class vo{constructor(S,Z,X){if(function He(I){return"function"==typeof I}(S)||null!=Z||null!=X)this.next=S,this.error=Z??void 0,this.complete=X??void 0;else{const $e=S;this.next=$e.next,this.error=$e.error,this.complete=$e.complete}}}function On(I){return(...S)=>{Promise.resolve().then(()=>I(...S))}}let bi=null;class It{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pn.NO_ERROR,this.sendPromise_=new Promise(S=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pn.ABORT,S()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pn.NETWORK_ERROR,S()}),this.xhr_.addEventListener("load",()=>{S()})})}send(S,Z,X,ye){if(this.sent_)throw pe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Z,S,!0),void 0!==ye)for(const $e in ye)ye.hasOwnProperty($e)&&this.xhr_.setRequestHeader($e,ye[$e].toString());return void 0!==X?this.xhr_.send(X):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pe("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(S){return this.xhr_.getResponseHeader(S)}addUploadProgressListener(S){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",S)}removeUploadProgressListener(S){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",S)}}class ut extends It{initXhr(){this.xhr_.responseType="text"}}function Ct(){return bi?bi():new ut}class so{constructor(S,Z,X=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=S,this._blob=Z,this._metadata=X,this._mappings=le(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ye=>{if(this._request=void 0,this._chunkMultiplier=1,ye._codeEquals(Pt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const $e=this.isExponentialBackoffExpired();if(Rr(ye.status,[])){if(!$e)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();ye=at()}this._error=ye,this._transition("error")}},this._metadataErrorHandler=ye=>{this._request=void 0,ye._codeEquals(Pt.CANCELED)?this.completeTransitions_():(this._error=ye,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((ye,$e)=>{this._resolve=ye,this._reject=$e,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const S=this._transferred;return Z=>this._updateProgress(S+Z)}_shouldDoResumable(S){return S.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(S){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Z,X])=>{switch(this._state){case"running":S(Z,X);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((S,Z)=>{const X=function an(I,S,Z,X,ye){const $e=S.bucketOnlyServerUrl(),dt=dn(S,X,ye),Mt={name:dt.fullPath},St=Sn($e,I.host,I._protocol),Tn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${X.size()}`,"X-Goog-Upload-Header-Content-Type":dt.contentType,"Content-Type":"application/json; charset=utf-8"},Vr=Te(dt,Z),jr=new tn(St,"POST",function hi(co){let $r;Di(co);try{$r=co.getResponseHeader("X-Goog-Upload-URL")}catch{Qt(!1)}return Qt(ht($r)),$r},I.maxUploadRetryTime);return jr.urlParams=Mt,jr.headers=Tn,jr.body=Vr,jr.errorHandler=de(S),jr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ye=this._ref.storage._makeRequest(X,Ct,S,Z);this._request=ye,ye.getPromise().then($e=>{this._request=void 0,this._uploadUrl=$e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const S=this._uploadUrl;this._resolveToken((Z,X)=>{const ye=function Hn(I,S,Z,X){const St=new tn(Z,"POST",function $e(fn){const Tn=Di(fn,["active","final"]);let Vr=null;try{Vr=fn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qt(!1)}Vr||Qt(!1);const ii=Number(Vr);return Qt(!isNaN(ii)),new Kr(ii,X.size(),"final"===Tn)},I.maxUploadRetryTime);return St.headers={"X-Goog-Upload-Command":"query"},St.errorHandler=de(S),St}(this._ref.storage,this._ref._location,S,this._blob),$e=this._ref.storage._makeRequest(ye,Ct,Z,X);this._request=$e,$e.getPromise().then(dt=>{this._request=void 0,this._updateProgress(dt.current),this._needToFetchStatus=!1,dt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const S=262144*this._chunkMultiplier,Z=new Kr(this._transferred,this._blob.size()),X=this._uploadUrl;this._resolveToken((ye,$e)=>{let dt;try{dt=function Qr(I,S,Z,X,ye,$e,dt,Mt){const St=new Kr(0,0);if(dt?(St.current=dt.current,St.total=dt.total):(St.current=0,St.total=X.size()),X.size()!==St.total)throw function Ze(){return new Je(Pt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const fn=St.total-St.current;let Tn=fn;ye>0&&(Tn=Math.min(Tn,ye));const Vr=St.current;let hi="";hi=0===Tn?"finalize":fn===Tn?"upload, finalize":"upload";const jr={"X-Goog-Upload-Command":hi,"X-Goog-Upload-Offset":`${St.current}`},co=X.slice(Vr,Vr+Tn);if(null===co)throw Cn();const Lr=new tn(Z,"POST",function $r(Zn,ms){const fi=Di(Zn,["active","final"]),oi=St.current+Tn,An=X.size();let eo;return eo="final"===fi?Kn(S,$e)(Zn,ms):null,new Kr(oi,An,"final"===fi,eo)},S.maxUploadRetryTime);return Lr.headers=jr,Lr.body=co.uploadData(),Lr.progressCallback=Mt||null,Lr.errorHandler=de(I),Lr}(this._ref._location,this._ref.storage,X,this._blob,S,this._mappings,Z,this._makeProgressCallback())}catch(St){return this._error=St,void this._transition("error")}const Mt=this._ref.storage._makeRequest(dt,Ct,ye,$e,!1);this._request=Mt,Mt.getPromise().then(St=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(St.current),St.finalized?(this._metadata=St.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((S,Z)=>{const X=function ie(I,S,Z){const ye=Sn(S.fullServerUrl(),I.host,I._protocol),dt=I.maxOperationRetryTime,Mt=new tn(ye,"GET",Kn(I,Z),dt);return Mt.errorHandler=re(S),Mt}(this._ref.storage,this._ref._location,this._mappings),ye=this._ref.storage._makeRequest(X,Ct,S,Z);this._request=ye,ye.getPromise().then($e=>{this._request=void 0,this._metadata=$e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((S,Z)=>{const X=function Cr(I,S,Z,X,ye){const $e=S.bucketOnlyServerUrl(),dt={"X-Goog-Upload-Protocol":"multipart"},St=function Mt(){let Lr="";for(let Zn=0;Zn<2;Zn++)Lr+=Math.random().toString().slice(2);return Lr}();dt["Content-Type"]="multipart/related; boundary="+St;const fn=dn(S,X,ye),Tn=Te(fn,Z),hi=pn.getBlob("--"+St+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Tn+"\r\n--"+St+"\r\nContent-Type: "+fn.contentType+"\r\n\r\n",X,"\r\n--"+St+"--");if(null===hi)throw Cn();const jr={name:fn.fullPath},co=Sn($e,I.host,I._protocol),Yr=I.maxUploadRetryTime,lo=new tn(co,"POST",Kn(I,Z),Yr);return lo.urlParams=jr,lo.headers=dt,lo.body=hi.uploadData(),lo.errorHandler=de(S),lo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ye=this._ref.storage._makeRequest(X,Ct,S,Z);this._request=ye,ye.getPromise().then($e=>{this._request=void 0,this._metadata=$e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(S){const Z=this._transferred;this._transferred=S,this._transferred!==Z&&this._notifyObservers()}_transition(S){if(this._state!==S)switch(S){case"canceling":case"pausing":this._state=S,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Z="paused"===this._state;this._state=S,Z&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=S,this._notifyObservers();break;case"canceled":this._error=gt(),this._state=S,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const S=Ai(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:S,metadata:this._metadata,task:this,ref:this._ref}}on(S,Z,X,ye){const $e=new vo(Z||void 0,X||void 0,ye||void 0);return this._addObserver($e),()=>{this._removeObserver($e)}}then(S,Z){return this._promise.then(S,Z)}catch(S){return this.then(null,S)}_addObserver(S){this._observers.push(S),this._notifyObserver(S)}_removeObserver(S){const Z=this._observers.indexOf(S);-1!==Z&&this._observers.splice(Z,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Z=>{this._notifyObserver(Z)})}_finishPromise(){if(void 0!==this._resolve){let S=!0;switch(Ai(this._state)){case"success":On(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":On(this._reject.bind(null,this._error))();break;default:S=!1}S&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(S){switch(Ai(this._state)){case"running":case"paused":S.next&&On(S.next.bind(S,this.snapshot))();break;case"success":S.complete&&On(S.complete.bind(S))();break;default:S.error&&On(S.error.bind(S,this._error))()}}resume(){const S="paused"===this._state||"pausing"===this._state;return S&&this._transition("running"),S}pause(){const S="running"===this._state;return S&&this._transition("pausing"),S}cancel(){const S="running"===this._state||"pausing"===this._state;return S&&this._transition("canceling"),S}}class Pr{constructor(S,Z){this._service=S,this._location=Z instanceof he?Z:he.makeFromUrl(Z,S.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(S,Z){return new Pr(S,Z)}get root(){const S=new he(this._location.bucket,"");return this._newRef(this._service,S)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ki(this._location.path)}get storage(){return this._service}get parent(){const S=function kt(I){if(0===I.length)return null;const S=I.lastIndexOf("/");return-1===S?"":I.slice(0,S)}(this._location.path);if(null===S)return null;const Z=new he(this._location.bucket,S);return new Pr(this._service,Z)}_throwIfRoot(S){if(""===this._location.path)throw function Rt(I){return new Je(Pt.INVALID_ROOT_OPERATION,"The operation '"+I+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(S)}}function Cs(I){I._throwIfRoot("getDownloadURL");const S=function Ot(I,S,Z){const ye=Sn(S.fullServerUrl(),I.host,I._protocol),dt=I.maxOperationRetryTime,Mt=new tn(ye,"GET",function ae(I,S){return function Z(X,ye){const $e=G(I,ye,S);return Qt(null!==$e),function K(I,S,Z,X){const ye=En(S);if(null===ye||!ht(ye.downloadTokens))return null;const $e=ye.downloadTokens;if(0===$e.length)return null;const dt=encodeURIComponent;return $e.split(",").map(fn=>{const Vr=I.fullPath;return Sn("/b/"+dt(I.bucket)+"/o/"+dt(Vr),Z,X)+Fr({alt:"media",token:fn})})[0]}($e,ye,I.host,I._protocol)}}(I,Z),dt);return Mt.errorHandler=re(S),Mt}(I.storage,I._location,le());return I.storage.makeRequestWithTokens(S,Ct).then(Z=>{if(null===Z)throw function _n(){return new Je(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return Z})}function Zi(I,S){if(I instanceof Xn){const Z=I;if(null==Z._bucket)throw function Kt(){return new Je(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ce+"' property when initializing the app?")}();const X=new Pr(Z,Z._bucket);return null!=S?Zi(X,S):X}return void 0!==S?function as(I,S){const Z=function ai(I,S){const Z=S.split("/").filter(X=>X.length>0).join("/");return 0===I.length?Z:I+"/"+Z}(I._location.path,S),X=new he(I._location.bucket,Z);return new Pr(I.storage,X)}(I,S):I}function Vo(I,S){const Z=S?.[ce];return null==Z?null:he.makeFromBucketSpec(Z,I)}class Xn{constructor(S,Z,X,ye,$e){this.app=S,this._authProvider=Z,this._appCheckProvider=X,this._url=ye,this._firebaseVersion=$e,this._bucket=null,this._host=te,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ye?he.makeFromBucketSpec(ye,this._host):Vo(this._host,this.app.options)}get host(){return this._host}set host(S){this._host=S,this._bucket=null!=this._url?he.makeFromBucketSpec(this._url,S):Vo(S,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(S){yn("time",0,Number.POSITIVE_INFINITY,S),this._maxUploadRetryTime=S}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(S){yn("time",0,Number.POSITIVE_INFINITY,S),this._maxOperationRetryTime=S}_getAuthToken(){var S=this;return(0,fe.Z)(function*(){if(S._overrideAuthToken)return S._overrideAuthToken;const Z=S._authProvider.getImmediate({optional:!0});if(Z){const X=yield Z.getToken();if(null!==X)return X.accessToken}return null})()}_getAppCheckToken(){var S=this;return(0,fe.Z)(function*(){const Z=S._appCheckProvider.getImmediate({optional:!0});return Z?(yield Z.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(S=>S.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(S){return new Pr(this,S)}_makeRequest(S,Z,X,ye,$e=!0){if(this._deleted)return new be(Ae());{const dt=function dr(I,S,Z,X,ye,$e,dt=!0){const Mt=Fr(I.urlParams),St=I.url+Mt,fn=Object.assign({},I.headers);return function ti(I,S){S&&(I["X-Firebase-GMPID"]=S)}(fn,S),function Er(I,S){null!==S&&S.length>0&&(I.Authorization="Firebase "+S)}(fn,Z),function Ut(I,S){I["X-Firebase-Storage-Version"]="webjs/"+(S??"AppManager")}(fn,$e),function Dn(I,S){null!==S&&(I["X-Firebase-AppCheck"]=S)}(fn,X),new Un(St,I.method,fn,I.body,I.successCodes,I.additionalRetryCodes,I.handler,I.errorHandler,I.timeout,I.progressCallback,ye,dt)}(S,this._appId,X,ye,Z,this._firebaseVersion,$e);return this._requests.add(dt),dt.getPromise().then(()=>this._requests.delete(dt),()=>this._requests.delete(dt)),dt}}makeRequestWithTokens(S,Z){var X=this;return(0,fe.Z)(function*(){const[ye,$e]=yield Promise.all([X._getAuthToken(),X._getAppCheckToken()]);return X._makeRequest(S,Z,ye,$e).getPromise()})()}}const Hi="@firebase/storage",Yi="storage";function Qi(I,S,Z){return function ko(I,S,Z){return I._throwIfRoot("uploadBytesResumable"),new so(I,new pn(S),Z)}(I=(0,Ce.m9)(I),S,Z)}function Ls(I){return Cs(I=(0,Ce.m9)(I))}function So(I){return function ss(I){I._throwIfRoot("deleteObject");const S=function Bt(I,S){const X=Sn(S.fullServerUrl(),I.host,I._protocol),Mt=new tn(X,"DELETE",function dt(St,fn){},I.maxOperationRetryTime);return Mt.successCodes=[200,204],Mt.errorHandler=re(S),Mt}(I.storage,I._location);return I.storage.makeRequestWithTokens(S,Ct)}(I=(0,Ce.m9)(I))}function Dr(I,S){return function Io(I,S){if(S&&function Da(I){return/^[A-Za-z]+:\/\//.test(I)}(S)){if(I instanceof Xn)return function Ki(I,S){return new Pr(I,S)}(I,S);throw Xt("To use ref(service, url), the first argument must be a Storage instance.")}return Zi(I,S)}(I=(0,Ce.m9)(I),S)}function hn(I=(0,xe.Mq)(),S){I=(0,Ce.m9)(I);const X=(0,xe.qX)(I,Yi).getImmediate({identifier:S}),ye=(0,Ce.P0)("storage");return ye&&function zn(I,S,Z,X={}){!function Go(I,S,Z,X={}){I.host=`${S}:${Z}`,I._protocol="http";const{mockUserToken:ye}=X;ye&&(I._overrideAuthToken="string"==typeof ye?ye:(0,Ce.Sg)(ye,I.app.options.projectId))}(I,S,Z,X)}(X,...ye),X}function Zr(I,{instanceIdentifier:S}){const Z=I.getProvider("app").getImmediate(),X=I.getProvider("auth-internal"),ye=I.getProvider("app-check-internal");return new Xn(Z,X,ye,S,xe.Jn)}!function zi(){(0,xe.Xd)(new Ve.wA(Yi,Zr,"PUBLIC").setMultipleInstances(!0)),(0,xe.KN)(Hi,"0.12.0",""),(0,xe.KN)(Hi,"0.12.0","esm2017")}();var fr=B(5592),ao=B(2459),Fi=B(7398);function Gi(I){return function nn(I){return new fr.y(function(S){var Z=null,X=!1,ye=!1,$e=null,dt=function(fn){Z=fn,St()},Mt=null,St=function(){Mt||(Mt=setTimeout(function(){Mt=null,Z&&S.next(Z),X&&S.complete(),ye&&S.error($e)}))};S.add(function(){Mt&&clearTimeout(Mt)}),dt(I.snapshot),S.add(I.on("state_changed",dt)),S.add((0,ao.D)(I).subscribe({next:dt,error:function(fn){ye=!0,$e=fn,St()},complete:function(){X=!0,St()}}))})}(I).pipe((0,Fi.U)(function(S){return{progress:S.bytesTransferred/S.totalBytes*100,snapshot:S}}))}class li{constructor(S){return S}}const di="storage",Pi=new se.OlP("angularfire2.storage-instances");function ps(I){return(S,Z)=>{const X=S.runOutsideAngular(()=>I(Z));return new li(X)}}const er={provide:class Xi{constructor(){return(0,m.vb)(di)}},deps:[[new se.FiY,Pi]]},Nn={provide:li,useFactory:function ri(I,S){const Z=(0,m.JM)(di,I,S);return Z&&new li(Z)},deps:[[new se.FiY,Pi],Be.Ot]};let Ga=(()=>{class I{constructor(){(0,Q.KN)("angularfire",m.q4.full,"gcs")}static \u0275fac=function(X){return new(X||I)};static \u0275mod=se.oAB({type:I});static \u0275inj=se.cJS({providers:[Nn,er]})}return I})();function Us(I,...S){return{ngModule:Ga,providers:[{provide:Pi,useFactory:ps(I),multi:!0,deps:[se.R0b,se.zs3,m.HU,Be.z6,[new se.FiY,M.dh],[new se.FiY,m.Rf],...S]}]}}const br=(0,m.u3)(Gi,!0),Vi=(0,m.u3)(So,!0),uo=(0,m.u3)(Ls,!0),ei=(0,m.u3)(hn,!0),Ii=(0,m.u3)(Dr,!0),V=(0,m.u3)(Qi,!0)},4810:($t,ze,B)=>{B.d(ze,{q4:()=>Le,HU:()=>Ze,Rf:()=>gt,vb:()=>at,JM:()=>Ge,u3:()=>be});var m=B(4946),se=B(3182),Be=B(7394);class M extends Be.w0{constructor(Ie,Ue){super()}schedule(Ie,Ue=0){return this}}const Q={setInterval(ve,Ie,...Ue){const{delegate:He}=Q;return He?.setInterval?He.setInterval(ve,Ie,...Ue):setInterval(ve,Ie,...Ue)},clearInterval(ve){const{delegate:Ie}=Q;return(Ie?.clearInterval||clearInterval)(ve)},delegate:void 0};var fe=B(9039);class xe extends M{constructor(Ie,Ue){super(Ie,Ue),this.scheduler=Ie,this.work=Ue,this.pending=!1}schedule(Ie,Ue=0){var He;if(this.closed)return this;this.state=Ie;const mt=this.id,ht=this.scheduler;return null!=mt&&(this.id=this.recycleAsyncId(ht,mt,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(ht,this.id,Ue),this}requestAsyncId(Ie,Ue,He=0){return Q.setInterval(Ie.flush.bind(Ie,this),He)}recycleAsyncId(Ie,Ue,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return Ue;null!=Ue&&Q.clearInterval(Ue)}execute(Ie,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(Ie,Ue);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Ue){let mt,He=!1;try{this.work(Ie)}catch(ht){He=!0,mt=ht||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),mt}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Ue}=this,{actions:He}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(He,this),null!=Ie&&(this.id=this.recycleAsyncId(Ue,Ie,null)),this.delay=null,super.unsubscribe()}}}const Ve={now:()=>(Ve.delegate||Date).now(),delegate:void 0};class te{constructor(Ie,Ue=te.now){this.schedulerActionCtor=Ie,this.now=Ue}schedule(Ie,Ue=0,He){return new this.schedulerActionCtor(this,Ie).schedule(He,Ue)}}te.now=Ve.now;class ce extends te{constructor(Ie,Ue=te.now){super(Ie,Ue),this.actions=[],this._active=!1}flush(Ie){const{actions:Ue}=this;if(this._active)return void Ue.push(Ie);let He;this._active=!0;do{if(He=Ie.execute(Ie.state,Ie.delay))break}while(Ie=Ue.shift());if(this._active=!1,He){for(;Ie=Ue.shift();)Ie.unsubscribe();throw He}}}const tt=new class Pe extends ce{}(class Ce extends xe{constructor(Ie,Ue){super(Ie,Ue),this.scheduler=Ie,this.work=Ue}schedule(Ie,Ue=0){return Ue>0?super.schedule(Ie,Ue):(this.delay=Ue,this.state=Ie,this.scheduler.flush(this),this)}execute(Ie,Ue){return Ue>0||this.closed?super.execute(Ie,Ue):this._execute(Ie,Ue)}requestAsyncId(Ie,Ue,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(Ie,Ue,He):(Ie.flush(this),0)}}),Je=new ce(xe);var Ht=B(5592),wt=B(9397),mn=B(5137),Wt=B(3093);const Le=new m.GfV("ANGULARFIRE2_VERSION");function Ge(ve,Ie,Ue){if(Ie){if(1===Ie.length)return Ie[0];const ht=Ie.filter(Zt=>Zt.app===Ue);if(1===ht.length)return ht[0]}return Ue.container.getProvider(ve).getImmediate({optional:!0})}const at=(ve,Ie)=>{const Ue=Ie?[Ie]:(0,se.C6)(),He=[];return Ue.forEach(mt=>{mt.container.getProvider(ve).instances.forEach(Zt=>{He.includes(Zt)||He.push(Zt)})}),He};class gt{constructor(){return at(rt)}}const rt="app-check";function st(){}class Kt{zone;delegate;constructor(Ie,Ue=tt){this.zone=Ie,this.delegate=Ue}now(){return this.delegate.now()}schedule(Ie,Ue,He){const mt=this.zone;return this.delegate.schedule(function(Zt){mt.runGuarded(()=>{Ie.apply(this,[Zt])})},Ue,He)}}class Cn{zone;task=null;constructor(Ie){this.zone=Ie}call(Ie,Ue){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",st,{},st,st)),Ue.pipe((0,wt.b)({next:He,complete:He,error:He})).subscribe(Ie).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ze=(()=>{class ve{ngZone;outsideAngular;insideAngular;constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new Kt(Zone.current)),this.insideAngular=Ue.run(()=>new Kt(Zone.current,Je)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(He){return new(He||ve)(m.LFG(m.R0b))};static \u0275prov=m.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();function _n(){const ve=globalThis.\u0275AngularFireScheduler;if(!ve)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return ve}function Xt(ve){return _n().ngZone.run(()=>ve())}function ue(ve){return function pe(ve){return function(Ue){return(Ue=Ue.lift(new Cn(ve.ngZone))).pipe((0,mn.R)(ve.outsideAngular),(0,Wt.Q)(ve.insideAngular))}}(_n())(ve)}const he=(ve,Ie)=>function(){const He=arguments;return Ie&&setTimeout(()=>{"scheduled"===Ie.state&&Ie.invoke()},10),Xt(()=>ve.apply(void 0,He))},be=(ve,Ie)=>function(){let Ue;const He=arguments;for(let ht=0;ht<arguments.length;ht++)"function"==typeof He[ht]&&(Ie&&(Ue||=Xt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",st,{},st,st))),He[ht]=he(He[ht],Ue));const mt=function lt(ve){return _n().ngZone.runOutsideAngular(()=>ve())}(()=>ve.apply(this,He));if(!Ie){if(mt instanceof Ht.y){const ht=_n();return mt.pipe((0,mn.R)(ht.outsideAngular),(0,Wt.Q)(ht.insideAngular))}return Xt(()=>mt)}return mt instanceof Ht.y?mt.pipe(ue):mt instanceof Promise?Xt(()=>new Promise((ht,Zt)=>mt.then(bn=>Xt(()=>ht(bn)),bn=>Xt(()=>Zt(bn))))):"function"==typeof mt&&Ue?function(){return setTimeout(()=>{Ue&&"scheduled"===Ue.state&&Ue.invoke()},10),mt.apply(this,arguments)}:Xt(()=>mt)}},95:($t,ze,B)=>{B.d(ze,{Fj:()=>Le,qu:()=>ei,u:()=>vi,sg:()=>Mn,u5:()=>Ii,JJ:()=>ln,JL:()=>Jt,YN:()=>hn,wV:()=>ss,UX:()=>gs,EJ:()=>yt,kI:()=>st,_Y:()=>Vs,Kr:()=>fr});var m=B(4946),se=B(6814),Be=B(2459),M=B(5592),Q=B(7453),fe=B(4829),xe=B(4564),Ce=B(8251),Ve=B(7400),te=B(2714),Pe=B(7398);let tt=(()=>{class F{constructor(P,I){this._renderer=P,this._elementRef=I,this.onChange=S=>{},this.onTouched=()=>{}}setProperty(P,I){this._renderer.setProperty(this._elementRef.nativeElement,P,I)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(I){return new(I||F)(m.Y36(m.Qsj),m.Y36(m.SBq))};static#t=this.\u0275dir=m.lG2({type:F})}return F})(),Qe=(()=>{class F extends tt{static#e=this.\u0275fac=function(){let P;return function(S){return(P||(P=m.n5z(F)))(S||F)}}();static#t=this.\u0275dir=m.lG2({type:F,features:[m.qOj]})}return F})();const Je=new m.OlP("NgValueAccessor"),wt={provide:Je,useExisting:(0,m.Gpc)(()=>Le),multi:!0},Wt=new m.OlP("CompositionEventMode");let Le=(()=>{class F extends tt{constructor(P,I,S){super(P,I),this._compositionMode=S,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mn(){const F=(0,se.q)()?(0,se.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(I){return new(I||F)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Wt,8))};static#t=this.\u0275dir=m.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(I,S){1&I&&m.NdJ("input",function(X){return S._handleInput(X.target.value)})("blur",function(){return S.onTouched()})("compositionstart",function(){return S._compositionStart()})("compositionend",function(X){return S._compositionEnd(X.target.value)})},features:[m._Bn([wt]),m.qOj]})}return F})();function Ke(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}function Ge(F){return null!=F&&"number"==typeof F.length}const at=new m.OlP("NgValidators"),gt=new m.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class st{static min(V){return function Kt(F){return V=>{if(Ke(V.value)||Ke(F))return null;const P=parseFloat(V.value);return!isNaN(P)&&P<F?{min:{min:F,actual:V.value}}:null}}(V)}static max(V){return function Cn(F){return V=>{if(Ke(V.value)||Ke(F))return null;const P=parseFloat(V.value);return!isNaN(P)&&P>F?{max:{max:F,actual:V.value}}:null}}(V)}static required(V){return function Ze(F){return Ke(F.value)?{required:!0}:null}(V)}static requiredTrue(V){return function _n(F){return!0===F.value?null:{required:!0}}(V)}static email(V){return function lt(F){return Ke(F.value)||rt.test(F.value)?null:{email:!0}}(V)}static minLength(V){return function Xt(F){return V=>Ke(V.value)||!Ge(V.value)?null:V.value.length<F?{minlength:{requiredLength:F,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function Ae(F){return V=>Ge(V.value)&&V.value.length>F?{maxlength:{requiredLength:F,actualLength:V.value.length}}:null}(V)}static pattern(V){return function Rt(F){if(!F)return ue;let V,P;return"string"==typeof F?(P="","^"!==F.charAt(0)&&(P+="^"),P+=F,"$"!==F.charAt(F.length-1)&&(P+="$"),V=new RegExp(P)):(P=F.toString(),V=F),I=>{if(Ke(I.value))return null;const S=I.value;return V.test(S)?null:{pattern:{requiredPattern:P,actualValue:S}}}}(V)}static nullValidator(V){return null}static compose(V){return He(V)}static composeAsync(V){return ht(V)}}function ue(F){return null}function pe(F){return null!=F}function he(F){return(0,m.QGY)(F)?(0,Be.D)(F):F}function be(F){let V={};return F.forEach(P=>{V=null!=P?{...V,...P}:V}),0===Object.keys(V).length?null:V}function ve(F,V){return V.map(P=>P(F))}function Ue(F){return F.map(V=>function Ie(F){return!F.validate}(V)?V:P=>V.validate(P))}function He(F){if(!F)return null;const V=F.filter(pe);return 0==V.length?null:function(P){return be(ve(P,V))}}function mt(F){return null!=F?He(Ue(F)):null}function ht(F){if(!F)return null;const V=F.filter(pe);return 0==V.length?null:function(P){return function ce(...F){const V=(0,xe.jO)(F),{args:P,keys:I}=(0,Q.D)(F),S=new M.y(Z=>{const{length:X}=P;if(!X)return void Z.complete();const ye=new Array(X);let $e=X,dt=X;for(let Mt=0;Mt<X;Mt++){let St=!1;(0,fe.Xf)(P[Mt]).subscribe((0,Ce.x)(Z,fn=>{St||(St=!0,dt--),ye[Mt]=fn},()=>$e--,void 0,()=>{(!$e||!St)&&(dt||Z.next(I?(0,te.n)(I,ye):ye),Z.complete())}))}});return V?S.pipe((0,Ve.Z)(V)):S}(ve(P,V).map(he)).pipe((0,Pe.U)(be))}}function Zt(F){return null!=F?ht(Ue(F)):null}function bn(F,V){return null===F?[V]:Array.isArray(F)?[...F,V]:[F,V]}function yn(F){return F._rawValidators}function Sn(F){return F._rawAsyncValidators}function Fr(F){return F?Array.isArray(F)?F:[F]:[]}function Pn(F,V){return Array.isArray(F)?F.includes(V):F===V}function Rr(F,V){const P=Fr(V);return Fr(F).forEach(S=>{Pn(P,S)||P.push(S)}),P}function Un(F,V){return Fr(V).filter(P=>!Pn(F,P))}class zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=mt(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=Zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V=void 0){this.control&&this.control.reset(V)}hasError(V,P){return!!this.control&&this.control.hasError(V,P)}getError(V,P){return this.control?this.control.getError(V,P):null}}class Er extends zt{get formDirective(){return null}get path(){return null}}class Ut extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ti{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ln=(()=>{class F extends ti{constructor(P){super(P)}static#e=this.\u0275fac=function(I){return new(I||F)(m.Y36(Ut,2))};static#t=this.\u0275dir=m.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(I,S){2&I&&m.ekj("ng-untouched",S.isUntouched)("ng-touched",S.isTouched)("ng-pristine",S.isPristine)("ng-dirty",S.isDirty)("ng-valid",S.isValid)("ng-invalid",S.isInvalid)("ng-pending",S.isPending)},features:[m.qOj]})}return F})(),Jt=(()=>{class F extends ti{constructor(P){super(P)}static#e=this.\u0275fac=function(I){return new(I||F)(m.Y36(Er,10))};static#t=this.\u0275dir=m.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(I,S){2&I&&m.ekj("ng-untouched",S.isUntouched)("ng-touched",S.isTouched)("ng-pristine",S.isPristine)("ng-dirty",S.isDirty)("ng-valid",S.isValid)("ng-invalid",S.isInvalid)("ng-pending",S.isPending)("ng-submitted",S.isSubmitted)},features:[m.qOj]})}return F})();const qt="VALID",ir="INVALID",wr="PENDING",ui="DISABLED";function le(F){return(K(F)?F.validators:F)||null}function q(F,V){return(K(V)?V.asyncValidators:F)||null}function K(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}function Te(F,V,P){const I=F.controls;if(!(V?Object.keys(I):I).length)throw new m.vHH(1e3,"");if(!I[P])throw new m.vHH(1001,"")}function We(F,V,P){F._forEachChild((I,S)=>{if(void 0===P[S])throw new m.vHH(1002,"")})}class ft{constructor(V,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===ir}get pending(){return this.status==wr}get disabled(){return this.status===ui}get enabled(){return this.status!==ui}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(Rr(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Rr(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(Un(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(Un(V,this._rawAsyncValidators))}hasValidator(V){return Pn(this._rawValidators,V)}hasAsyncValidator(V){return Pn(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=wr,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const P=this._parentMarkedDirty(V.onlySelf);this.status=ui,this.errors=null,this._forEachChild(I=>{I.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:P}),this._onDisabledChange.forEach(I=>I(!0))}enable(V={}){const P=this._parentMarkedDirty(V.onlySelf);this.status=qt,this._forEachChild(I=>{I.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:P}),this._onDisabledChange.forEach(I=>I(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qt||this.status===wr)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ui:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=wr,this._hasOwnPendingAsyncValidator=!0;const P=he(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(I=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(I,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,P={}){this.errors=V,this._updateControlsErrors(!1!==P.emitEvent)}get(V){let P=V;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((I,S)=>I&&I._find(S),this)}getError(V,P){const I=P?this.get(P):this;return I&&I.errors?I.errors[V]:null}hasError(V,P){return!!this.getError(V,P)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?ui:this.errors?ir:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wr)?wr:this._anyControlsHaveStatus(ir)?ir:qt}_anyControlsHaveStatus(V){return this._anyControls(P=>P.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){K(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function W(F){return Array.isArray(F)?mt(F):F||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function G(F){return Array.isArray(F)?Zt(F):F||null}(this._rawAsyncValidators)}}class Ft extends ft{constructor(V,P,I){super(le(P),q(I,P)),this.controls=V,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,P){return this.controls[V]?this.controls[V]:(this.controls[V]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(V,P,I={}){this.registerControl(V,P),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}removeControl(V,P={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(V,P,I={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],P&&this.registerControl(V,P),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,P={}){We(this,0,V),Object.keys(V).forEach(I=>{Te(this,!0,I),this.controls[I].setValue(V[I],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(V,P={}){null!=V&&(Object.keys(V).forEach(I=>{const S=this.controls[I];S&&S.patchValue(V[I],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(V={},P={}){this._forEachChild((I,S)=>{I.reset(V?V[S]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(V,P,I)=>(V[I]=P.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(P,I)=>!!I._syncPendingControls()||P);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(P=>{const I=this.controls[P];I&&V(I,P)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[P,I]of Object.entries(this.controls))if(this.contains(P)&&V(I))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,I,S)=>((I.enabled||this.disabled)&&(P[S]=I.value),P))}_reduceChildren(V,P){let I=V;return this._forEachChild((S,Z)=>{I=P(I,S,Z)}),I}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}class Qt extends Ft{}const Ee=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ae}),ae="always";function re(F,V,P=ae){Ot(F,V),V.valueAccessor.writeValue(F.value),(F.disabled||"always"===P)&&V.valueAccessor.setDisabledState?.(F.disabled),function Bt(F,V){V.valueAccessor.registerOnChange(P=>{F._pendingValue=P,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&dn(F,V)})}(F,V),function Cr(F,V){const P=(I,S)=>{V.valueAccessor.writeValue(I),S&&V.viewToModelUpdate(I)};F.registerOnChange(P),V._registerOnDestroy(()=>{F._unregisterOnChange(P)})}(F,V),function Bn(F,V){V.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&dn(F,V),"submit"!==F.updateOn&&F.markAsTouched()})}(F,V),function Se(F,V){if(V.valueAccessor.setDisabledState){const P=I=>{V.valueAccessor.setDisabledState(I)};F.registerOnDisabledChange(P),V._registerOnDestroy(()=>{F._unregisterOnDisabledChange(P)})}}(F,V)}function ie(F,V,P=!0){const I=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(I),V.valueAccessor.registerOnTouched(I)),Xe(F,V),F&&(V._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function we(F,V){F.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(V)})}function Ot(F,V){const P=yn(F);null!==V.validator?F.setValidators(bn(P,V.validator)):"function"==typeof P&&F.setValidators([P]);const I=Sn(F);null!==V.asyncValidator?F.setAsyncValidators(bn(I,V.asyncValidator)):"function"==typeof I&&F.setAsyncValidators([I]);const S=()=>F.updateValueAndValidity();we(V._rawValidators,S),we(V._rawAsyncValidators,S)}function Xe(F,V){let P=!1;if(null!==F){if(null!==V.validator){const S=yn(F);if(Array.isArray(S)&&S.length>0){const Z=S.filter(X=>X!==V.validator);Z.length!==S.length&&(P=!0,F.setValidators(Z))}}if(null!==V.asyncValidator){const S=Sn(F);if(Array.isArray(S)&&S.length>0){const Z=S.filter(X=>X!==V.asyncValidator);Z.length!==S.length&&(P=!0,F.setAsyncValidators(Z))}}}const I=()=>{};return we(V._rawValidators,I),we(V._rawAsyncValidators,I),P}function dn(F,V){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Jr(F,V){const P=F.indexOf(V);P>-1&&F.splice(P,1)}function Br(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const Xr=class extends ft{constructor(V=null,P,I){super(le(P),q(I,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=Br(V)?V.value:V)}setValue(V,P={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(I=>I(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(V,P={}){this.setValue(V,P)}reset(V=this.defaultValue,P={}){this._applyFormState(V),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){Jr(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){Jr(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Br(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}};let Vs=(()=>{class F{static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275dir=m.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return F})();const Cs={provide:Je,useExisting:(0,m.Gpc)(()=>ss),multi:!0};let ss=(()=>{class F extends Qe{writeValue(P){this.setProperty("value",P??"")}registerOnChange(P){this.onChange=I=>{P(""==I?null:parseFloat(I))}}static#e=this.\u0275fac=function(){let P;return function(S){return(P||(P=m.n5z(F)))(S||F)}}();static#t=this.\u0275dir=m.lG2({type:F,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(I,S){1&I&&m.NdJ("input",function(X){return S.onChange(X.target.value)})("blur",function(){return S.onTouched()})},features:[m._Bn([Cs]),m.qOj]})}return F})(),Ki=(()=>{class F{static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275mod=m.oAB({type:F});static#n=this.\u0275inj=m.cJS({})}return F})();const Xn=new m.OlP("NgModelWithFormControlWarning"),Yi={provide:Er,useExisting:(0,m.Gpc)(()=>Mn)};let Mn=(()=>{class F extends Er{constructor(P,I,S){super(),this.callSetDisabledState=S,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(P),this._setAsyncValidators(I)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const I=this.form.get(P.path);return re(I,P,this.callSetDisabledState),I.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),I}getControl(P){return this.form.get(P.path)}removeControl(P){ie(P.control||null,P,!1),function bi(F,V){const P=F.indexOf(V);P>-1&&F.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,I){this.form.get(P.path).setValue(I)}onSubmit(P){return this.submitted=!0,function vo(F,V){F._syncPendingControls(),V.forEach(P=>{const I=P.control;"submit"===I.updateOn&&I._pendingChange&&(P.viewToModelUpdate(I._pendingValue),I._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const I=P.control,S=this.form.get(P.path);I!==S&&(ie(I||null,P),(F=>F instanceof Xr)(S)&&(re(S,P,this.callSetDisabledState),P.control=S))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const I=this.form.get(P.path);(function Kr(F,V){Ot(F,V)})(I,P),I.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const I=this.form.get(P.path);I&&function Di(F,V){return Xe(F,V)}(I,P)&&I.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ot(this.form,this),this._oldForm&&Xe(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(I){return new(I||F)(m.Y36(at,10),m.Y36(gt,10),m.Y36(Ee,8))};static#t=this.\u0275dir=m.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(I,S){1&I&&m.NdJ("submit",function(X){return S.onSubmit(X)})("reset",function(){return S.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Yi]),m.qOj,m.TTD]})}return F})();const Ji={provide:Ut,useExisting:(0,m.Gpc)(()=>vi)};let vi=(()=>{class F extends Ut{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,I,S,Z,X){super(),this._ngModelWarningConfig=X,this._added=!1,this.name=null,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(I),this._setAsyncValidators(S),this.valueAccessor=function On(F,V){if(!V)return null;let P,I,S;return Array.isArray(V),V.forEach(Z=>{Z.constructor===Le?P=Z:function Ai(F){return Object.getPrototypeOf(F.constructor)===Qe}(Z)?I=Z:S=Z}),S||I||P||null}(0,Z)}ngOnChanges(P){this._added||this._setUpControl(),function or(F,V){if(!F.hasOwnProperty("model"))return!1;const P=F.model;return!!P.isFirstChange()||!Object.is(V,P.currentValue)}(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return function de(F,V){return[...V.path,F]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(I){return new(I||F)(m.Y36(Er,13),m.Y36(at,10),m.Y36(gt,10),m.Y36(Je,10),m.Y36(Xn,8))};static#n=this.\u0275dir=m.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([Ji]),m.qOj,m.TTD]})}return F})();const Ls={provide:Je,useExisting:(0,m.Gpc)(()=>yt),multi:!0};function So(F,V){return null==F?`${V}`:(V&&"object"==typeof V&&(V="Object"),`${F}: ${V}`.slice(0,50))}let yt=(()=>{class F extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){this.value=P;const S=So(this._getOptionId(P),P);this.setProperty("value",S)}registerOnChange(P){this.onChange=I=>{this.value=this._getOptionValue(I),P(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(P){for(const I of this._optionMap.keys())if(this._compareWith(this._optionMap.get(I),P))return I;return null}_getOptionValue(P){const I=function Dr(F){return F.split(":")[0]}(P);return this._optionMap.has(I)?this._optionMap.get(I):P}static#e=this.\u0275fac=function(){let P;return function(S){return(P||(P=m.n5z(F)))(S||F)}}();static#t=this.\u0275dir=m.lG2({type:F,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(I,S){1&I&&m.NdJ("change",function(X){return S.onChange(X.target.value)})("blur",function(){return S.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Ls]),m.qOj]})}return F})(),hn=(()=>{class F{constructor(P,I,S){this._element=P,this._renderer=I,this._select=S,this._select&&(this.id=this._select._registerOption())}set ngValue(P){null!=this._select&&(this._select._optionMap.set(this.id,P),this._setElementValue(So(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._setElementValue(P),this._select&&this._select.writeValue(this._select.value)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(I){return new(I||F)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(yt,9))};static#t=this.\u0275dir=m.lG2({type:F,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return F})();const zn={provide:Je,useExisting:(0,m.Gpc)(()=>zi),multi:!0};function Ri(F,V){return null==F?`${V}`:("string"==typeof V&&(V=`'${V}'`),V&&"object"==typeof V&&(V="Object"),`${F}: ${V}`.slice(0,50))}let zi=(()=>{class F extends Qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){let I;if(this.value=P,Array.isArray(P)){const S=P.map(Z=>this._getOptionId(Z));I=(Z,X)=>{Z._setSelected(S.indexOf(X.toString())>-1)}}else I=(S,Z)=>{S._setSelected(!1)};this._optionMap.forEach(I)}registerOnChange(P){this.onChange=I=>{const S=[],Z=I.selectedOptions;if(void 0!==Z){const X=Z;for(let ye=0;ye<X.length;ye++){const dt=this._getOptionValue(X[ye].value);S.push(dt)}}else{const X=I.options;for(let ye=0;ye<X.length;ye++){const $e=X[ye];if($e.selected){const dt=this._getOptionValue($e.value);S.push(dt)}}}this.value=S,P(S)}}_registerOption(P){const I=(this._idCounter++).toString();return this._optionMap.set(I,P),I}_getOptionId(P){for(const I of this._optionMap.keys())if(this._compareWith(this._optionMap.get(I)._value,P))return I;return null}_getOptionValue(P){const I=function us(F){return F.split(":")[0]}(P);return this._optionMap.has(I)?this._optionMap.get(I)._value:P}static#e=this.\u0275fac=function(){let P;return function(S){return(P||(P=m.n5z(F)))(S||F)}}();static#t=this.\u0275dir=m.lG2({type:F,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(I,S){1&I&&m.NdJ("change",function(X){return S.onChange(X.target)})("blur",function(){return S.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([zn]),m.qOj]})}return F})(),fr=(()=>{class F{constructor(P,I,S){this._element=P,this._renderer=I,this._select=S,this._select&&(this.id=this._select._registerOption(this))}set ngValue(P){null!=this._select&&(this._value=P,this._setElementValue(Ri(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._select?(this._value=P,this._setElementValue(Ri(this.id,P)),this._select.writeValue(this._select.value)):this._setElementValue(P)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}_setSelected(P){this._renderer.setProperty(this._element.nativeElement,"selected",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(I){return new(I||F)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(zi,9))};static#t=this.\u0275dir=m.lG2({type:F,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return F})(),Vi=(()=>{class F{static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275mod=m.oAB({type:F});static#n=this.\u0275inj=m.cJS({imports:[Ki]})}return F})();class cs extends ft{constructor(V,P,I){super(le(P),q(I,P)),this.controls=V,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[this._adjustIndex(V)]}push(V,P={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(V,P,I={}){this.controls.splice(V,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:I.emitEvent})}removeAt(V,P={}){let I=this._adjustIndex(V);I<0&&(I=0),this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),this.controls.splice(I,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(V,P,I={}){let S=this._adjustIndex(V);S<0&&(S=0),this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),P&&(this.controls.splice(S,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,P={}){We(this,0,V),V.forEach((I,S)=>{Te(this,!1,S),this.at(S).setValue(I,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(V,P={}){null!=V&&(V.forEach((I,S)=>{this.at(S)&&this.at(S).patchValue(I,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(V=[],P={}){this._forEachChild((I,S)=>{I.reset(V[S],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(V=>V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_adjustIndex(V){return V<0?V+this.length:V}_syncPendingControls(){let V=this.controls.reduce((P,I)=>!!I._syncPendingControls()||P,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){this.controls.forEach((P,I)=>{V(P,I)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(P=>P.enabled&&V(P))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}_find(V){return this.at(V)??null}}function pr(F){return!!F&&(void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn)}let ei=(()=>{class F{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new F;return P.useNonNullable=!0,P}group(P,I=null){const S=this._reduceControls(P);let Z={};return pr(I)?Z=I:null!==I&&(Z.validators=I.validator,Z.asyncValidators=I.asyncValidator),new Ft(S,Z)}record(P,I=null){const S=this._reduceControls(P);return new Qt(S,I)}control(P,I,S){let Z={};return this.useNonNullable?(pr(I)?Z=I:(Z.validators=I,Z.asyncValidators=S),new Xr(P,{...Z,nonNullable:!0})):new Xr(P,I,S)}array(P,I,S){const Z=P.map(X=>this._createControl(X));return new cs(Z,I,S)}_reduceControls(P){const I={};return Object.keys(P).forEach(S=>{I[S]=this._createControl(P[S])}),I}_createControl(P){return P instanceof Xr||P instanceof ft?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),Ii=(()=>{class F{static withConfig(P){return{ngModule:F,providers:[{provide:Ee,useValue:P.callSetDisabledState??ae}]}}static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275mod=m.oAB({type:F});static#n=this.\u0275inj=m.cJS({imports:[Vi]})}return F})(),gs=(()=>{class F{static withConfig(P){return{ngModule:F,providers:[{provide:Xn,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:Ee,useValue:P.callSetDisabledState??ae}]}}static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275mod=m.oAB({type:F});static#n=this.\u0275inj=m.cJS({imports:[Vi]})}return F})()},6593:($t,ze,B)=>{B.d(ze,{Dx:()=>Ut,b2:()=>Pn,q6:()=>bn});var m=B(4946),se=B(6814);class Be extends se.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class M extends Be{static makeCurrent(){(0,se.HT)(new M)}onAndCancel(q,G,K){return q.addEventListener(G,K),()=>{q.removeEventListener(G,K)}}dispatchEvent(q,G){q.dispatchEvent(G)}remove(q){q.parentNode&&q.parentNode.removeChild(q)}createElement(q,G){return(G=G||this.getDefaultDocument()).createElement(q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(q){return q.nodeType===Node.ELEMENT_NODE}isShadowRoot(q){return q instanceof DocumentFragment}getGlobalEventTarget(q,G){return"window"===G?window:"document"===G?q:"body"===G?q.body:null}getBaseHref(q){const G=function fe(){return Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null}();return null==G?null:function Ce(W){xe=xe||document.createElement("a"),xe.setAttribute("href",W);const q=xe.pathname;return"/"===q.charAt(0)?q:`/${q}`}(G)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(q){return(0,se.Mx)(document.cookie,q)}}let xe,Q=null,te=(()=>{class W{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(K){return new(K||W)};static#t=this.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac})}return W})();const ce=new m.OlP("EventManagerPlugins");let Pe=(()=>{class W{constructor(G,K){this._zone=K,this._eventNameToPlugin=new Map,G.forEach(Te=>{Te.manager=this}),this._plugins=G.slice().reverse()}addEventListener(G,K,Te){return this._findPluginFor(K).addEventListener(G,K,Te)}getZone(){return this._zone}_findPluginFor(G){let K=this._eventNameToPlugin.get(G);if(K)return K;if(K=this._plugins.find(We=>We.supports(G)),!K)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set(G,K),K}static#e=this.\u0275fac=function(K){return new(K||W)(m.LFG(ce),m.LFG(m.R0b))};static#t=this.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac})}return W})();class tt{constructor(q){this._doc=q}}const Qe="ng-app-id";let Je=(()=>{class W{constructor(G,K,Te,We={}){this.doc=G,this.appId=K,this.nonce=Te,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,se.PM)(We),this.resetHostNodes()}addStyles(G){for(const K of G)1===this.changeUsageCount(K,1)&&this.onStyleAdded(K)}removeStyles(G){for(const K of G)this.changeUsageCount(K,-1)<=0&&this.onStyleRemoved(K)}ngOnDestroy(){const G=this.styleNodesInDOM;G&&(G.forEach(K=>K.remove()),G.clear());for(const K of this.getAllStyles())this.onStyleRemoved(K);this.resetHostNodes()}addHost(G){this.hostNodes.add(G);for(const K of this.getAllStyles())this.addStyleToHost(G,K)}removeHost(G){this.hostNodes.delete(G)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(G){for(const K of this.hostNodes)this.addStyleToHost(K,G)}onStyleRemoved(G){const K=this.styleRef;K.get(G)?.elements?.forEach(Te=>Te.remove()),K.delete(G)}collectServerRenderedStyles(){const G=this.doc.head?.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(G?.length){const K=new Map;return G.forEach(Te=>{null!=Te.textContent&&K.set(Te.textContent,Te)}),K}return null}changeUsageCount(G,K){const Te=this.styleRef;if(Te.has(G)){const We=Te.get(G);return We.usage+=K,We.usage}return Te.set(G,{usage:K,elements:[]}),K}getStyleElement(G,K){const Te=this.styleNodesInDOM,We=Te?.get(K);if(We?.parentNode===G)return Te.delete(K),We.removeAttribute(Qe),We;{const ft=this.doc.createElement("style");return this.nonce&&ft.setAttribute("nonce",this.nonce),ft.textContent=K,this.platformIsServer&&ft.setAttribute(Qe,this.appId),ft}}addStyleToHost(G,K){const Te=this.getStyleElement(G,K);G.appendChild(Te);const We=this.styleRef,ft=We.get(K)?.elements;ft?ft.push(Te):We.set(K,{elements:[Te],usage:1})}resetHostNodes(){const G=this.hostNodes;G.clear(),G.add(this.doc.head)}static#e=this.\u0275fac=function(K){return new(K||W)(m.LFG(se.K0),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))};static#t=this.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac})}return W})();const Pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ht=/%COMP%/g,Ke=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gt(W,q){return q.map(G=>G.replace(Ht,W))}let rt=(()=>{class W{constructor(G,K,Te,We,ft,Ft,en,tn=null){this.eventManager=G,this.sharedStylesHost=K,this.appId=Te,this.removeStylesOnCompDestroy=We,this.doc=ft,this.platformId=Ft,this.ngZone=en,this.nonce=tn,this.rendererByCompId=new Map,this.platformIsServer=(0,se.PM)(Ft),this.defaultRenderer=new st(G,ft,en,this.platformIsServer)}createRenderer(G,K){if(!G||!K)return this.defaultRenderer;this.platformIsServer&&K.encapsulation===m.ifc.ShadowDom&&(K={...K,encapsulation:m.ifc.Emulated});const Te=this.getOrCreateRenderer(G,K);return Te instanceof Xt?Te.applyToHost(G):Te instanceof lt&&Te.applyStyles(),Te}getOrCreateRenderer(G,K){const Te=this.rendererByCompId;let We=Te.get(K.id);if(!We){const ft=this.doc,Ft=this.ngZone,en=this.eventManager,tn=this.sharedStylesHost,Qt=this.removeStylesOnCompDestroy,Kn=this.platformIsServer;switch(K.encapsulation){case m.ifc.Emulated:We=new Xt(en,tn,K,this.appId,Qt,ft,Ft,Kn);break;case m.ifc.ShadowDom:return new _n(en,tn,G,K,ft,Ft,this.nonce,Kn);default:We=new lt(en,tn,K,Qt,ft,Ft,Kn)}Te.set(K.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(K){return new(K||W)(m.LFG(Pe),m.LFG(Je),m.LFG(m.AFp),m.LFG(Ke),m.LFG(se.K0),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))};static#t=this.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac})}return W})();class st{constructor(q,G,K,Te){this.eventManager=q,this.doc=G,this.ngZone=K,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(q,G){return G?this.doc.createElementNS(Pt[G]||G,q):this.doc.createElement(q)}createComment(q){return this.doc.createComment(q)}createText(q){return this.doc.createTextNode(q)}appendChild(q,G){(Ze(q)?q.content:q).appendChild(G)}insertBefore(q,G,K){q&&(Ze(q)?q.content:q).insertBefore(G,K)}removeChild(q,G){q&&q.removeChild(G)}selectRootElement(q,G){let K="string"==typeof q?this.doc.querySelector(q):q;if(!K)throw new m.vHH(-5104,!1);return G||(K.textContent=""),K}parentNode(q){return q.parentNode}nextSibling(q){return q.nextSibling}setAttribute(q,G,K,Te){if(Te){G=Te+":"+G;const We=Pt[Te];We?q.setAttributeNS(We,G,K):q.setAttribute(G,K)}else q.setAttribute(G,K)}removeAttribute(q,G,K){if(K){const Te=Pt[K];Te?q.removeAttributeNS(Te,G):q.removeAttribute(`${K}:${G}`)}else q.removeAttribute(G)}addClass(q,G){q.classList.add(G)}removeClass(q,G){q.classList.remove(G)}setStyle(q,G,K,Te){Te&(m.JOm.DashCase|m.JOm.Important)?q.style.setProperty(G,K,Te&m.JOm.Important?"important":""):q.style[G]=K}removeStyle(q,G,K){K&m.JOm.DashCase?q.style.removeProperty(G):q.style[G]=""}setProperty(q,G,K){q[G]=K}setValue(q,G){q.nodeValue=G}listen(q,G,K){if("string"==typeof q&&!(q=(0,se.q)().getGlobalEventTarget(this.doc,q)))throw new Error(`Unsupported event target ${q} for event ${G}`);return this.eventManager.addEventListener(q,G,this.decoratePreventDefault(K))}decoratePreventDefault(q){return G=>{if("__ngUnwrap__"===G)return q;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>q(G)):q(G))&&G.preventDefault()}}}function Ze(W){return"TEMPLATE"===W.tagName&&void 0!==W.content}class _n extends st{constructor(q,G,K,Te,We,ft,Ft,en){super(q,We,ft,en),this.sharedStylesHost=G,this.hostEl=K,this.shadowRoot=K.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=gt(Te.id,Te.styles);for(const Qt of tn){const Kn=document.createElement("style");Ft&&Kn.setAttribute("nonce",Ft),Kn.textContent=Qt,this.shadowRoot.appendChild(Kn)}}nodeOrShadowRoot(q){return q===this.hostEl?this.shadowRoot:q}appendChild(q,G){return super.appendChild(this.nodeOrShadowRoot(q),G)}insertBefore(q,G,K){return super.insertBefore(this.nodeOrShadowRoot(q),G,K)}removeChild(q,G){return super.removeChild(this.nodeOrShadowRoot(q),G)}parentNode(q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(q)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lt extends st{constructor(q,G,K,Te,We,ft,Ft,en){super(q,We,ft,Ft),this.sharedStylesHost=G,this.removeStylesOnCompDestroy=Te,this.styles=en?gt(en,K.styles):K.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xt extends lt{constructor(q,G,K,Te,We,ft,Ft,en){const tn=Te+"-"+K.id;super(q,G,K,We,ft,Ft,en,tn),this.contentAttr=function Ge(W){return"_ngcontent-%COMP%".replace(Ht,W)}(tn),this.hostAttr=function at(W){return"_nghost-%COMP%".replace(Ht,W)}(tn)}applyToHost(q){this.applyStyles(),this.setAttribute(q,this.hostAttr,"")}createElement(q,G){const K=super.createElement(q,G);return super.setAttribute(K,this.contentAttr,""),K}}let Ae=(()=>{class W extends tt{constructor(G){super(G)}supports(G){return!0}addEventListener(G,K,Te){return G.addEventListener(K,Te,!1),()=>this.removeEventListener(G,K,Te)}removeEventListener(G,K,Te){return G.removeEventListener(K,Te)}static#e=this.\u0275fac=function(K){return new(K||W)(m.LFG(se.K0))};static#t=this.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac})}return W})();const Rt=["alt","control","meta","shift"],ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pe={alt:W=>W.altKey,control:W=>W.ctrlKey,meta:W=>W.metaKey,shift:W=>W.shiftKey};let he=(()=>{class W extends tt{constructor(G){super(G)}supports(G){return null!=W.parseEventName(G)}addEventListener(G,K,Te){const We=W.parseEventName(K),ft=W.eventCallback(We.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,se.q)().onAndCancel(G,We.domEventName,ft))}static parseEventName(G){const K=G.toLowerCase().split("."),Te=K.shift();if(0===K.length||"keydown"!==Te&&"keyup"!==Te)return null;const We=W._normalizeKey(K.pop());let ft="",Ft=K.indexOf("code");if(Ft>-1&&(K.splice(Ft,1),ft="code."),Rt.forEach(tn=>{const Qt=K.indexOf(tn);Qt>-1&&(K.splice(Qt,1),ft+=tn+".")}),ft+=We,0!=K.length||0===We.length)return null;const en={};return en.domEventName=Te,en.fullKey=ft,en}static matchEventFullKeyCode(G,K){let Te=ue[G.key]||G.key,We="";return K.indexOf("code.")>-1&&(Te=G.code,We="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),Rt.forEach(ft=>{ft!==Te&&(0,pe[ft])(G)&&(We+=ft+".")}),We+=Te,We===K)}static eventCallback(G,K,Te){return We=>{W.matchEventFullKeyCode(We,G)&&Te.runGuarded(()=>K(We))}}static _normalizeKey(G){return"esc"===G?"escape":G}static#e=this.\u0275fac=function(K){return new(K||W)(m.LFG(se.K0))};static#t=this.\u0275prov=m.Yz7({token:W,factory:W.\u0275fac})}return W})();const bn=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:se.bD},{provide:m.g9A,useValue:function He(){M.makeCurrent()},multi:!0},{provide:se.K0,useFactory:function ht(){return(0,m.RDi)(document),document},deps:[]}]),yn=new m.OlP(""),Sn=[{provide:m.rWj,useClass:class Ve{addToWindow(q){m.dqk.getAngularTestability=(K,Te=!0)=>{const We=q.findTestabilityInTree(K,Te);if(null==We)throw new m.vHH(5103,!1);return We},m.dqk.getAllAngularTestabilities=()=>q.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>q.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(K=>{const Te=m.dqk.getAllAngularTestabilities();let We=Te.length,ft=!1;const Ft=function(en){ft=ft||en,We--,0==We&&K(ft)};Te.forEach(en=>{en.whenStable(Ft)})})}findTestabilityInTree(q,G,K){return null==G?null:q.getTestability(G)??(K?(0,se.q)().isShadowRoot(G)?this.findTestabilityInTree(q,G.host,!0):this.findTestabilityInTree(q,G.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],Fr=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function mt(){return new m.qLn},deps:[]},{provide:ce,useClass:Ae,multi:!0,deps:[se.K0,m.R0b,m.Lbi]},{provide:ce,useClass:he,multi:!0,deps:[se.K0]},rt,Je,Pe,{provide:m.FYo,useExisting:rt},{provide:se.JF,useClass:te,deps:[]},[]];let Pn=(()=>{class W{constructor(G){}static withServerTransition(G){return{ngModule:W,providers:[{provide:m.AFp,useValue:G.appId}]}}static#e=this.\u0275fac=function(K){return new(K||W)(m.LFG(yn,12))};static#t=this.\u0275mod=m.oAB({type:W});static#n=this.\u0275inj=m.cJS({providers:[...Fr,...Sn],imports:[se.ez,m.hGG]})}return W})(),Ut=(()=>{class W{constructor(G){this._doc=G}getTitle(){return this._doc.title}setTitle(G){this._doc.title=G||""}static#e=this.\u0275fac=function(K){return new(K||W)(m.LFG(se.K0))};static#t=this.\u0275prov=m.Yz7({token:W,factory:function(K){let Te=null;return Te=K?new K:function Er(){return new Ut((0,m.LFG)(se.K0))}(),Te},providedIn:"root"})}return W})();typeof window<"u"&&window},8589:($t,ze,B)=>{B.d(ze,{gz:()=>Ji,m2:()=>Si,F0:()=>jn,rH:()=>to,Od:()=>wn,Bz:()=>Wi,lC:()=>us});var m=B(4946),se=B(5592),Be=B(4674),Q=B(2459),fe=B(2096),xe=B(5619),Ce=B(7453),Ve=B(2737),te=B(7400),ce=B(4564),Pe=B(2714),tt=B(8251),Qe=B(7103);function Je(...y){const D=(0,ce.yG)(y),_=(0,ce.jO)(y),{args:b,keys:O}=(0,Ce.D)(y);if(0===b.length)return(0,Q.D)([],D);const z=new se.y(function Pt(y,D,_=Ve.y){return b=>{Ht(D,()=>{const{length:O}=y,z=new Array(O);let ne=O,Oe=O;for(let Me=0;Me<O;Me++)Ht(D,()=>{const bt=(0,Q.D)(y[Me],D);let In=!1;bt.subscribe((0,tt.x)(b,Nr=>{z[Me]=Nr,In||(In=!0,Oe--),Oe||b.next(_(z.slice()))},()=>{--ne||b.complete()}))},b)},b)}}(b,D,O?ne=>(0,Pe.n)(O,ne):Ve.y));return _?z.pipe((0,te.Z)(_)):z}function Ht(y,D,_){y?(0,Qe.f)(_,y,D):D()}const mn=(0,B(2306).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Wt=B(7537);function Ke(...y){return function Le(){return(0,Wt.J)(1)}()((0,Q.D)(y,(0,ce.yG)(y)))}var Ge=B(4829);function at(y){return new se.y(D=>{(0,Ge.Xf)(y()).subscribe(D)})}var gt=B(8407);function rt(y,D){const _=(0,Be.m)(y)?y:()=>y,b=O=>O.error(_());return new se.y(D?O=>D.schedule(b,0,O):b)}var st=B(6232),Kt=B(7394),Cn=B(9360);function Ze(){return(0,Cn.e)((y,D)=>{let _=null;y._refCount++;const b=(0,tt.x)(D,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(_=null);const O=y._connection,z=_;_=null,O&&(!z||O===z)&&O.unsubscribe(),D.unsubscribe()});y.subscribe(b),b.closed||(_=y.connect())})}class _n extends se.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Cn.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Kt.w0;const _=this.getSubject();D.add(this.source.subscribe((0,tt.x)(_,void 0,()=>{this._teardown(),_.complete()},b=>{this._teardown(),_.error(b)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Kt.w0.EMPTY)}return D}refCount(){return Ze()(this)}}var lt=B(8645),Xt=B(6814),Ae=B(7398),Rt=B(4664);function ue(y){return y<=0?()=>st.E:(0,Cn.e)((D,_)=>{let b=0;D.subscribe((0,tt.x)(_,O=>{++b<=y&&(_.next(O),y<=b&&_.complete())}))})}var he=B(2181),be=B(1631);function ve(y){return(0,Cn.e)((D,_)=>{let b=!1;D.subscribe((0,tt.x)(_,O=>{b=!0,_.next(O)},()=>{b||_.next(y),_.complete()}))})}function Ie(y=Ue){return(0,Cn.e)((D,_)=>{let b=!1;D.subscribe((0,tt.x)(_,O=>{b=!0,_.next(O)},()=>b?_.complete():_.error(y())))})}function Ue(){return new mn}function He(y,D){const _=arguments.length>=2;return b=>b.pipe(y?(0,he.h)((O,z)=>y(O,z,b)):Ve.y,ue(1),_?ve(D):Ie(()=>new mn))}var mt=B(6328),ht=B(9397);function Zt(y){return(0,Cn.e)((D,_)=>{let z,b=null,O=!1;b=D.subscribe((0,tt.x)(_,void 0,void 0,ne=>{z=(0,Ge.Xf)(y(ne,Zt(y)(D))),b?(b.unsubscribe(),b=null,z.subscribe(_)):O=!0})),O&&(b.unsubscribe(),b=null,z.subscribe(_))})}function Sn(y){return y<=0?()=>st.E:(0,Cn.e)((D,_)=>{let b=[];D.subscribe((0,tt.x)(_,O=>{b.push(O),y<b.length&&b.shift()},()=>{for(const O of b)_.next(O);_.complete()},void 0,()=>{b=null}))})}var Rr=B(4716),Un=B(2420),Er=B(6593);const Ut="primary",ti=Symbol("RouteTitle");class Dn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function dr(y){return new Dn(y)}function ln(y,D,_){const b=_.path.split("/");if(b.length>y.length||"full"===_.pathMatch&&(D.hasChildren()||b.length<y.length))return null;const O={};for(let z=0;z<b.length;z++){const ne=b[z],Oe=y[z];if(ne.startsWith(":"))O[ne.substring(1)]=Oe;else if(ne!==Oe.path)return null}return{consumed:y.slice(0,b.length),posParams:O}}function rr(y,D){const _=y?Object.keys(y):void 0,b=D?Object.keys(D):void 0;if(!_||!b||_.length!=b.length)return!1;let O;for(let z=0;z<_.length;z++)if(O=_[z],!ni(y[O],D[O]))return!1;return!0}function ni(y,D){if(Array.isArray(y)&&Array.isArray(D)){if(y.length!==D.length)return!1;const _=[...y].sort(),b=[...D].sort();return _.every((O,z)=>b[z]===O)}return y===D}function Jn(y){return y.length>0?y[y.length-1]:null}function qn(y){return function M(y){return!!y&&(y instanceof se.y||(0,Be.m)(y.lift)&&(0,Be.m)(y.subscribe))}(y)?y:(0,m.QGY)(y)?(0,Q.D)(Promise.resolve(y)):(0,fe.of)(y)}const $n={exact:function vt(y,D,_){if(!qt(y.segments,D.segments)||!pn(y.segments,D.segments,_)||y.numberOfChildren!==D.numberOfChildren)return!1;for(const b in D.children)if(!y.children[b]||!vt(y.children[b],D.children[b],_))return!1;return!0},subset:si},Ci={exact:function yo(y,D){return rr(y,D)},subset:function Ni(y,D){return Object.keys(D).length<=Object.keys(y).length&&Object.keys(D).every(_=>ni(y[_],D[_]))},ignored:()=>!0};function Gn(y,D,_){return $n[_.paths](y.root,D.root,_.matrixParams)&&Ci[_.queryParams](y.queryParams,D.queryParams)&&!("exact"===_.fragment&&y.fragment!==D.fragment)}function si(y,D,_){return Tr(y,D,D.segments,_)}function Tr(y,D,_,b){if(y.segments.length>_.length){const O=y.segments.slice(0,_.length);return!(!qt(O,_)||D.hasChildren()||!pn(O,_,b))}if(y.segments.length===_.length){if(!qt(y.segments,_)||!pn(y.segments,_,b))return!1;for(const O in D.children)if(!y.children[O]||!si(y.children[O],D.children[O],b))return!1;return!0}{const O=_.slice(0,y.segments.length),z=_.slice(y.segments.length);return!!(qt(y.segments,O)&&pn(y.segments,O,b)&&y.children[Ut])&&Tr(y.children[Ut],D,z,b)}}function pn(y,D,_){return D.every((b,O)=>Ci[_](y[O].parameters,b.parameters))}class En{constructor(D=new kt([],{}),_={},b=null){this.root=D,this.queryParams=_,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return le.serialize(this)}}class kt{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Object.values(_).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return W(this)}}class ai{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=dr(this.parameters)),this._parameterMap}toString(){return en(this)}}function qt(y,D){return y.length===D.length&&y.every((_,b)=>_.path===D[b].path)}let wr=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return new ui},providedIn:"root"})}return y})();class ui{parse(D){const _=new Ot(D);return new En(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${q(D.root,!0)}`,b=function Qt(y){const D=Object.keys(y).map(_=>{const b=y[_];return Array.isArray(b)?b.map(O=>`${K(_)}=${K(O)}`).join("&"):`${K(_)}=${K(b)}`}).filter(_=>!!_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${b}${"string"==typeof D.fragment?`#${function Te(y){return encodeURI(y)}(D.fragment)}`:""}`}}const le=new ui;function W(y){return y.segments.map(D=>en(D)).join("/")}function q(y,D){if(!y.hasChildren())return W(y);if(D){const _=y.children[Ut]?q(y.children[Ut],!1):"",b=[];return Object.entries(y.children).forEach(([O,z])=>{O!==Ut&&b.push(`${O}:${q(z,!1)}`)}),b.length>0?`${_}(${b.join("//")})`:_}{const _=function ir(y,D){let _=[];return Object.entries(y.children).forEach(([b,O])=>{b===Ut&&(_=_.concat(D(O,b)))}),Object.entries(y.children).forEach(([b,O])=>{b!==Ut&&(_=_.concat(D(O,b)))}),_}(y,(b,O)=>O===Ut?[q(y.children[Ut],!1)]:[`${O}:${q(b,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Ut]?`${W(y)}/${_[0]}`:`${W(y)}/(${_.join("//")})`}}function G(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function K(y){return G(y).replace(/%3B/gi,";")}function We(y){return G(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ft(y){return decodeURIComponent(y)}function Ft(y){return ft(y.replace(/\+/g,"%20"))}function en(y){return`${We(y.path)}${function tn(y){return Object.keys(y).map(D=>`;${We(D)}=${We(y[D])}`).join("")}(y.parameters)}`}const Kn=/^[^\/()?;#]+/;function Ee(y){const D=y.match(Kn);return D?D[0]:""}const ae=/^[^\/()?;=#]+/,re=/^[^=?&#]+/,we=/^[^&#]+/;class Ot{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(b[Ut]=new kt(D,_)),b}parseSegment(){const D=Ee(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(D),new ai(ft(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=function de(y){const D=y.match(ae);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let b="";if(this.consumeOptional("=")){const O=Ee(this.remaining);O&&(b=O,this.capture(b))}D[ft(_)]=ft(b)}parseQueryParam(D){const _=function ie(y){const D=y.match(re);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let b="";if(this.consumeOptional("=")){const ne=function Se(y){const D=y.match(we);return D?D[0]:""}(this.remaining);ne&&(b=ne,this.capture(b))}const O=Ft(_),z=Ft(b);if(D.hasOwnProperty(O)){let ne=D[O];Array.isArray(ne)||(ne=[ne],D[O]=ne),ne.push(z)}else D[O]=z}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Ee(this.remaining),O=this.remaining[b.length];if("/"!==O&&")"!==O&&";"!==O)throw new m.vHH(4010,!1);let z;b.indexOf(":")>-1?(z=b.slice(0,b.indexOf(":")),this.capture(z),this.capture(":")):D&&(z=Ut);const ne=this.parseChildren();_[z]=1===Object.keys(ne).length?ne[Ut]:new kt([],ne),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new m.vHH(4011,!1)}}function Xe(y){return y.segments.length>0?new kt([],{[Ut]:y}):y}function Bt(y){const D={};for(const b of Object.keys(y.children)){const z=Bt(y.children[b]);if(b===Ut&&0===z.segments.length&&z.hasChildren())for(const[ne,Oe]of Object.entries(z.children))D[ne]=Oe;else(z.segments.length>0||z.hasChildren())&&(D[b]=z)}return function Bn(y){if(1===y.numberOfChildren&&y.children[Ut]){const D=y.children[Ut];return new kt(y.segments.concat(D.segments),D.children)}return y}(new kt(y.segments,D))}function dn(y){return y instanceof En}function Kr(y){let D;const O=Xe(function _(z){const ne={};for(const Me of z.children){const bt=_(Me);ne[Me.outlet]=bt}const Oe=new kt(z.url,ne);return z===y&&(D=Oe),Oe}(y.root));return D??O}function Di(y,D,_,b){let O=y;for(;O.parent;)O=O.parent;if(0===D.length)return mr(O,O,O,_,b);const z=function or(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new un(!0,0,y);let D=0,_=!1;const b=y.reduce((O,z,ne)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Oe={};return Object.entries(z.outlets).forEach(([Me,bt])=>{Oe[Me]="string"==typeof bt?bt.split("/"):bt}),[...O,{outlets:Oe}]}if(z.segmentPath)return[...O,z.segmentPath]}return"string"!=typeof z?[...O,z]:0===ne?(z.split("/").forEach((Oe,Me)=>{0==Me&&"."===Oe||(0==Me&&""===Oe?_=!0:".."===Oe?D++:""!=Oe&&O.push(Oe))}),O):[...O,z]},[]);return new un(_,D,b)}(D);if(z.toRoot())return mr(O,O,new kt([],{}),_,b);const ne=function vo(y,D,_){if(y.isAbsolute)return new Ai(D,!0,0);if(!_)return new Ai(D,!1,NaN);if(null===_.parent)return new Ai(_,!0,0);const b=an(y.commands[0])?0:1;return function On(y,D,_){let b=y,O=D,z=_;for(;z>O;){if(z-=O,b=b.parent,!b)throw new m.vHH(4005,!1);O=b.segments.length}return new Ai(b,!1,O-z)}(_,_.segments.length-1+b,y.numberOfDoubleDots)}(z,O,y),Oe=ne.processChildren?ut(ne.segmentGroup,ne.index,z.commands):It(ne.segmentGroup,ne.index,z.commands);return mr(O,ne.segmentGroup,Oe,_,b)}function an(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Hn(y){return"object"==typeof y&&null!=y&&y.outlets}function mr(y,D,_,b,O){let ne,z={};b&&Object.entries(b).forEach(([Me,bt])=>{z[Me]=Array.isArray(bt)?bt.map(In=>`${In}`):`${bt}`}),ne=y===D?_:Qr(y,D,_);const Oe=Xe(Bt(ne));return new En(Oe,z,O)}function Qr(y,D,_){const b={};return Object.entries(y.children).forEach(([O,z])=>{b[O]=z===D?_:Qr(z,D,_)}),new kt(y.segments,b)}class un{constructor(D,_,b){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=b,D&&b.length>0&&an(b[0]))throw new m.vHH(4003,!1);const O=b.find(Hn);if(O&&O!==Jn(b))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ai{constructor(D,_,b){this.segmentGroup=D,this.processChildren=_,this.index=b}}function It(y,D,_){if(y||(y=new kt([],{})),0===y.segments.length&&y.hasChildren())return ut(y,D,_);const b=function Ct(y,D,_){let b=0,O=D;const z={match:!1,pathIndex:0,commandIndex:0};for(;O<y.segments.length;){if(b>=_.length)return z;const ne=y.segments[O],Oe=_[b];if(Hn(Oe))break;const Me=`${Oe}`,bt=b<_.length-1?_[b+1]:null;if(O>0&&void 0===Me)break;if(Me&&bt&&"object"==typeof bt&&void 0===bt.outlets){if(!Xr(Me,bt,ne))return z;b+=2}else{if(!Xr(Me,{},ne))return z;b++}O++}return{match:!0,pathIndex:O,commandIndex:b}}(y,D,_),O=_.slice(b.commandIndex);if(b.match&&b.pathIndex<y.segments.length){const z=new kt(y.segments.slice(0,b.pathIndex),{});return z.children[Ut]=new kt(y.segments.slice(b.pathIndex),y.children),ut(z,0,O)}return b.match&&0===O.length?new kt(y.segments,{}):b.match&&!y.hasChildren()?jt(y,D,_):b.match?ut(y,0,O):jt(y,D,_)}function ut(y,D,_){if(0===_.length)return new kt(y.segments,{});{const b=function bi(y){return Hn(y[0])?y[0].outlets:{[Ut]:y}}(_),O={};if(Object.keys(b).some(z=>z!==Ut)&&y.children[Ut]&&1===y.numberOfChildren&&0===y.children[Ut].segments.length){const z=ut(y.children[Ut],D,_);return new kt(y.segments,z.children)}return Object.entries(b).forEach(([z,ne])=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(O[z]=It(y.children[z],D,ne))}),Object.entries(y.children).forEach(([z,ne])=>{void 0===b[z]&&(O[z]=ne)}),new kt(y.segments,O)}}function jt(y,D,_){const b=y.segments.slice(0,D);let O=0;for(;O<_.length;){const z=_[O];if(Hn(z)){const Me=Jr(z.outlets);return new kt(b,Me)}if(0===O&&an(_[0])){b.push(new ai(y.segments[D].path,Br(_[0]))),O++;continue}const ne=Hn(z)?z.outlets[Ut]:`${z}`,Oe=O<_.length-1?_[O+1]:null;ne&&Oe&&an(Oe)?(b.push(new ai(ne,Br(Oe))),O+=2):(b.push(new ai(ne,{})),O++)}return new kt(b,{})}function Jr(y){const D={};return Object.entries(y).forEach(([_,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(D[_]=jt(new kt([],{}),0,b))}),D}function Br(y){const D={};return Object.entries(y).forEach(([_,b])=>D[_]=`${b}`),D}function Xr(y,D,_){return y==_.path&&rr(D,_.parameters)}const so="imperative";class Pr{constructor(D,_){this.id=D,this.url=_}}class $i extends Pr{constructor(D,_,b="imperative",O=null){super(D,_),this.type=0,this.navigationTrigger=b,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Si extends Pr{constructor(D,_,b){super(D,_),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _i extends Pr{constructor(D,_,b,O){super(D,_),this.reason=b,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ko extends Pr{constructor(D,_,b,O){super(D,_),this.reason=b,this.code=O,this.type=16}}class ci extends Pr{constructor(D,_,b,O){super(D,_),this.error=b,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ws extends Pr{constructor(D,_,b,O){super(D,_),this.urlAfterRedirects=b,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends Pr{constructor(D,_,b,O){super(D,_),this.urlAfterRedirects=b,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo extends Pr{constructor(D,_,b,O,z){super(D,_),this.urlAfterRedirects=b,this.state=O,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eo extends Pr{constructor(D,_,b,O){super(D,_),this.urlAfterRedirects=b,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os extends Pr{constructor(D,_,b,O){super(D,_),this.urlAfterRedirects=b,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cs{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ss{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class as{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(D,_,b){this.routerEvent=D,this.position=_,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Io{}class Vo{constructor(D){this.url=D}}class Xn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hi,this.attachRef=null}}let Hi=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(_,b){const O=this.getOrCreateContext(_);O.outlet=b,this.contexts.set(_,O)}onChildOutletDestroyed(_){const b=this.getContext(_);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let b=this.getContext(_);return b||(b=new Xn,this.contexts.set(_,b)),b}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class Bi{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=Yi(D,this._root);return _?_.children.map(b=>b.value):[]}firstChild(D){const _=Yi(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=Mn(D,this._root);return _.length<2?[]:_[_.length-2].children.map(O=>O.value).filter(O=>O!==D)}pathFromRoot(D){return Mn(D,this._root).map(_=>_.value)}}function Yi(y,D){if(y===D.value)return D;for(const _ of D.children){const b=Yi(y,_);if(b)return b}return null}function Mn(y,D){if(y===D.value)return[D];for(const _ of D.children){const b=Mn(y,_);if(b.length)return b.unshift(D),b}return[]}class hr{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function Mr(y){const D={};return y&&y.children.forEach(_=>D[_.value.outlet]=_),D}class Qi extends Bi{constructor(D,_){super(D),this.snapshot=_,yt(this,D)}toString(){return this.snapshot.toString()}}function yi(y,D){const _=function Ds(y,D){const ne=new So([],{},{},"",{},Ut,D,null,{});return new Dr("",new hr(ne,[]))}(0,D),b=new xe.X([new ai("",{})]),O=new xe.X({}),z=new xe.X({}),ne=new xe.X({}),Oe=new xe.X(""),Me=new Ji(b,O,ne,Oe,z,Ut,D,_.root);return Me.snapshot=_.root,new Qi(new hr(Me,[]),_)}class Ji{constructor(D,_,b,O,z,ne,Oe,Me){this.urlSubject=D,this.paramsSubject=_,this.queryParamsSubject=b,this.fragmentSubject=O,this.dataSubject=z,this.outlet=ne,this.component=Oe,this._futureSnapshot=Me,this.title=this.dataSubject?.pipe((0,Ae.U)(bt=>bt[ti]))??(0,fe.of)(void 0),this.url=D,this.params=_,this.queryParams=b,this.fragment=O,this.data=z}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ae.U)(D=>dr(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ae.U)(D=>dr(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vi(y,D="emptyOnly"){const _=y.pathFromRoot;let b=0;if("always"!==D)for(b=_.length-1;b>=1;){const O=_[b],z=_[b-1];if(O.routeConfig&&""===O.routeConfig.path)b--;else{if(z.component)break;b--}}return function Ls(y){return y.reduce((D,_)=>({params:{...D.params,..._.params},data:{...D.data,..._.data},resolve:{..._.data,...D.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(b))}class So{get title(){return this.data?.[ti]}constructor(D,_,b,O,z,ne,Oe,Me,bt){this.url=D,this.params=_,this.queryParams=b,this.fragment=O,this.data=z,this.outlet=ne,this.component=Oe,this.routeConfig=Me,this._resolve=bt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dr extends Bi{constructor(D,_){super(_),this.url=D,yt(this,_)}toString(){return hn(this._root)}}function yt(y,D){D.value._routerState=y,D.children.forEach(_=>yt(y,_))}function hn(y){const D=y.children.length>0?` { ${y.children.map(hn).join(", ")} } `:"";return`${y.value}${D}`}function zn(y){if(y.snapshot){const D=y.snapshot,_=y._futureSnapshot;y.snapshot=_,rr(D.queryParams,_.queryParams)||y.queryParamsSubject.next(_.queryParams),D.fragment!==_.fragment&&y.fragmentSubject.next(_.fragment),rr(D.params,_.params)||y.paramsSubject.next(_.params),function Jt(y,D){if(y.length!==D.length)return!1;for(let _=0;_<y.length;++_)if(!rr(y[_],D[_]))return!1;return!0}(D.url,_.url)||y.urlSubject.next(_.url),rr(D.data,_.data)||y.dataSubject.next(_.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Ri(y,D){const _=rr(y.params,D.params)&&function ki(y,D){return qt(y,D)&&y.every((_,b)=>rr(_.parameters,D[b].parameters))}(y.url,D.url);return _&&!(!y.parent!=!D.parent)&&(!y.parent||Ri(y.parent,D.parent))}let us=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(Hi),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb),this.inputBinder=(0,m.f3M)(zi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:b,previousValue:O}=_.name;if(b)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,b){this.activated=_,this._activatedRoute=b,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,b){if(this.isActivated)throw new m.vHH(4013,!1);this._activatedRoute=_;const O=this.location,ne=_.snapshot.component,Oe=this.parentContexts.getOrCreateContext(this.name).children,Me=new Zr(_,Oe,O.injector);this.activated=O.createComponent(ne,{index:O.length,injector:Me,environmentInjector:b??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275dir=m.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]})}return y})();class Zr{constructor(D,_,b){this.route=D,this.childContexts=_,this.parent=b}get(D,_){return D===Ji?this.route:D===Hi?this.childContexts:this.parent.get(D,_)}}const zi=new m.OlP("");let fr=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:b}=_,O=Je([b.queryParams,b.params,b.data]).pipe((0,Rt.w)(([z,ne,Oe],Me)=>(Oe={...z,...ne,...Oe},0===Me?(0,fe.of)(Oe):Promise.resolve(Oe)))).subscribe(z=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(_);const ne=(0,m.qFp)(b.component);if(ne)for(const{templateName:Oe}of ne.inputs)_.activatedComponentRef.setInput(Oe,z[Oe]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,O)}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac})}return y})();function Fi(y,D,_){if(_&&y.shouldReuseRoute(D.value,_.value.snapshot)){const b=_.value;b._futureSnapshot=D.value;const O=function nn(y,D,_){return D.children.map(b=>{for(const O of _.children)if(y.shouldReuseRoute(b.value,O.value.snapshot))return Fi(y,b,O);return Fi(y,b)})}(y,D,_);return new hr(b,O)}{if(y.shouldAttach(D.value)){const z=y.retrieve(D.value);if(null!==z){const ne=z.route;return ne.value._futureSnapshot=D.value,ne.children=D.children.map(Oe=>Fi(y,Oe)),ne}}const b=function Ro(y){return new Ji(new xe.X(y.url),new xe.X(y.params),new xe.X(y.queryParams),new xe.X(y.fragment),new xe.X(y.data),y.outlet,y.component,y)}(D.value),O=D.children.map(z=>Fi(y,z));return new hr(b,O)}}const As="ngNavigationCancelingError";function Wo(y,D){const{redirectTo:_,navigationBehaviorOptions:b}=dn(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,O=Ar(!1,0,D);return O.url=_,O.navigationBehaviorOptions=b,O}function Ar(y,D,_){const b=new Error("NavigationCancelingError: "+(y||""));return b[As]=!0,b.cancellationCode=D,_&&(b.url=_),b}function li(y){return y&&y[As]}let di=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275cmp=m.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(b,O){1&b&&m._UZ(0,"router-outlet")},dependencies:[us],encapsulation:2})}return y})();function ra(y){const D=y.children&&y.children.map(ra),_=D?{...y,children:D}:{...y};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==Ut&&(_.component=di),_}function br(y){return y.outlet||Ut}function Vi(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let D=y.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class uo{constructor(D,_,b,O,z){this.routeReuseStrategy=D,this.futureState=_,this.currState=b,this.forwardEvent=O,this.inputBindingEnabled=z}activate(D){const _=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,b,D),zn(this.futureState.root),this.activateChildRoutes(_,b,D)}deactivateChildRoutes(D,_,b){const O=Mr(_);D.children.forEach(z=>{const ne=z.value.outlet;this.deactivateRoutes(z,O[ne],b),delete O[ne]}),Object.values(O).forEach(z=>{this.deactivateRouteAndItsChildren(z,b)})}deactivateRoutes(D,_,b){const O=D.value,z=_?_.value:null;if(O===z)if(O.component){const ne=b.getContext(O.outlet);ne&&this.deactivateChildRoutes(D,_,ne.children)}else this.deactivateChildRoutes(D,_,b);else z&&this.deactivateRouteAndItsChildren(_,b)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const b=_.getContext(D.value.outlet),O=b&&D.value.component?b.children:_,z=Mr(D);for(const ne of Object.keys(z))this.deactivateRouteAndItsChildren(z[ne],O);if(b&&b.outlet){const ne=b.outlet.detach(),Oe=b.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:ne,route:D,contexts:Oe})}}deactivateRouteAndOutlet(D,_){const b=_.getContext(D.value.outlet),O=b&&D.value.component?b.children:_,z=Mr(D);for(const ne of Object.keys(z))this.deactivateRouteAndItsChildren(z[ne],O);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(D,_,b){const O=Mr(_);D.children.forEach(z=>{this.activateRoutes(z,O[z.value.outlet],b),this.forwardEvent(new Ki(z.value.snapshot))}),D.children.length&&this.forwardEvent(new as(D.value.snapshot))}activateRoutes(D,_,b){const O=D.value,z=_?_.value:null;if(zn(O),O===z)if(O.component){const ne=b.getOrCreateContext(O.outlet);this.activateChildRoutes(D,_,ne.children)}else this.activateChildRoutes(D,_,b);else if(O.component){const ne=b.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const Oe=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),ne.children.onOutletReAttached(Oe.contexts),ne.attachRef=Oe.componentRef,ne.route=Oe.route.value,ne.outlet&&ne.outlet.attach(Oe.componentRef,Oe.route.value),zn(Oe.route.value),this.activateChildRoutes(D,null,ne.children)}else{const Oe=Vi(O.snapshot);ne.attachRef=null,ne.route=O,ne.injector=Oe,ne.outlet&&ne.outlet.activateWith(O,ne.injector),this.activateChildRoutes(D,null,ne.children)}}else this.activateChildRoutes(D,null,b)}}class pr{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class ei{constructor(D,_){this.component=D,this.route=_}}function ba(y,D,_){const b=y._root;return Ii(b,D?D._root:null,_,[b.value])}function Vn(y,D){const _=Symbol(),b=D.get(y,_);return b===_?"function"!=typeof y||(0,m.Z0I)(y)?D.get(y):y:b}function Ii(y,D,_,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const z=Mr(D);return y.children.forEach(ne=>{(function gs(y,D,_,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const z=y.value,ne=D?D.value:null,Oe=_?_.getContext(y.value.outlet):null;if(ne&&z.routeConfig===ne.routeConfig){const Me=function F(y,D,_){if("function"==typeof _)return _(y,D);switch(_){case"pathParamsChange":return!qt(y.url,D.url);case"pathParamsOrQueryParamsChange":return!qt(y.url,D.url)||!rr(y.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ri(y,D)||!rr(y.queryParams,D.queryParams);default:return!Ri(y,D)}}(ne,z,z.routeConfig.runGuardsAndResolvers);Me?O.canActivateChecks.push(new pr(b)):(z.data=ne.data,z._resolvedData=ne._resolvedData),Ii(y,D,z.component?Oe?Oe.children:null:_,b,O),Me&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&O.canDeactivateChecks.push(new ei(Oe.outlet.component,ne))}else ne&&V(D,Oe,O),O.canActivateChecks.push(new pr(b)),Ii(y,null,z.component?Oe?Oe.children:null:_,b,O)})(ne,z[ne.value.outlet],_,b.concat([ne.value]),O),delete z[ne.value.outlet]}),Object.entries(z).forEach(([ne,Oe])=>V(Oe,_.getContext(ne),O)),O}function V(y,D,_){const b=Mr(y),O=y.value;Object.entries(b).forEach(([z,ne])=>{V(ne,O.component?D?D.children.getContext(z):null:D,_)}),_.canDeactivateChecks.push(new ei(O.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,O))}function P(y){return"function"==typeof y}function St(y){return y instanceof mn||"EmptyError"===y?.name}const fn=Symbol("INITIAL_VALUE");function Tn(){return(0,Rt.w)(y=>Je(y.map(D=>D.pipe(ue(1),function pe(...y){const D=(0,ce.yG)(y);return(0,Cn.e)((_,b)=>{(D?Ke(y,_,D):Ke(y,_)).subscribe(b)})}(fn)))).pipe((0,Ae.U)(D=>{for(const _ of D)if(!0!==_){if(_===fn)return fn;if(!1===_||_ instanceof En)return _}return!0}),(0,he.h)(D=>D!==fn),ue(1)))}function Zn(y){return(0,gt.z)((0,ht.b)(D=>{if(dn(D))throw Wo(0,D)}),(0,Ae.U)(D=>!0===D))}class fi{constructor(D){this.segmentGroup=D||null}}class oi{constructor(D){this.urlTree=D}}function An(y){return rt(new fi(y))}function eo(y){return rt(new oi(y))}class Sa{constructor(D,_){this.urlSerializer=D,this.urlTree=_}noMatchError(D){return new m.vHH(4002,!1)}lineralizeSegments(D,_){let b=[],O=_.root;for(;;){if(b=b.concat(O.segments),0===O.numberOfChildren)return(0,fe.of)(b);if(O.numberOfChildren>1||!O.children[Ut])return rt(new m.vHH(4e3,!1));O=O.children[Ut]}}applyRedirectCommands(D,_,b){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,b)}applyRedirectCreateUrlTree(D,_,b,O){const z=this.createSegmentGroup(D,_.root,b,O);return new En(z,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const b={};return Object.entries(D).forEach(([O,z])=>{if("string"==typeof z&&z.startsWith(":")){const Oe=z.substring(1);b[O]=_[Oe]}else b[O]=z}),b}createSegmentGroup(D,_,b,O){const z=this.createSegments(D,_.segments,b,O);let ne={};return Object.entries(_.children).forEach(([Oe,Me])=>{ne[Oe]=this.createSegmentGroup(D,Me,b,O)}),new kt(z,ne)}createSegments(D,_,b,O){return _.map(z=>z.path.startsWith(":")?this.findPosParam(D,z,O):this.findOrReturn(z,b))}findPosParam(D,_,b){const O=b[_.path.substring(1)];if(!O)throw new m.vHH(4001,!1);return O}findOrReturn(D,_){let b=0;for(const O of _){if(O.path===D.path)return _.splice(b),O;b++}return D}}const Bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ko(y,D,_,b,O){const z=Ra(y,D,_);return z.matched?(b=function Xi(y,D){return y.providers&&!y._injector&&(y._injector=(0,m.MMx)(y.providers,D,`Route: ${y.path}`)),y._injector??D}(D,b),function ms(y,D,_,b){const O=D.canMatch;if(!O||0===O.length)return(0,fe.of)(!0);const z=O.map(ne=>{const Oe=Vn(ne,y);return qn(function $e(y){return y&&P(y.canMatch)}(Oe)?Oe.canMatch(D,_):y.runInContext(()=>Oe(D,_)))});return(0,fe.of)(z).pipe(Tn(),Zn())}(b,D,_).pipe((0,Ae.U)(ne=>!0===ne?z:{...Bs}))):(0,fe.of)(z)}function Ra(y,D,_){if(""===D.path)return"full"===D.pathMatch&&(y.hasChildren()||_.length>0)?{...Bs}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const O=(D.matcher||ln)(_,y,D);if(!O)return{...Bs};const z={};Object.entries(O.posParams??{}).forEach(([Oe,Me])=>{z[Oe]=Me.path});const ne=O.consumed.length>0?{...z,...O.consumed[O.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:O.consumed,remainingSegments:_.slice(O.consumed.length),parameters:ne,positionalParamSegments:O.posParams??{}}}function js(y,D,_,b){return _.length>0&&function ji(y,D,_){return _.some(b=>Lo(y,D,b)&&br(b)!==Ut)}(y,_,b)?{segmentGroup:new kt(D,ho(b,new kt(_,y.children))),slicedSegments:[]}:0===_.length&&function Wa(y,D,_){return _.some(b=>Lo(y,D,b))}(y,_,b)?{segmentGroup:new kt(y.segments,Zo(y,0,_,b,y.children)),slicedSegments:_}:{segmentGroup:new kt(y.segments,y.children),slicedSegments:_}}function Zo(y,D,_,b,O){const z={};for(const ne of b)if(Lo(y,_,ne)&&!O[br(ne)]){const Oe=new kt([],{});z[br(ne)]=Oe}return{...O,...z}}function ho(y,D){const _={};_[Ut]=D;for(const b of y)if(""===b.path&&br(b)!==Ut){const O=new kt([],{});_[br(b)]=O}return _}function Lo(y,D,_){return(!(y.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}class _s{constructor(D,_,b,O,z,ne,Oe){this.injector=D,this.configLoader=_,this.rootComponentType=b,this.config=O,this.urlTree=z,this.paramsInheritanceStrategy=ne,this.urlSerializer=Oe,this.allowRedirects=!0,this.applyRedirects=new Sa(this.urlSerializer,this.urlTree)}noMatchError(D){return new m.vHH(4002,!1)}recognize(){const D=js(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Ut).pipe(Zt(_=>{if(_ instanceof oi)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof fi?this.noMatchError(_):_}),(0,Ae.U)(_=>{const b=new So([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,{}),O=new hr(b,_),z=new Dr("",O),ne=function Cr(y,D,_=null,b=null){return Di(Kr(y),D,_,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return ne.queryParams=this.urlTree.queryParams,z.url=this.urlSerializer.serialize(ne),this.inheritParamsAndData(z._root),{state:z,tree:ne}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D.root,Ut).pipe(Zt(b=>{throw b instanceof fi?this.noMatchError(b):b}))}inheritParamsAndData(D){const _=D.value,b=vi(_,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data),D.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(D,_,b,O){return 0===b.segments.length&&b.hasChildren()?this.processChildren(D,_,b):this.processSegment(D,_,b,b.segments,O,!0)}processChildren(D,_,b){const O=[];for(const z of Object.keys(b.children))"primary"===z?O.unshift(z):O.push(z);return(0,Q.D)(O).pipe((0,mt.b)(z=>{const ne=b.children[z],Oe=function bs(y,D){const _=y.filter(b=>br(b)===D);return _.push(...y.filter(b=>br(b)!==D)),_}(_,z);return this.processSegmentGroup(D,Oe,ne,z)}),function yn(y,D){return(0,Cn.e)(function bn(y,D,_,b,O){return(z,ne)=>{let Oe=_,Me=D,bt=0;z.subscribe((0,tt.x)(ne,In=>{const Nr=bt++;Me=Oe?y(Me,In,Nr):(Oe=!0,In),b&&ne.next(Me)},O&&(()=>{Oe&&ne.next(Me),ne.complete()})))}}(y,D,arguments.length>=2,!0))}((z,ne)=>(z.push(...ne),z)),ve(null),function Fr(y,D){const _=arguments.length>=2;return b=>b.pipe(y?(0,he.h)((O,z)=>y(O,z,b)):Ve.y,Sn(1),_?ve(D):Ie(()=>new mn))}(),(0,be.z)(z=>{if(null===z)return An(b);const ne=j(z);return function uc(y){y.sort((D,_)=>D.value.outlet===Ut?-1:_.value.outlet===Ut?1:D.value.outlet.localeCompare(_.value.outlet))}(ne),(0,fe.of)(ne)}))}processSegment(D,_,b,O,z,ne){return(0,Q.D)(_).pipe((0,mt.b)(Oe=>this.processSegmentAgainstRoute(Oe._injector??D,_,Oe,b,O,z,ne).pipe(Zt(Me=>{if(Me instanceof fi)return(0,fe.of)(null);throw Me}))),He(Oe=>!!Oe),Zt(Oe=>{if(St(Oe))return function Rs(y,D,_){return 0===D.length&&!y.children[_]}(b,O,z)?(0,fe.of)([]):An(b);throw Oe}))}processSegmentAgainstRoute(D,_,b,O,z,ne,Oe){return function Ss(y,D,_,b){return!!(br(y)===b||b!==Ut&&Lo(D,_,y))&&("**"===y.path||Ra(D,y,_).matched)}(b,O,z,ne)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(D,O,b,z,ne,Oe):Oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,O,_,b,z,ne):An(O):An(O)}expandSegmentAgainstRouteUsingRedirect(D,_,b,O,z,ne){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,b,O,ne):this.expandRegularSegmentAgainstRouteUsingRedirect(D,_,b,O,z,ne)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,_,b,O){const z=this.applyRedirects.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?eo(z):this.applyRedirects.lineralizeSegments(b,z).pipe((0,be.z)(ne=>{const Oe=new kt(ne,{});return this.processSegment(D,_,Oe,ne,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,_,b,O,z,ne){const{matched:Oe,consumedSegments:Me,remainingSegments:bt,positionalParamSegments:In}=Ra(_,O,z);if(!Oe)return An(_);const Nr=this.applyRedirects.applyRedirectCommands(Me,O.redirectTo,In);return O.redirectTo.startsWith("/")?eo(Nr):this.applyRedirects.lineralizeSegments(O,Nr).pipe((0,be.z)(ar=>this.processSegment(D,b,_,ar.concat(bt),ne,!1)))}matchSegmentAgainstRoute(D,_,b,O,z,ne){let Oe;if("**"===b.path){const Me=O.length>0?Jn(O).parameters:{},bt=new So(O,Me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L(b),br(b),b.component??b._loadedComponent??null,b,oe(b));Oe=(0,fe.of)({snapshot:bt,consumedSegments:[],remainingSegments:[]}),_.children={}}else Oe=Ko(_,b,O,D).pipe((0,Ae.U)(({matched:Me,consumedSegments:bt,remainingSegments:In,parameters:Nr})=>Me?{snapshot:new So(bt,Nr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L(b),br(b),b.component??b._loadedComponent??null,b,oe(b)),consumedSegments:bt,remainingSegments:In}:null));return Oe.pipe((0,Rt.w)(Me=>null===Me?An(_):this.getChildConfig(D=b._injector??D,b,O).pipe((0,Rt.w)(({routes:bt})=>{const In=b._loadedInjector??D,{snapshot:Nr,consumedSegments:ar,remainingSegments:ys}=Me,{segmentGroup:xa,slicedSegments:zs}=js(_,ar,ys,bt);if(0===zs.length&&xa.hasChildren())return this.processChildren(In,bt,xa).pipe((0,Ae.U)(Za=>null===Za?null:[new hr(Nr,Za)]));if(0===bt.length&&0===zs.length)return(0,fe.of)([new hr(Nr,[])]);const hc=br(b)===z;return this.processSegment(In,bt,xa,zs,hc?Ut:z,!0).pipe((0,Ae.U)(Za=>[new hr(Nr,Za)]))}))))}getChildConfig(D,_,b){return _.children?(0,fe.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,fe.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Lr(y,D,_,b){const O=D.canLoad;if(void 0===O||0===O.length)return(0,fe.of)(!0);const z=O.map(ne=>{const Oe=Vn(ne,y);return qn(function S(y){return y&&P(y.canLoad)}(Oe)?Oe.canLoad(D,_):y.runInContext(()=>Oe(D,_)))});return(0,fe.of)(z).pipe(Tn(),Zn())}(D,_,b).pipe((0,be.z)(O=>O?this.configLoader.loadChildren(D,_).pipe((0,ht.b)(z=>{_._loadedRoutes=z.routes,_._loadedInjector=z.injector})):function qo(y){return rt(Ar(!1,3))}())):(0,fe.of)({routes:[],injector:D})}}function w(y){const D=y.value.routeConfig;return D&&""===D.path}function j(y){const D=[],_=new Set;for(const b of y){if(!w(b)){D.push(b);continue}const O=D.find(z=>b.value.routeConfig===z.value.routeConfig);void 0!==O?(O.children.push(...b.children),_.add(O)):D.push(b)}for(const b of _){const O=j(b.children);D.push(new hr(b.value,O))}return D.filter(b=>!_.has(b))}function L(y){return y.data||{}}function oe(y){return y.resolve||{}}function rn(y){return"string"==typeof y.title||null===y.title}function yr(y){return(0,Rt.w)(D=>{const _=y(D);return _?(0,Q.D)(_).pipe((0,Ae.U)(()=>D)):(0,fe.of)(D)})}const kn=new m.OlP("ROUTES");let zr=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,fe.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const b=qn(_.loadComponent()).pipe((0,Ae.U)(xr),(0,ht.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=z}),(0,Rr.x)(()=>{this.componentLoaders.delete(_)})),O=new _n(b,()=>new lt.x).pipe(Ze());return this.componentLoaders.set(_,O),O}loadChildren(_,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,fe.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const z=function ls(y,D,_,b){return qn(y.loadChildren()).pipe((0,Ae.U)(xr),(0,be.z)(O=>O instanceof m.YKP||Array.isArray(O)?(0,fe.of)(O):(0,Q.D)(D.compileModuleAsync(O))),(0,Ae.U)(O=>{b&&b(y);let z,ne,Oe=!1;return Array.isArray(O)?(ne=O,!0):(z=O.create(_).injector,ne=z.get(kn,[],{optional:!0,self:!0}).flat()),{routes:ne.map(ra),injector:z}}))}(b,this.compiler,_,this.onLoadEndListener).pipe((0,Rr.x)(()=>{this.childrenLoaders.delete(b)})),ne=new _n(z,()=>new lt.x).pipe(Ze());return this.childrenLoaders.set(b,ne),ne}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function xr(y){return function nt(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Or=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt.x,this.transitionAbortSubject=new lt.x,this.configLoader=(0,m.f3M)(zr),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(wr),this.rootContexts=(0,m.f3M)(Hi),this.inputBindingEnabled=null!==(0,m.f3M)(zi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new Cs(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new Vs(O))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:b})}setupNavigations(_,b,O){return this.transitions=new xe.X({id:0,currentUrlTree:b,currentRawUrl:b,currentBrowserUrl:b,extractedUrl:_.urlHandlingStrategy.extract(b),urlAfterRedirects:_.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:so,restoredState:null,currentSnapshot:O.snapshot,targetSnapshot:null,currentRouterState:O,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,he.h)(z=>0!==z.id),(0,Ae.U)(z=>({...z,extractedUrl:_.urlHandlingStrategy.extract(z.rawUrl)})),(0,Rt.w)(z=>{this.currentTransition=z;let ne=!1,Oe=!1;return(0,fe.of)(z).pipe((0,ht.b)(Me=>{this.currentNavigation={id:Me.id,initialUrl:Me.rawUrl,extractedUrl:Me.extractedUrl,trigger:Me.source,extras:Me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Rt.w)(Me=>{const bt=Me.currentBrowserUrl.toString(),In=!_.navigated||Me.extractedUrl.toString()!==bt||bt!==Me.currentUrlTree.toString();if(!In&&"reload"!==(Me.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const ar="";return this.events.next(new ko(Me.id,this.urlSerializer.serialize(Me.rawUrl),ar,0)),Me.resolve(null),st.E}if(_.urlHandlingStrategy.shouldProcessUrl(Me.rawUrl))return(0,fe.of)(Me).pipe((0,Rt.w)(ar=>{const ys=this.transitions?.getValue();return this.events.next(new $i(ar.id,this.urlSerializer.serialize(ar.extractedUrl),ar.source,ar.restoredState)),ys!==this.transitions?.getValue()?st.E:Promise.resolve(ar)}),function Fe(y,D,_,b,O,z){return(0,be.z)(ne=>function Pa(y,D,_,b,O,z,ne="emptyOnly"){return new _s(y,D,_,b,O,ne,z).recognize()}(y,D,_,b,ne.extractedUrl,O,z).pipe((0,Ae.U)(({state:Oe,tree:Me})=>({...ne,targetSnapshot:Oe,urlAfterRedirects:Me}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,ht.b)(ar=>{z.targetSnapshot=ar.targetSnapshot,z.urlAfterRedirects=ar.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ar.urlAfterRedirects};const ys=new ws(ar.id,this.urlSerializer.serialize(ar.extractedUrl),this.urlSerializer.serialize(ar.urlAfterRedirects),ar.targetSnapshot);this.events.next(ys)}));if(In&&_.urlHandlingStrategy.shouldProcessUrl(Me.currentRawUrl)){const{id:ar,extractedUrl:ys,source:xa,restoredState:zs,extras:hc}=Me,Za=new $i(ar,this.urlSerializer.serialize(ys),xa,zs);this.events.next(Za);const go=yi(0,this.rootComponentType).snapshot;return this.currentTransition=z={...Me,targetSnapshot:go,urlAfterRedirects:ys,extras:{...hc,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(z)}{const ar="";return this.events.next(new ko(Me.id,this.urlSerializer.serialize(Me.extractedUrl),ar,1)),Me.resolve(null),st.E}}),(0,ht.b)(Me=>{const bt=new Fo(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot);this.events.next(bt)}),(0,Ae.U)(Me=>(this.currentTransition=z={...Me,guards:ba(Me.targetSnapshot,Me.currentSnapshot,this.rootContexts)},z)),function Vr(y,D){return(0,be.z)(_=>{const{targetSnapshot:b,currentSnapshot:O,guards:{canActivateChecks:z,canDeactivateChecks:ne}}=_;return 0===ne.length&&0===z.length?(0,fe.of)({..._,guardsResult:!0}):function ii(y,D,_,b){return(0,Q.D)(y).pipe((0,be.z)(O=>function lo(y,D,_,b,O){const z=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,fe.of)(!0);const ne=z.map(Oe=>{const Me=Vi(D)??O,bt=Vn(Oe,Me);return qn(function ye(y){return y&&P(y.canDeactivate)}(bt)?bt.canDeactivate(y,D,_,b):Me.runInContext(()=>bt(y,D,_,b))).pipe(He())});return(0,fe.of)(ne).pipe(Tn())}(O.component,O.route,_,D,b)),He(O=>!0!==O,!0))}(ne,b,O,y).pipe((0,be.z)(Oe=>Oe&&function I(y){return"boolean"==typeof y}(Oe)?function hi(y,D,_,b){return(0,Q.D)(D).pipe((0,mt.b)(O=>Ke(function co(y,D){return null!==y&&D&&D(new ss(y)),(0,fe.of)(!0)}(O.route.parent,b),function jr(y,D){return null!==y&&D&&D(new Da(y)),(0,fe.of)(!0)}(O.route,b),function Yr(y,D,_){const b=D[D.length-1],z=D.slice(0,D.length-1).reverse().map(ne=>function Po(y){const D=y.routeConfig?y.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:y,guards:D}:null}(ne)).filter(ne=>null!==ne).map(ne=>at(()=>{const Oe=ne.guards.map(Me=>{const bt=Vi(ne.node)??_,In=Vn(Me,bt);return qn(function X(y){return y&&P(y.canActivateChild)}(In)?In.canActivateChild(b,y):bt.runInContext(()=>In(b,y))).pipe(He())});return(0,fe.of)(Oe).pipe(Tn())}));return(0,fe.of)(z).pipe(Tn())}(y,O.path,_),function $r(y,D,_){const b=D.routeConfig?D.routeConfig.canActivate:null;if(!b||0===b.length)return(0,fe.of)(!0);const O=b.map(z=>at(()=>{const ne=Vi(D)??_,Oe=Vn(z,ne);return qn(function Z(y){return y&&P(y.canActivate)}(Oe)?Oe.canActivate(D,y):ne.runInContext(()=>Oe(D,y))).pipe(He())}));return(0,fe.of)(O).pipe(Tn())}(y,O.route,_))),He(O=>!0!==O,!0))}(b,z,y,D):(0,fe.of)(Oe)),(0,Ae.U)(Oe=>({..._,guardsResult:Oe})))})}(this.environmentInjector,Me=>this.events.next(Me)),(0,ht.b)(Me=>{if(z.guardsResult=Me.guardsResult,dn(Me.guardsResult))throw Wo(0,Me.guardsResult);const bt=new bo(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot,!!Me.guardsResult);this.events.next(bt)}),(0,he.h)(Me=>!!Me.guardsResult||(this.cancelNavigationTransition(Me,"",3),!1)),yr(Me=>{if(Me.guards.canActivateChecks.length)return(0,fe.of)(Me).pipe((0,ht.b)(bt=>{const In=new Eo(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot);this.events.next(In)}),(0,Rt.w)(bt=>{let In=!1;return(0,fe.of)(bt).pipe(function Ye(y,D){return(0,be.z)(_=>{const{targetSnapshot:b,guards:{canActivateChecks:O}}=_;if(!O.length)return(0,fe.of)(_);let z=0;return(0,Q.D)(O).pipe((0,mt.b)(ne=>function Vt(y,D,_,b){const O=y.routeConfig,z=y._resolve;return void 0!==O?.title&&!rn(O)&&(z[ti]=O.title),function Hr(y,D,_,b){const O=function tr(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===O.length)return(0,fe.of)({});const z={};return(0,Q.D)(O).pipe((0,be.z)(ne=>function _r(y,D,_,b){const O=Vi(D)??b,z=Vn(y,O);return qn(z.resolve?z.resolve(D,_):O.runInContext(()=>z(D,_)))}(y[ne],D,_,b).pipe(He(),(0,ht.b)(Oe=>{z[ne]=Oe}))),Sn(1),function Pn(y){return(0,Ae.U)(()=>y)}(z),Zt(ne=>St(ne)?st.E:rt(ne)))}(z,y,D,b).pipe((0,Ae.U)(ne=>(y._resolvedData=ne,y.data=vi(y,_).resolve,O&&rn(O)&&(y.data[ti]=O.title),null)))}(ne.route,b,y,D)),(0,ht.b)(()=>z++),Sn(1),(0,be.z)(ne=>z===O.length?(0,fe.of)(_):st.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,ht.b)({next:()=>In=!0,complete:()=>{In||this.cancelNavigationTransition(bt,"",2)}}))}),(0,ht.b)(bt=>{const In=new os(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot);this.events.next(In)}))}),yr(Me=>{const bt=In=>{const Nr=[];In.routeConfig?.loadComponent&&!In.routeConfig._loadedComponent&&Nr.push(this.configLoader.loadComponent(In.routeConfig).pipe((0,ht.b)(ar=>{In.component=ar}),(0,Ae.U)(()=>{})));for(const ar of In.children)Nr.push(...bt(ar));return Nr};return Je(bt(Me.targetSnapshot.root)).pipe(ve(),ue(1))}),yr(()=>this.afterPreactivation()),(0,Ae.U)(Me=>{const bt=function ao(y,D,_){const b=Fi(y,D._root,_?_._root:void 0);return new Qi(b,D)}(_.routeReuseStrategy,Me.targetSnapshot,Me.currentRouterState);return this.currentTransition=z={...Me,targetRouterState:bt},z}),(0,ht.b)(()=>{this.events.next(new Io)}),((y,D,_,b)=>(0,Ae.U)(O=>(new uo(D,O.targetRouterState,O.currentRouterState,_,b).activate(y),O)))(this.rootContexts,_.routeReuseStrategy,Me=>this.events.next(Me),this.inputBindingEnabled),ue(1),(0,ht.b)({next:Me=>{ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Si(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects))),_.titleStrategy?.updateTitle(Me.targetRouterState.snapshot),Me.resolve(!0)},complete:()=>{ne=!0}}),function zt(y){return(0,Cn.e)((D,_)=>{(0,Ge.Xf)(y).subscribe((0,tt.x)(_,()=>_.complete(),Un.Z)),!_.closed&&D.subscribe(_)})}(this.transitionAbortSubject.pipe((0,ht.b)(Me=>{throw Me}))),(0,Rr.x)(()=>{ne||Oe||this.cancelNavigationTransition(z,"",1),this.currentNavigation?.id===z.id&&(this.currentNavigation=null)}),Zt(Me=>{if(Oe=!0,li(Me))this.events.next(new _i(z.id,this.urlSerializer.serialize(z.extractedUrl),Me.message,Me.cancellationCode)),function Gi(y){return li(y)&&dn(y.url)}(Me)?this.events.next(new Vo(Me.url)):z.resolve(!1);else{this.events.next(new ci(z.id,this.urlSerializer.serialize(z.extractedUrl),Me,z.targetSnapshot??void 0));try{z.resolve(_.errorHandler(Me))}catch(bt){z.reject(bt)}}return st.E}))}))}cancelNavigationTransition(_,b,O){const z=new _i(_.id,this.urlSerializer.serialize(_.extractedUrl),b,O);this.events.next(z),_.resolve(!1)}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function Yo(y){return y!==so}let xt=(()=>{class y{buildTitle(_){let b,O=_.root;for(;void 0!==O;)b=this.getResolvedTitleForRoute(O)??b,O=O.children.find(z=>z.outlet===Ut);return b}getResolvedTitleForRoute(_){return _.data[ti]}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(Lt)},providedIn:"root"})}return y})(),Lt=(()=>{class y extends xt{constructor(_){super(),this.title=_}updateTitle(_){const b=this.buildTitle(_);void 0!==b&&this.title.setTitle(b)}static#e=this.\u0275fac=function(b){return new(b||y)(m.LFG(Er.Dx))};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),nd=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(je)},providedIn:"root"})}return y})();class Dt{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let je=(()=>{class y extends Dt{static#e=this.\u0275fac=function(){let _;return function(O){return(_||(_=m.n5z(y)))(O||y)}}();static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const ot=new m.OlP("",{providedIn:"root",factory:()=>({})});let Li=(()=>{class y{static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:function(){return(0,m.f3M)(cc)},providedIn:"root"})}return y})(),cc=(()=>{class y{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,b){return _}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var _u=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(_u||{});function lc(y,D){y.events.pipe((0,he.h)(_=>_ instanceof Si||_ instanceof _i||_ instanceof ci||_ instanceof ko),(0,Ae.U)(_=>_ instanceof Si||_ instanceof ko?_u.COMPLETE:_ instanceof _i&&(0===_.code||1===_.code)?_u.REDIRECTING:_u.FAILED),(0,he.h)(_=>_!==_u.REDIRECTING),ue(1)).subscribe(()=>{D()})}function mh(y){throw y}function Ps(y,D,_){return D.parse("/")}const rd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jn=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this._events=new lt.x,this.options=(0,m.f3M)(ot,{optional:!0})||{},this.pendingTasks=(0,m.f3M)(m.HDt),this.errorHandler=this.options.errorHandler||mh,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ps,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Li),this.routeReuseStrategy=(0,m.f3M)(nd),this.titleStrategy=(0,m.f3M)(xt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,m.f3M)(kn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,m.f3M)(Or),this.urlSerializer=(0,m.f3M)(wr),this.location=(0,m.f3M)(Xt.Ye),this.componentInputBindingEnabled=!!(0,m.f3M)(zi,{optional:!0}),this.eventsSubscription=new Kt.w0,this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new En,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(b=>{try{const{currentTransition:O}=this.navigationTransitions;if(null===O)return void(oa(b)&&this._events.next(b));if(b instanceof $i)Yo(O.source)&&(this.browserUrlTree=O.extractedUrl);else if(b instanceof ko)this.rawUrlTree=O.rawUrl;else if(b instanceof ws){if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(z,O)}this.browserUrlTree=O.urlAfterRedirects}}else if(b instanceof Io)this.currentUrlTree=O.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl),this.routerState=O.targetRouterState,"deferred"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,O),this.browserUrlTree=O.urlAfterRedirects);else if(b instanceof _i)0!==b.code&&1!==b.code&&(this.navigated=!0),(3===b.code||2===b.code)&&this.restoreHistory(O);else if(b instanceof Vo){const z=this.urlHandlingStrategy.merge(b.url,O.currentRawUrl),ne={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yo(O.source)};this.scheduleNavigation(z,so,null,ne,{resolve:O.resolve,reject:O.reject,promise:O.promise})}b instanceof ci&&this.restoreHistory(O,!0),b instanceof Si&&(this.navigated=!0),oa(b)&&this._events.next(b)}catch(O){this.navigationTransitions.transitionAbortSubject.next(O)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),so,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const b="popstate"===_.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,b,_.state)},0)}))}navigateToSyncWithBrowser(_,b,O){const z={replaceUrl:!0},ne=O?.navigationId?O:null;if(O){const Me={...O};delete Me.navigationId,delete Me.\u0275routerPageId,0!==Object.keys(Me).length&&(z.state=Me)}const Oe=this.parseUrl(_);this.scheduleNavigation(Oe,b,ne,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(ra),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,b={}){const{relativeTo:O,queryParams:z,fragment:ne,queryParamsHandling:Oe,preserveFragment:Me}=b,bt=Me?this.currentUrlTree.fragment:ne;let Nr,In=null;switch(Oe){case"merge":In={...this.currentUrlTree.queryParams,...z};break;case"preserve":In=this.currentUrlTree.queryParams;break;default:In=z||null}null!==In&&(In=this.removeEmptyProps(In));try{Nr=Kr(O?O.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),Nr=this.currentUrlTree.root}return Di(Nr,_,In,bt??null)}navigateByUrl(_,b={skipLocationChange:!1}){const O=dn(_)?_:this.parseUrl(_),z=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(z,so,null,b)}navigate(_,b={skipLocationChange:!1}){return function $s(y){for(let D=0;D<y.length;D++)if(null==y[D])throw new m.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,b),b)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let b;try{b=this.urlSerializer.parse(_)}catch(O){b=this.malformedUriErrorHandler(O,this.urlSerializer,_)}return b}isActive(_,b){let O;if(O=!0===b?{...rd}:!1===b?{...nl}:b,dn(_))return Gn(this.currentUrlTree,_,O);const z=this.parseUrl(_);return Gn(this.currentUrlTree,z,O)}removeEmptyProps(_){return Object.keys(_).reduce((b,O)=>{const z=_[O];return null!=z&&(b[O]=z),b},{})}scheduleNavigation(_,b,O,z,ne){if(this.disposed)return Promise.resolve(!1);let Oe,Me,bt;ne?(Oe=ne.resolve,Me=ne.reject,bt=ne.promise):bt=new Promise((Nr,ar)=>{Oe=Nr,Me=ar});const In=this.pendingTasks.add();return lc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(In))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:_,extras:z,resolve:Oe,reject:Me,promise:bt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bt.catch(Nr=>Promise.reject(Nr))}setBrowserUrl(_,b){const O=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(O)||b.extras.replaceUrl){const ne={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(O,"",ne)}else{const z={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go(O,"",z)}}restoreHistory(_,b=!1){if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-this.browserPageId;0!==z?this.location.historyGo(z):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===z&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,b){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:b}:{navigationId:_}}static#e=this.\u0275fac=function(b){return new(b||y)};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function oa(y){return!(y instanceof Io||y instanceof Vo)}let to=(()=>{class y{constructor(_,b,O,z,ne,Oe){this.router=_,this.route=b,this.tabIndexAttribute=O,this.renderer=z,this.el=ne,this.locationStrategy=Oe,this.href=null,this.commands=null,this.onChanges=new lt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Me=ne.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Me||"area"===Me,this.isAnchorElement?this.subscription=_.events.subscribe(bt=>{bt instanceof Si&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,b,O,z,ne){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||b||O||z||ne||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,b){const O=this.renderer,z=this.el.nativeElement;null!==b?O.setAttribute(z,_,b):O.removeAttribute(z,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(b){return new(b||y)(m.Y36(jn),m.Y36(Ji),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Xt.S$))};static#t=this.\u0275dir=m.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,O){1&b&&m.NdJ("click",function(ne){return O.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&b&&m.uIk("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",m.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",m.VuI],replaceUrl:["replaceUrl","replaceUrl",m.VuI],routerLink:"routerLink"},standalone:!0,features:[m.Xq5,m.TTD]})}return y})(),wn=(()=>{class y{get isActive(){return this._isActive}constructor(_,b,O,z,ne){this.router=_,this.element=b,this.renderer=O,this.cdr=z,this.link=ne,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new m.vpe,this.routerEventsSubscription=_.events.subscribe(Oe=>{Oe instanceof Si&&this.update()})}ngAfterContentInit(){(0,fe.of)(this.links.changes,(0,fe.of)(null)).pipe((0,Wt.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),this.link].filter(b=>!!b).map(b=>b.onChanges);this.linkInputChangesSubscription=(0,Q.D)(_).pipe((0,Wt.J)()).subscribe(b=>{this._isActive!==this.isLinkActive(this.router)(b)&&this.update()})}set routerLinkActive(_){const b=Array.isArray(_)?_:_.split(" ");this.classes=b.filter(O=>!!O)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const _=this.hasActiveLinks();this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.classes.forEach(b=>{_?this.renderer.addClass(this.element.nativeElement,b):this.renderer.removeClass(this.element.nativeElement,b)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const b=function sa(y){return!!y.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>!!O.urlTree&&_.isActive(O.urlTree,b)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}static#e=this.\u0275fac=function(b){return new(b||y)(m.Y36(jn),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(to,8))};static#t=this.\u0275dir=m.lG2({type:y,selectors:[["","routerLinkActive",""]],contentQueries:function(b,O,z){if(1&b&&m.Suo(z,to,5),2&b){let ne;m.iGM(ne=m.CRH())&&(O.links=ne)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[m.TTD]})}return y})();class aa{}let ua=(()=>{class y{constructor(_,b,O,z,ne){this.router=_,this.injector=O,this.preloadingStrategy=z,this.loader=ne}setUpPreloading(){this.subscription=this.router.events.pipe((0,he.h)(_=>_ instanceof Si),(0,mt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,b){const O=[];for(const z of b){z.providers&&!z._injector&&(z._injector=(0,m.MMx)(z.providers,_,`Route: ${z.path}`));const ne=z._injector??_,Oe=z._loadedInjector??ne;(z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent)&&O.push(this.preloadConfig(ne,z)),(z.children||z._loadedRoutes)&&O.push(this.processRoutes(Oe,z.children??z._loadedRoutes))}return(0,Q.D)(O).pipe((0,Wt.J)())}preloadConfig(_,b){return this.preloadingStrategy.preload(b,()=>{let O;O=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(_,b):(0,fe.of)(null);const z=O.pipe((0,be.z)(ne=>null===ne?(0,fe.of)(void 0):(b._loadedRoutes=ne.routes,b._loadedInjector=ne.injector,this.processRoutes(ne.injector??_,ne.routes))));if(b.loadComponent&&!b._loadedComponent){const ne=this.loader.loadComponent(b);return(0,Q.D)([z,ne]).pipe((0,Wt.J)())}return z})}static#e=this.\u0275fac=function(b){return new(b||y)(m.LFG(jn),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(aa),m.LFG(zr))};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Wn=new m.OlP("");let Hs=(()=>{class y{constructor(_,b,O,z,ne={}){this.urlSerializer=_,this.transitions=b,this.viewportScroller=O,this.zone=z,this.options=ne,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ne.scrollPositionRestoration=ne.scrollPositionRestoration||"disabled",ne.anchorScrolling=ne.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof $i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Si?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof ko&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Zi&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zi(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(b){m.$Z()};static#t=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac})}return y})();function To(y,D){return{\u0275kind:y,\u0275providers:D}}function rl(){const y=(0,m.f3M)(m.zs3);return D=>{const _=y.get(m.z2F);if(D!==_.components[0])return;const b=y.get(jn),O=y.get(la);1===y.get(vu)&&b.initialNavigation(),y.get(Wr,null,m.XFs.Optional)?.setUpPreloading(),y.get(Wn,null,m.XFs.Optional)?.init(),b.resetRootComponentType(_.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const la=new m.OlP("",{factory:()=>new lt.x}),vu=new m.OlP("",{providedIn:"root",factory:()=>1}),Wr=new m.OlP("");function id(y){return To(0,[{provide:Wr,useExisting:ua},{provide:aa,useExisting:y}])}const Yn=new m.OlP("ROUTER_FORROOT_GUARD"),Ma=[Xt.Ye,{provide:wr,useClass:ui},jn,Hi,{provide:Ji,useFactory:function At(y){return y.routerState.root},deps:[jn]},zr,[]];function Qo(){return new m.PXZ("Router",jn)}let Wi=(()=>{class y{constructor(_){}static forRoot(_,b){return{ngModule:y,providers:[Ma,[],{provide:kn,multi:!0,useValue:_},{provide:Yn,useFactory:qa,deps:[[jn,new m.FiY,new m.tp0]]},{provide:ot,useValue:b||{}},b?.useHash?{provide:Xt.S$,useClass:Xt.Do}:{provide:Xt.S$,useClass:Xt.b0},{provide:Wn,useFactory:()=>{const y=(0,m.f3M)(Xt.EM),D=(0,m.f3M)(m.R0b),_=(0,m.f3M)(ot),b=(0,m.f3M)(Or),O=(0,m.f3M)(wr);return _.scrollOffset&&y.setOffset(_.scrollOffset),new Hs(O,b,y,D,_)}},b?.preloadingStrategy?id(b.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Qo},b?.initialNavigation?Iu(b):[],b?.bindToComponentInputs?To(8,[fr,{provide:zi,useExisting:fr}]).\u0275providers:[],[{provide:fo,useFactory:rl},{provide:m.tb,multi:!0,useExisting:fo}]]}}static forChild(_){return{ngModule:y,providers:[{provide:kn,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(b){return new(b||y)(m.LFG(Yn,8))};static#t=this.\u0275mod=m.oAB({type:y});static#n=this.\u0275inj=m.cJS({})}return y})();function qa(y){return"guarded"}function Iu(y){return["disabled"===y.initialNavigation?To(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const D=(0,m.f3M)(jn);return()=>{D.setUpLocationChangeListener()}}},{provide:vu,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?To(2,[{provide:vu,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:D=>{const _=D.get(Xt.V_,Promise.resolve());return()=>_.then(()=>new Promise(b=>{const O=D.get(jn),z=D.get(la);lc(O,()=>{b(!0)}),D.get(Or).afterPreactivation=()=>(b(!0),z.closed?(0,fe.of)(void 0):z),O.initialNavigation()}))}}]).\u0275providers:[]]}const fo=new m.OlP("")},534:($t,ze,B)=>{B.d(ze,{Jn:()=>si,qX:()=>$n,Xd:()=>qn,Mq:()=>pn,C6:()=>En,ZF:()=>Tr,KN:()=>ki});var m=B(5861),se=B(4537),Be=B(7879),M=B(9058);const Q=(re,ie)=>ie.some(we=>re instanceof we);let fe,xe;const te=new WeakMap,ce=new WeakMap,Pe=new WeakMap,tt=new WeakMap,Qe=new WeakMap;let Ht={get(re,ie,we){if(re instanceof IDBTransaction){if("done"===ie)return ce.get(re);if("objectStoreNames"===ie)return re.objectStoreNames||Pe.get(re);if("store"===ie)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return Le(re[ie])},set:(re,ie,we)=>(re[ie]=we,!0),has:(re,ie)=>re instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in re};function Wt(re){return"function"==typeof re?function mn(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...ie){return re.apply(Ke(this),ie),Le(te.get(this))}:function(...ie){return Le(re.apply(Ke(this),ie))}:function(ie,...we){const Se=re.call(Ke(this),ie,...we);return Pe.set(Se,ie.sort?ie.sort():[ie]),Le(Se)}}(re):(re instanceof IDBTransaction&&function Pt(re){if(ce.has(re))return;const ie=new Promise((we,Se)=>{const Ot=()=>{re.removeEventListener("complete",Xe),re.removeEventListener("error",Bt),re.removeEventListener("abort",Bt)},Xe=()=>{we(),Ot()},Bt=()=>{Se(re.error||new DOMException("AbortError","AbortError")),Ot()};re.addEventListener("complete",Xe),re.addEventListener("error",Bt),re.addEventListener("abort",Bt)});ce.set(re,ie)}(re),Q(re,function Ce(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,Ht):re)}function Le(re){if(re instanceof IDBRequest)return function Je(re){const ie=new Promise((we,Se)=>{const Ot=()=>{re.removeEventListener("success",Xe),re.removeEventListener("error",Bt)},Xe=()=>{we(Le(re.result)),Ot()},Bt=()=>{Se(re.error),Ot()};re.addEventListener("success",Xe),re.addEventListener("error",Bt)});return ie.then(we=>{we instanceof IDBCursor&&te.set(we,re)}).catch(()=>{}),Qe.set(ie,re),ie}(re);if(tt.has(re))return tt.get(re);const ie=Wt(re);return ie!==re&&(tt.set(re,ie),Qe.set(ie,re)),ie}const Ke=re=>Qe.get(re),gt=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],st=new Map;function Kt(re,ie){if(!(re instanceof IDBDatabase)||ie in re||"string"!=typeof ie)return;if(st.get(ie))return st.get(ie);const we=ie.replace(/FromIndex$/,""),Se=ie!==we,Ot=rt.includes(we);if(!(we in(Se?IDBIndex:IDBObjectStore).prototype)||!Ot&&!gt.includes(we))return;const Xe=function(){var Bt=(0,m.Z)(function*(Bn,...dn){const Cr=this.transaction(Bn,Ot?"readwrite":"readonly");let Kr=Cr.store;return Se&&(Kr=Kr.index(dn.shift())),(yield Promise.all([Kr[we](...dn),Ot&&Cr.done]))[0]});return function(dn){return Bt.apply(this,arguments)}}();return st.set(ie,Xe),Xe}!function wt(re){Ht=re(Ht)}(re=>({...re,get:(ie,we,Se)=>Kt(ie,we)||re.get(ie,we,Se),has:(ie,we)=>!!Kt(ie,we)||re.has(ie,we)}));class Cn{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function Ze(re){const ie=re.getComponent();return"VERSION"===ie?.type}(we)){const Se=we.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(we=>we).join(" ")}}const _n="@firebase/app",Xt=new Be.Yd("@firebase/app"),dr="[DEFAULT]",ln={[_n]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,rr=new Map;function ni(re,ie){try{re.container.addComponent(ie)}catch(we){Xt.debug(`Component ${ie.name} failed to register with FirebaseApp ${re.name}`,we)}}function qn(re){const ie=re.name;if(rr.has(ie))return Xt.debug(`There were multiple attempts to register component ${ie}.`),!1;rr.set(ie,re);for(const we of Jt.values())ni(we,re);return!0}function $n(re,ie){const we=re.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),re.container.getProvider(ie)}const vt=new M.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ni{constructor(ie,we,Se){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw vt.create("app-deleted",{appName:this._name})}}const si="10.7.0";function Tr(re,ie={}){let we=re;"object"!=typeof ie&&(ie={name:ie});const Se=Object.assign({name:dr,automaticDataCollectionEnabled:!1},ie),Ot=Se.name;if("string"!=typeof Ot||!Ot)throw vt.create("bad-app-name",{appName:String(Ot)});if(we||(we=(0,M.aH)()),!we)throw vt.create("no-options");const Xe=Jt.get(Ot);if(Xe){if((0,M.vZ)(we,Xe.options)&&(0,M.vZ)(Se,Xe.config))return Xe;throw vt.create("duplicate-app",{appName:Ot})}const Bt=new se.H0(Ot);for(const dn of rr.values())Bt.addComponent(dn);const Bn=new Ni(we,Se,Bt);return Jt.set(Ot,Bn),Bn}function pn(re=dr){const ie=Jt.get(re);if(!ie&&re===dr&&(0,M.aH)())return Tr();if(!ie)throw vt.create("no-app",{appName:re});return ie}function En(){return Array.from(Jt.values())}function ki(re,ie,we){var Se;let Ot=null!==(Se=ln[re])&&void 0!==Se?Se:re;we&&(Ot+=`-${we}`);const Xe=Ot.match(/\s|\//),Bt=ie.match(/\s|\//);if(Xe||Bt){const Bn=[`Unable to register library "${Ot}" with version "${ie}":`];return Xe&&Bn.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Xe&&Bt&&Bn.push("and"),Bt&&Bn.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void Xt.warn(Bn.join(" "))}qn(new se.wA(`${Ot}-version`,()=>({library:Ot,version:ie}),"VERSION"))}const wr="firebase-heartbeat-database",ui=1,le="firebase-heartbeat-store";let W=null;function q(){return W||(W=function Ge(re,ie,{blocked:we,upgrade:Se,blocking:Ot,terminated:Xe}={}){const Bt=indexedDB.open(re,ie),Bn=Le(Bt);return Se&&Bt.addEventListener("upgradeneeded",dn=>{Se(Le(Bt.result),dn.oldVersion,dn.newVersion,Le(Bt.transaction),dn)}),we&&Bt.addEventListener("blocked",dn=>we(dn.oldVersion,dn.newVersion,dn)),Bn.then(dn=>{Xe&&dn.addEventListener("close",()=>Xe()),Ot&&dn.addEventListener("versionchange",Cr=>Ot(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),Bn}(wr,ui,{upgrade:(re,ie)=>{0===ie&&re.createObjectStore(le)}}).catch(re=>{throw vt.create("idb-open",{originalErrorMessage:re.message})})),W}function K(){return(K=(0,m.Z)(function*(re){try{return yield(yield q()).transaction(le).objectStore(le).get(ft(re))}catch(ie){if(ie instanceof M.ZR)Xt.warn(ie.message);else{const we=vt.create("idb-get",{originalErrorMessage:ie?.message});Xt.warn(we.message)}}})).apply(this,arguments)}function Te(re,ie){return We.apply(this,arguments)}function We(){return(We=(0,m.Z)(function*(re,ie){try{const Se=(yield q()).transaction(le,"readwrite");yield Se.objectStore(le).put(ie,ft(re)),yield Se.done}catch(we){if(we instanceof M.ZR)Xt.warn(we.message);else{const Se=vt.create("idb-set",{originalErrorMessage:we?.message});Xt.warn(Se.message)}}})).apply(this,arguments)}function ft(re){return`${re.name}!${re.options.appId}`}class tn{constructor(ie){this.container=ie,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new Ee(we),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var ie=this;return(0,m.Z)(function*(){var we,Se;const Xe=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=Qt();if((null!=(null===(we=ie._heartbeatsCache)||void 0===we?void 0:we.heartbeats)||(ie._heartbeatsCache=yield ie._heartbeatsCachePromise,null!=(null===(Se=ie._heartbeatsCache)||void 0===Se?void 0:Se.heartbeats)))&&ie._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!ie._heartbeatsCache.heartbeats.some(Bn=>Bn.date===Bt))return ie._heartbeatsCache.heartbeats.push({date:Bt,agent:Xe}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Bn=>{const dn=new Date(Bn.date).valueOf();return Date.now()-dn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,m.Z)(function*(){var we;if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null==(null===(we=ie._heartbeatsCache)||void 0===we?void 0:we.heartbeats)||0===ie._heartbeatsCache.heartbeats.length)return"";const Se=Qt(),{heartbeatsToSend:Ot,unsentEntries:Xe}=function Kn(re,ie=1024){const we=[];let Se=re.slice();for(const Ot of re){const Xe=we.find(Bt=>Bt.agent===Ot.agent);if(Xe){if(Xe.dates.push(Ot.date),ae(we)>ie){Xe.dates.pop();break}}else if(we.push({agent:Ot.agent,dates:[Ot.date]}),ae(we)>ie){we.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:we,unsentEntries:Se}}(ie._heartbeatsCache.heartbeats),Bt=(0,M.L)(JSON.stringify({version:2,heartbeats:Ot}));return ie._heartbeatsCache.lastSentHeartbeatDate=Se,Xe.length>0?(ie._heartbeatsCache.heartbeats=Xe,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Bt})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class Ee{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,M.hl)()&&(0,M.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,m.Z)(function*(){if(yield ie._canUseIndexedDBPromise){const Se=yield function G(re){return K.apply(this,arguments)}(ie.app);return Se?.heartbeats?Se:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ie){var we=this;return(0,m.Z)(function*(){var Se;if(yield we._canUseIndexedDBPromise){const Xe=yield we.read();return Te(we.app,{lastSentHeartbeatDate:null!==(Se=ie.lastSentHeartbeatDate)&&void 0!==Se?Se:Xe.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var we=this;return(0,m.Z)(function*(){var Se;if(yield we._canUseIndexedDBPromise){const Xe=yield we.read();return Te(we.app,{lastSentHeartbeatDate:null!==(Se=ie.lastSentHeartbeatDate)&&void 0!==Se?Se:Xe.lastSentHeartbeatDate,heartbeats:[...Xe.heartbeats,...ie.heartbeats]})}})()}}function ae(re){return(0,M.L)(JSON.stringify({version:2,heartbeats:re})).length}!function de(re){qn(new se.wA("platform-logger",ie=>new Cn(ie),"PRIVATE")),qn(new se.wA("heartbeat",ie=>new tn(ie),"PRIVATE")),ki(_n,"0.9.24",re),ki(_n,"0.9.24","esm2017"),ki("fire-js","")}("")},4537:($t,ze,B)=>{B.d(ze,{H0:()=>Ce,wA:()=>Be});var m=B(5861),se=B(9058);class Be{constructor(te,ce,Pe){this.name=te,this.instanceFactory=ce,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const M="[DEFAULT]";class Q{constructor(te,ce){this.name=te,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ce=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ce)){const Pe=new se.BH;if(this.instancesDeferred.set(ce,Pe),this.isInitialized(ce)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:ce});tt&&Pe.resolve(tt)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(te){var ce;const Pe=this.normalizeInstanceIdentifier(te?.identifier),tt=null!==(ce=te?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(Qe){if(tt)return null;throw Qe}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function xe(Ve){return"EAGER"===Ve.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:M})}catch{}for(const[ce,Pe]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(ce);try{const Qe=this.getOrInitializeService({instanceIdentifier:tt});Pe.resolve(Qe)}catch{}}}}clearInstance(te=M){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,m.Z)(function*(){const ce=Array.from(te.instances.values());yield Promise.all([...ce.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...ce.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=M){return this.instances.has(te)}getOptions(te=M){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ce={}}=te,Pe=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:Pe,options:ce});for(const[Qe,Je]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(Qe)&&Je.resolve(tt);return tt}onInit(te,ce){var Pe;const tt=this.normalizeInstanceIdentifier(ce),Qe=null!==(Pe=this.onInitCallbacks.get(tt))&&void 0!==Pe?Pe:new Set;Qe.add(te),this.onInitCallbacks.set(tt,Qe);const Je=this.instances.get(tt);return Je&&te(Je,tt),()=>{Qe.delete(te)}}invokeOnInitCallbacks(te,ce){const Pe=this.onInitCallbacks.get(ce);if(Pe)for(const tt of Pe)try{tt(te,ce)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ce={}}){let Pe=this.instances.get(te);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=te,Ve===M?void 0:Ve),options:ce}),this.instances.set(te,Pe),this.instancesOptions.set(te,ce),this.invokeOnInitCallbacks(Pe,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,Pe)}catch{}var Ve;return Pe||null}normalizeInstanceIdentifier(te=M){return this.component?this.component.multipleInstances?te:M:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ce=this.getProvider(te.name);if(ce.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ce.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ce=new Q(te,this);return this.providers.set(te,ce),ce}getProviders(){return Array.from(this.providers.values())}}},7879:($t,ze,B)=>{B.d(ze,{Yd:()=>xe,in:()=>se});const m=[];var se=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(se||{});const Be={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},M=se.INFO,Q={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},fe=(te,ce,...Pe)=>{if(ce<te.logLevel)return;const tt=(new Date).toISOString(),Qe=Q[ce];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Qe](`[${tt}]  ${te.name}:`,...Pe)};class xe{constructor(ce){this.name=ce,this._logLevel=M,this._logHandler=fe,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in se))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?Be[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...ce),this._logHandler(this,se.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...ce),this._logHandler(this,se.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,se.INFO,...ce),this._logHandler(this,se.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,se.WARN,...ce),this._logHandler(this,se.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...ce),this._logHandler(this,se.ERROR,...ce)}}},3182:($t,ze,B)=>{B.d(ze,{C6:()=>m.C6,KN:()=>m.KN,Mq:()=>m.Mq,ZF:()=>m.ZF});var m=B(534);(0,m.KN)("firebase","10.7.0","app")},5861:($t,ze,B)=>{function m(Be,M,Q,fe,xe,Ce,Ve){try{var te=Be[Ce](Ve),ce=te.value}catch(Pe){return void Q(Pe)}te.done?M(ce):Promise.resolve(ce).then(fe,xe)}function se(Be){return function(){var M=this,Q=arguments;return new Promise(function(fe,xe){var Ce=Be.apply(M,Q);function Ve(ce){m(Ce,fe,xe,Ve,te,"next",ce)}function te(ce){m(Ce,fe,xe,Ve,te,"throw",ce)}Ve(void 0)})}}B.d(ze,{Z:()=>se})},7582:($t,ze,B)=>{function M(ue,pe){var he={};for(var be in ue)Object.prototype.hasOwnProperty.call(ue,be)&&pe.indexOf(be)<0&&(he[be]=ue[be]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(be=Object.getOwnPropertySymbols(ue);ve<be.length;ve++)pe.indexOf(be[ve])<0&&Object.prototype.propertyIsEnumerable.call(ue,be[ve])&&(he[be[ve]]=ue[be[ve]])}return he}function Pe(ue,pe,he,be){return new(he||(he=Promise))(function(Ie,Ue){function He(Zt){try{ht(be.next(Zt))}catch(bn){Ue(bn)}}function mt(Zt){try{ht(be.throw(Zt))}catch(bn){Ue(bn)}}function ht(Zt){Zt.done?Ie(Zt.value):function ve(Ie){return Ie instanceof he?Ie:new he(function(Ue){Ue(Ie)})}(Zt.value).then(He,mt)}ht((be=be.apply(ue,pe||[])).next())})}function Le(ue){return this instanceof Le?(this.v=ue,this):new Le(ue)}function Ke(ue,pe,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,be=he.apply(ue,pe||[]),Ie=[];return ve={},Ue("next"),Ue("throw"),Ue("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function Ue(yn){be[yn]&&(ve[yn]=function(Sn){return new Promise(function(Fr,Pn){Ie.push([yn,Sn,Fr,Pn])>1||He(yn,Sn)})})}function He(yn,Sn){try{!function mt(yn){yn.value instanceof Le?Promise.resolve(yn.value.v).then(ht,Zt):bn(Ie[0][2],yn)}(be[yn](Sn))}catch(Fr){bn(Ie[0][3],Fr)}}function ht(yn){He("next",yn)}function Zt(yn){He("throw",yn)}function bn(yn,Sn){yn(Sn),Ie.shift(),Ie.length&&He(Ie[0][0],Ie[0][1])}}function at(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,pe=ue[Symbol.asyncIterator];return pe?pe.call(ue):(ue=function Pt(ue){var pe="function"==typeof Symbol&&Symbol.iterator,he=pe&&ue[pe],be=0;if(he)return he.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&be>=ue.length&&(ue=void 0),{value:ue&&ue[be++],done:!ue}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),he={},be("next"),be("throw"),be("return"),he[Symbol.asyncIterator]=function(){return this},he);function be(Ie){he[Ie]=ue[Ie]&&function(Ue){return new Promise(function(He,mt){!function ve(Ie,Ue,He,mt){Promise.resolve(mt).then(function(ht){Ie({value:ht,done:He})},Ue)}(He,mt,(Ue=ue[Ie](Ue)).done,Ue.value)})}}}B.d(ze,{FC:()=>Ke,KL:()=>at,_T:()=>M,mG:()=>Pe,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},$t=>{$t($t.s=4985)}]);